$OpenBSD: patch-configure,v 1.1.1.1 2009/11/23 00:28:10 fgsch Exp $
--- configure.orig	Mon Nov  9 09:29:10 2009
+++ configure	Sun Nov 22 20:33:29 2009
@@ -3855,13 +3855,13 @@ if test "$ac_test_CFLAGS" = set; then
   CFLAGS=$ac_save_CFLAGS
 elif test $ac_cv_prog_cc_g = yes; then
   if test "$GCC" = yes; then
-    CFLAGS="-g -O2"
+    CFLAGS="-g"
   else
     CFLAGS="-g"
   fi
 else
   if test "$GCC" = yes; then
-    CFLAGS="-O2"
+    CFLAGS=""
   else
     CFLAGS=
   fi
@@ -12116,7 +12116,7 @@ if test "$ac_res" != no; then :
 
 fi
 
-PTHREAD_LIBS="${LIBS}"
+PTHREAD_LIBS="-pthread"
 LIBS="${save_LIBS}"
 
 
@@ -13514,7 +13514,7 @@ fi
 
 if test "$enable_kqueue" = yes; then
 	case $target in
-	*-*-freebsd* | *-*-darwin9* )
+	*-*-freebsd* | *-*-darwin9* | *-*-openbsd*)
 		for ac_func in kqueue
 do :
   ac_fn_c_check_func "$LINENO" "kqueue" "ac_cv_func_kqueue"

$OpenBSD: patch-src_xmms_plugin_c,v 1.1 2003/12/30 02:18:50 espie Exp $
--- src/xmms/plugin.c.orig	2001-01-07 01:53:15.000000000 +0100
+++ src/xmms/plugin.c	2003-12-30 03:13:42.000000000 +0100
@@ -228,7 +228,7 @@ static void init(void)
 	xmp_cfg.filter = TRUE;
 	xmp_cfg.pan_amplitude = 80;
 
-#define CFGREADINT(x) xmms_cfg_read_int (cfg, "XMP", #x, &xmp_cfg.##x)
+#define CFGREADINT(x) xmms_cfg_read_int (cfg, "XMP", #x, &xmp_cfg.x)
 
 	filename = g_strconcat(g_get_home_dir(), "/.xmms/config", NULL);
 	if ((cfg = xmms_cfg_open_file(filename))) {
@@ -558,7 +558,7 @@ static void configure()
 	gtk_object_set_data(GTK_OBJECT(xmp_conf_window), #w, w);	\
 	gtk_widget_show(w);						\
 	gtk_box_pack_start(GTK_BOX(vbox6), w, TRUE, TRUE, 0);		\
-	if (xmp_cfg.##o == 1)						\
+	if (xmp_cfg.o == 1)						\
 		gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(w), TRUE); \
 }
 
@@ -658,7 +658,7 @@ static void config_ok (GtkWidget *widget
 	if (!cfg)
 		cfg = xmms_cfg_new();
 
-#define CFGWRITEINT(x) xmms_cfg_write_int (cfg, "XMP", #x, xmp_cfg.##x)
+#define CFGWRITEINT(x) xmms_cfg_write_int (cfg, "XMP", #x, xmp_cfg.x)
 
 	CFGWRITEINT (mixing_freq);
 	CFGWRITEINT (force8bit);

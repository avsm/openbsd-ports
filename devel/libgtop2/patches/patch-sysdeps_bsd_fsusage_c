$OpenBSD: patch-sysdeps_bsd_fsusage_c,v 1.2 2008/03/17 08:38:32 ajacoutot Exp $
--- sysdeps/bsd/fsusage.c.orig	Thu Sep 27 22:34:55 2007
+++ sysdeps/bsd/fsusage.c	Sun Mar 16 21:39:03 2008
@@ -1,7 +1,7 @@
 #include <config.h>
 
 /* Although FreeBSD ships with statvfs it seems incomplete, so prefer statfs */
-#if defined (__FreeBSD__) || defined (__FreeBSD_kernel__)
+#if defined (__FreeBSD__) || defined (__FreeBSD_kernel__) || defined (__OpenBSD__)
 #undef HAVE_SYS_STATVFS_H
 #undef STAT_STATVFS
 #endif
@@ -53,9 +53,7 @@ _glibtop_bsd_get_fsusage_read_write(glibtop *server,
 		return;
 	}
 
-#if !defined(__OpenBSD__)
 	buf->read = sfs.f_syncreads + sfs.f_asyncreads;
-#endif
 	buf->write = sfs.f_syncwrites + sfs.f_asyncwrites;
 	buf->flags |= (1 << GLIBTOP_FSUSAGE_READ) | (1 << GLIBTOP_FSUSAGE_WRITE);
 }

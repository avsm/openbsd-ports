$OpenBSD: patch-src_connections_c,v 1.10 2009/11/08 13:16:40 sthen Exp $
--- src/connections.c.orig	Mon Oct 19 08:15:24 2009
+++ src/connections.c	Sat Nov  7 19:58:41 2009
@@ -807,6 +807,9 @@ int connection_reset(server *srv, connection *con) {
 	CLEAN(authed_user);
 	CLEAN(server_name);
 	CLEAN(error_handler);
+#if defined USE_OPENSSL && ! defined OPENSSL_NO_TLSEXT
+	CLEAN(tlsext_server_name);
+#endif
 #undef CLEAN
 
 #define CLEAN(x) \
@@ -1250,8 +1253,10 @@ static handler_t connection_handle_fdevent(void *s, vo
 
 		if (b > 0) {
 			char buf[1024];
+#if 0
 			log_error_write(srv, __FILE__, __LINE__, "sdd",
 					"CLOSE-read()", con->fd, b);
+#endif
 
 			/* */
 			read(con->fd, buf, sizeof(buf));
@@ -1621,8 +1626,10 @@ int connection_state_machine(server *srv, connection *
 			}
 			if (b > 0) {
 				char buf[1024];
+#if 0
 				log_error_write(srv, __FILE__, __LINE__, "sdd",
 						"CLOSE-read()", con->fd, b);
+#endif
 
 				/* */
 				read(con->fd, buf, sizeof(buf));

$OpenBSD: patch-glib_gconvert_c,v 1.2 2005/05/24 21:26:17 marcm Exp $
--- glib/gconvert.c.orig	Mon Apr  4 20:57:16 2005
+++ glib/gconvert.c	Sat Apr 16 19:13:32 2005
@@ -339,10 +339,12 @@ open_converter (const gchar *to_codeset,
   struct _iconv_cache_bucket *bucket;
   gchar *key;
   GIConv cd;
+  size_t l;
+  l = strlen (from_codeset) + strlen (to_codeset) + 2;
   
   /* create our key */
-  key = g_alloca (strlen (from_codeset) + strlen (to_codeset) + 2);
-  _g_sprintf (key, "%s:%s", from_codeset, to_codeset);
+  key = g_alloca (l);
+  _g_snprintf (key, l, "%s:%s", from_codeset, to_codeset);
   
   G_LOCK (iconv_cache_lock);
   

$OpenBSD: patch-src_irc_c,v 1.1 2001/08/27 14:18:07 todd Exp $
--- src/irc.c.orig	Thu Jun  7 02:02:57 2001
+++ src/irc.c	Fri Aug 10 11:39:42 2001
@@ -182,7 +182,7 @@ void irc_parse (eb_local_account * ela, 
 		if (ea)
 		{
 			ia = (irc_account *)ea->protocol_account_data;
-			if (ia->status == IRC_OFFLINE)
+			if (ia->status != IRC_ONLINE)
 			{
 				buddy_login(ea);
 				ia->status = IRC_ONLINE;
@@ -452,6 +452,8 @@ void irc_ask_after_users ( eb_local_acco
 	{
 		ea = (eb_account *)(node->data);
 		ia = (irc_account *)ea->protocol_account_data;
+
+		fprintf(stderr, "irc: Checking: %s\n",ea->handle);
 		
 		nick = strdup(ea->handle);
 		alpha = index(nick, '@');
@@ -493,6 +495,8 @@ void irc_login( eb_local_account * accou
 	int i;
 
 	/* Setup and connect */
+
+	fprintf(stderr, "irc: %s:%s\n",ila->server,ila->port);
 
 	host = gethostbyname(ila->server);
 	if (!host) { fprintf(stderr, "irc: gethostbyname() failed\n"); return; }

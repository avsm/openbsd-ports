--- Makefile.orig	Wed Feb 24 01:55:34 1999
+++ Makefile	Wed Feb 24 01:57:58 1999
@@ -2,7 +2,7 @@
 # Please read docs/Readme.html, or http://www.statslab.cam.ac.uk/~sret1/analog/
 CC = gcc           # which compiler to use: eg cc, acc, gcc. NB Different
 #                    compilers need different CFLAGS, e.g., -O instead of -O2.
-CFLAGS = -O2       # options, e.g. for optimisation or ANSI compilation.
+#CFLAGS = -O2 ${CFLAGS}      # options, e.g. for optimisation or ANSI compilation.
 #                    HP/UX cc needs -Aa (HP/UX 9) or -Ae (HP/UX 10)
 #                    Some Linuces might need -I/usr/src/linux/include
 DEFS =             # any of -DNOPIPES -DNODNS -DNODIRENT -DNOSTRCMP -DEBCDIC
@@ -28,13 +28,15 @@
 FORMPROG = anlgform.cgi     # The program that processes the data from the form
 FORMSRC = anlgform.c        # The source code for that program
 
-$(PROGRAM): $(OBJS) $(HEADERS) Makefile
+all:	$(FORMPROG) $(PROGRAM)
+
+$(PROGRAM): $(OBJS) $(HEADERS)
 	$(CC) $(CFLAGS) $(OBJS) -o $(PROGRAM) $(LIBS)
 	@echo '***'
 	@echo '***IMPORTANT: You must read the licence before using analog'
 	@echo '***'
 
-$(OBJS): $(HEADERS) Makefile
+$(OBJS): $(HEADERS) 
 	$(CC) $(CFLAGS) $(DEFS) -D$(OS) -c $*.c
 
 $(FORMPROG): $(FORMSRC) Makefile

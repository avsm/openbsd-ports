$OpenBSD: patch-src_devices_fakevideoinput_cpp,v 1.1.1.1 2008/05/21 14:15:29 ajacoutot Exp $
--- src/devices/fakevideoinput.cpp.orig	Mon Apr 28 17:36:34 2008
+++ src/devices/fakevideoinput.cpp	Mon Apr 28 17:37:05 2008
@@ -333,28 +333,6 @@ PVideoInputDevice_Picture::GetMaxFrameBytes ()
 void
 PVideoInputDevice_Picture::WaitFinishPreviousFrame ()
 {
-  if (frameTimeError == 0) {
-
-    frameTimeError += msBetweenFrames;
-    return;
-  }
-
-  PTime now;
-  PTimeInterval delay = now - previousFrameTime;
-  frameTimeError += msBetweenFrames;
-  frameTimeError -= (int) delay.GetMilliSeconds();
-  frameTimeError += 1000 / frameRate;
-
-  previousFrameTime = now;
-
-  if (frameTimeError > 0) {
-    PTRACE(6, "FakeVideo\t Sleep for " << frameTimeError << " milli seconds");
-#ifdef P_LINUX
-    usleep(frameTimeError * 1000);
-#else
-    PThread::Current()->Sleep(frameTimeError);
-#endif
-  }
 }
 
 

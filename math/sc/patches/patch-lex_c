$OpenBSD: patch-lex_c,v 1.5 2011/06/25 15:33:33 jasper Exp $
--- lex.c.orig	Wed Aug 21 00:44:26 2002
+++ lex.c	Sat Jun 25 17:31:00 2011
@@ -107,7 +107,7 @@ int
 yylex()
 {
     char *p = line + linelim;
-    int ret;
+    int ret = 0;
     static int isfunc = 0;
     static bool isgoto = 0;
     static bool colstate = 0;
@@ -642,7 +642,7 @@ nmgetch() 
 
 #endif
 
-#if defined(SYSV2) || defined(SYSV3) || defined(MSDOS)
+#if defined(SYSV2) || defined(SYSV3) || defined(MSDOS) || defined(NCURSES_VERSION)
 
 void
 initkbd()

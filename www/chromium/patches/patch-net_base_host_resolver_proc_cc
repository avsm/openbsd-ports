$OpenBSD: patch-net_base_host_resolver_proc_cc,v 1.2 2011/02/08 09:43:02 espie Exp $
--- net/base/host_resolver_proc.cc.orig	Fri Jan 21 09:22:06 2011
+++ net/base/host_resolver_proc.cc	Fri Jan 21 09:24:19 2011
@@ -6,6 +6,12 @@
 
 #include "build/build_config.h"
 
+#if defined(OS_OPENBSD)
+#include <sys/types.h>
+#include <sys/socket.h>
+#include <netinet/in.h>
+#endif
+
 #if defined(OS_POSIX) && !defined(OS_MACOSX)
 #include <resolv.h>
 #endif
@@ -180,6 +186,7 @@ int SystemHostResolverProc(const std::string& host,
   //
   // OpenBSD does not support it, either.
   hints.ai_flags = 0;
+#define AI_ADDRCONFIG 0
 #else
   hints.ai_flags = AI_ADDRCONFIG;
 #endif

$OpenBSD: patch-src_cpus_memory_ppc_c,v 1.2 2005/12/20 18:57:41 pvalchev Exp $
--- src/cpus/memory_ppc.c.orig	Tue Nov 22 14:56:18 2005
+++ src/cpus/memory_ppc.c	Tue Dec 20 11:31:56 2005
@@ -44,7 +44,7 @@
 int ppc_bat(struct cpu *cpu, uint64_t vaddr, uint64_t *return_addr, int flags,
 	int user)
 {
-	int i, pp, regnr;
+	int i, pp;
 
 	if (cpu->cd.ppc.bits != 32) {
 		fatal("TODO: ppc_bat() for non-32-bit\n");
@@ -57,7 +57,7 @@ int ppc_bat(struct cpu *cpu, uint64_t va
 
 	/*  4 instruction BATs, 4 data BATs...  */
 	for (i=0; i<8; i++) {
-		regnr = SPR_IBAT0U + i * 2;
+		int regnr = SPR_IBAT0U + i * 2;
 		uint32_t upper = cpu->cd.ppc.spr[regnr];
 		uint32_t lower = cpu->cd.ppc.spr[regnr + 1];
 		uint32_t phys = lower & BAT_RPN, ebs = upper & BAT_EPI;

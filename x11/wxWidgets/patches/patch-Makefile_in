$OpenBSD: patch-Makefile_in,v 1.1.1.1 2004/07/16 21:01:35 todd Exp $
--- Makefile.in.orig	Sun Dec 22 21:58:54 2002
+++ Makefile.in	Tue Feb 25 16:00:59 2003
@@ -383,7 +383,7 @@ CREATE_INSTALLED_LINKS_GL: preinstall_gl
 		&& $(LN_S) @WX_LIBRARY_NAME_SHARED_GL@ @WX_LIBRARY_LINK1_GL@ \
 		&& $(LN_S) @WX_LIBRARY_NAME_SHARED_GL@ @WX_LIBRARY_LINK2_GL@
 
-afminstall: preinstall
+afminstall:
 	@if test ! -d $(datadir); then $(INSTALL) -d $(datadir); fi
 	$(INSTALL) -d $(datadir)/wx
 	$(INSTALL) -d $(datadir)/wx/$(VER_MAJMIN)
@@ -392,11 +392,11 @@ afminstall: preinstall
 	$(INSTALL_DATA) $(top_srcdir)/misc/afm/*.afm $(datadir)/wx/$(VER_MAJMIN)/afm
 	$(INSTALL_DATA) $(top_srcdir)/misc/gs_afm/*.afm $(datadir)/wx/$(VER_MAJMIN)/gs_afm
 
-m4datainstall: preinstall
+m4datainstall:
 	$(INSTALL) -d $(datadir)/aclocal
 	$(INSTALL_DATA) $(top_srcdir)/wxwin.m4 $(datadir)/aclocal
 
-win32install: preinstall
+win32install:
 	$(INSTALL) -d $(includedir)/wx/msw
 	$(INSTALL) -d $(includedir)/wx/msw/gnuwin32
 	$(INSTALL) -d $(includedir)/wx/msw/gnuwin32/gl
@@ -408,8 +408,7 @@ win32install: preinstall
 	$(INSTALL_DATA) $(top_srcdir)/include/wx/msw/gnuwin32/*.h $(includedir)/wx/msw/gnuwin32
 	$(INSTALL_DATA) $(top_srcdir)/include/wx/msw/gnuwin32/gl/*.h $(includedir)/wx/msw/gnuwin32/gl
 
-# this is the real install target: copies the library, wx-config and the
-# headers to the installation directory
+# this is the real install target: copies the library, wx-config to the installation directory
 preinstall: $(build_libdir)/@WX_TARGET_LIBRARY@ $(top_builddir)/wx@TOOLCHAIN_NAME@-config
 	@echo " "
 	@echo " Installing wxWindows..."
@@ -433,6 +432,7 @@ preinstall: $(build_libdir)/@WX_TARGET_L
 	$(INSTALL_DATA) $(build_libdir)/wx/include/@TOOLCHAIN_NAME@/wx/setup.h \
                     $(libdir)/wx/include/@TOOLCHAIN_NAME@/wx/setup.h
 
+install_headers:
 	$(INSTALL) -d $(includedir)/wx
 	@# FIXME: This will erroneously install a wx/base dir for wxBase..
 	@if test "$(USE_GUI)" = 1; then $(INSTALL) -d $(includedir)/wx/@TOOLKIT_DIR@; fi
@@ -451,6 +451,7 @@ preinstall: $(build_libdir)/@WX_TARGET_L
 	  echo "$(INSTALL_DATA) $(top_srcdir)/include/wx/$$p $(includedir)/wx/$$p"; \
 	done
 
+install_locale:
 	@if test ! -d $(localedir); then $(INSTALL) -d $(localedir); fi
 	@for p in $(WX_LINGUAS); do \
 	  if test ! -d $(localedir)/$$p; then $(INSTALL) -d $(localedir)/$$p; fi;\
@@ -474,7 +475,9 @@ preinstall_gl: $(build_libdir)/@WX_TARGE
 	@if test ! -d $(libdir); then $(INSTALL) -d $(libdir); fi
 	@INSTALL_LIBRARY@ $(build_libdir)/@WX_TARGET_LIBRARY_GL@ $(libdir)/@WX_TARGET_LIBRARY_GL@
 
-install: @AFMINSTALL@ @WX_ALL_INSTALLED@ m4datainstall @WIN32INSTALL@
+install_common:	install_headers install_locale @AFMINSTALL@ m4datainstall
+
+install: preinstall install_headers install_locale @AFMINSTALL@ @WX_ALL_INSTALLED@ m4datainstall @WIN32INSTALL@
 	@echo " "
 	@echo " The installation of wxWindows is finished.  On certain"
 	@echo " platforms (e.g. Linux) you'll now have to run ldconfig"

$OpenBSD: patch-j2sdk1_3_1_src_share_classes_sun_awt_image_GifImageDecoder_java,v 1.2 2007/07/18 14:19:27 kurt Exp $
--- j2sdk1.3.1/src/share/classes/sun/awt/image/GifImageDecoder.java.orig	Sun May  6 08:08:27 2001
+++ j2sdk1.3.1/src/share/classes/sun/awt/image/GifImageDecoder.java	Wed Jul 18 09:36:14 2007
@@ -499,6 +499,14 @@ public class GifImageDecoder extends ImageDecoder {
 	int y = ExtractWord(block, 2);
 	int width = ExtractWord(block, 4);
 	int height = ExtractWord(block, 6);
+
+	if (width == 0 && global_width != 0) {
+	    width = global_width - x;
+	}
+	if (height == 0 && global_height != 0) {
+	    height = global_height - y;
+	}
+
 	boolean interlace = (block[8] & INTERLACEMASK) != 0;
 
 	IndexColorModel model = global_model;

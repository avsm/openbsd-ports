$OpenBSD: patch-configure,v 1.6 2009/02/11 15:20:19 ajacoutot Exp $
--- configure.orig	Thu Apr 10 12:38:54 2008
+++ configure	Tue Feb 10 16:34:10 2009
@@ -23474,7 +23474,6 @@ fi
 
 
 case $host_cpu in
-x86_64* | sparc64*) lib="lib64";;
 *) lib="lib";;
 esac
 
@@ -24123,7 +24122,7 @@ then
 echo $ECHO_N "checking for freetds files... $ECHO_C" >&6; }
 	for d in $dir /usr/local/freetds /usr /opt/freetds /opt/packages/freetds /opt/freetds-0.50
 	do
-		if test -f "$d/include/tds.h" -a -e "$d/$lib/libtds$libext" -a -f "$d/include/tdsver.h"
+		if [ -f "$d/include/tds.h" ] && [ -f "$d/include/tdsver.h" ]
 		then
 			{ echo "$as_me:$LINENO: result: found freetds in $d" >&5
 echo "${ECHO_T}found freetds in $d" >&6; }
@@ -24146,7 +24145,7 @@ echo "$as_me: WARNING: tds backend not used" >&2;}
 	else
 		{ echo "$as_me:$LINENO: checking for freetds version" >&5
 echo $ECHO_N "checking for freetds version... $ECHO_C" >&6; }
-		freetdsvercheck="`grep \"^#define \(VERSION_NO \|TDS_VERSION_NO \)\" $freetds_incdir/tdsver.h|sed 's|^.*".*v\(.*\)"|\1|'`"
+		freetdsvercheck="`grep "#define TDS_VERSION_NO" $freetds_incdir/tdsver.h|sed 's|^.*".*v\(.*\)"|\1|'`"
 		if test "x$freetdsvercheck" = "x"
 		then
 			{ echo "$as_me:$LINENO: WARNING: freetds version check failed - backend not used" >&5
@@ -24970,7 +24969,7 @@ then
         microvers=`sqlite3 -version | cut -d '.' -f 3`
         { echo "$as_me:$LINENO: checking for sqlite version" >&5
 echo $ECHO_N "checking for sqlite version... $ECHO_C" >&6; }
-        if test $microvers -lt 100
+        if test $microvers -lt 10
         then
                 { echo "$as_me:$LINENO: result: Version $realvers of SQLite does not implement required pragmas" >&5
 echo "${ECHO_T}Version $realvers of SQLite does not implement required pragmas" >&6; }

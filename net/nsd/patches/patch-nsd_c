$OpenBSD: patch-nsd_c,v 1.4 2003/02/25 17:46:39 brad Exp $
Index: nsd.c
===================================================================
RCS file: /cvs/nsd/nsd.c,v
retrieving revision 1.56.2.10
diff -u -r1.56.2.10 nsd.c
--- nsd.c	17 Dec 2002 14:42:06 -0000	1.56.2.10
+++ nsd.c	12 Feb 2003 09:19:50 -0000
@@ -159,6 +159,7 @@
 	signal(SIGINT, &sig_handler);
 	signal(SIGILL, &sig_handler);
 	signal(SIGALRM, &sig_handler);
+	signal(SIGPIPE, SIG_IGN);
 
 
 	/* Are we a tcp child? */
@@ -566,6 +567,8 @@
 	signal(SIGINT, &sig_handler);
 	signal(SIGILL, &sig_handler);
 	signal(SIGALRM, &sig_handler);
+	signal(SIGPIPE, SIG_IGN);
+
 
 	/* Get our process id */
 	nsd.pid[0] = getpid();


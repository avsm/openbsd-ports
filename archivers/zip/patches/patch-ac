*** zip.c.orig	Tue Nov 25 16:22:01 1997
--- zip.c	Tue Nov 25 16:23:08 1997
***************
*** 1519,1531 ****
        return 0;
  #endif
      }
!     if ((tempzip = tempname(zipfile)) == NULL) {
        ziperr(ZE_MEM, "allocating temp filename");
  #ifdef WIZZIPDLL
        return 0;
  #endif
      }
!     if ((tempzf = y = fopen(tempzip, FOPW)) == NULL) {
        ziperr(ZE_TEMP, tempzip);
  #ifdef WIZZIPDLL
        return 0;
--- 1519,1531 ----
        return 0;
  #endif
      }
!     if ((tempzip = tempname(zipfile, y)) == NULL) {
        ziperr(ZE_MEM, "allocating temp filename");
  #ifdef WIZZIPDLL
        return 0;
  #endif
      }
!     if ((tempzf = y) == NULL) {
        ziperr(ZE_TEMP, tempzip);
  #ifdef WIZZIPDLL
        return 0;

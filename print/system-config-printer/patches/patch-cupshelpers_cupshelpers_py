$OpenBSD: patch-cupshelpers_cupshelpers_py,v 1.5 2011/05/04 09:10:52 ajacoutot Exp $
--- cupshelpers/cupshelpers.py.orig	Wed Mar 16 17:44:41 2011
+++ cupshelpers/cupshelpers.py	Wed May  4 10:04:38 2011
@@ -699,7 +699,7 @@ def missingPackagesAndExecutables(ppd):
 
     # First, a local function.  How to check that something exists
     # in a path:
-    def pathcheck (name, path="/usr/bin:/bin"):
+    def pathcheck (name, path="/usr/bin:/bin:${PREFIX}/bin:${LOCALBASE}/bin"):
         if name == "-":
             # A filter of "-" means that no filter is required,
             # i.e. the device accepts the given format as-is.
@@ -801,8 +801,7 @@ def missingPackagesAndExecutables(ppd):
                     continue
 
                 exepath = pathcheck (exe,
-                                     "/usr/lib/cups/filter:"
-                                     "/usr/lib64/cups/filter")
+                                     "${PREFIX}/libexec/cups/filter")
 
     if exe and not exepath:
         # We didn't find a necessary executable.  Complain.

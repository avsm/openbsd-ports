$OpenBSD: patch-cscbench_scm,v 1.1 2007/01/01 17:56:39 deanna Exp $
--- cscbench.scm.orig	Tue Dec 12 19:38:19 2006
+++ cscbench.scm	Tue Dec 12 19:38:38 2006
@@ -19,7 +19,7 @@
       (let loop ([line (read-line)])
 	(if (eof-object? line) 
 	    (abort-run)
-	    (let ([m (string-match " *([-+e0-9]*(\\.[0-9]*)?) seconds elapsed" line)])
+	    (let ([m (string-match " *([-.+e0-9]*(\\.[0-9]*)?) seconds elapsed" line)])
 	      (if m
 		  (string->number (second m)) 
 		  (loop (read-line)) ) ) ) ) ) ) )
@@ -35,12 +35,10 @@
     (display (substring str 0 (min slen len))) ) )
 
 (define (display-f-4.3 n)
-  (let* ([m (string-match "([0-9]*)(\\.([0-9]*))?" (number->string n))]
+  (let* ([m (string-match "([-.+e0-9]*)(\\.([0-9]*))?" (number->string n))]
 	 [is (second m)]
 	 [fs (or (fourth m) "0")] )
-    (display-r is 4 #\space)
-    (display #\.)
-    (display-r fs 3 #\0) ) )
+    (display-r is 8 #\space) ) )
 
 (define (compile-and-run file extras decls options coptions unsafe)
   (system* "~A ~A -quiet -no-warnings -heap-size 8m -output-file tmpfile.c ~A ~A ~A" chicken file extras decls options)

$OpenBSD: patch-minimo_chrome_content_minimo_js,v 1.6 2007/08/08 17:34:41 martynas Exp $
--- minimo/chrome/content/minimo.js.orig	Fri May 25 00:23:25 2007
+++ minimo/chrome/content/minimo.js	Sun Aug  5 15:56:18 2007
@@ -400,10 +400,6 @@ function MiniNavStartup()
       gPref = Components.classes["@mozilla.org/preferences-service;1"]
         .getService(nsIPrefBranch);
       var page = null;
-      try {
-        page = gPref.getCharPref("browser.startup.homepage.override");
-      } 
-      catch(e) {page=null;}
 
       try {
         gBackGroundColor = gPref.getCharPref("ui.chromebackgroundcolor");
@@ -413,8 +409,6 @@ function MiniNavStartup()
       if (page == null)
         page = gPref.getCharPref("browser.startup.homepage");
 
-      gPref.clearUserPref("browser.startup.homepage.override");
-
       if ( page.split("|").length > 1 ) {
            homepages = page.split("|");
       } else {
@@ -1685,7 +1679,8 @@ function FullScreenToggle()
 
 function DoFullScreen(fullscreen)
 {
-  document.getElementById("nav-bar").hidden = fullscreen;
+  // Do not hide the nav-bar in full screen mode.
+  // document.getElementById("nav-bar").hidden = fullscreen;
 
   // Show a Quit in the context menu
   document.getElementById("context_menu_quit").hidden = !fullscreen;
@@ -2331,7 +2326,7 @@ function BrowserFileOpen() {
   fp.init(window, null, nsIFilePicker.modeOpenMultiple);
 
   var fileCustomDirFile= refLocalFile.QueryInterface(nsILocalFile);
-  fileCustomDirFile.initWithPath("\\");
+  fileCustomDirFile.initWithPath("/");
   fp.displayDirectory = fileCustomDirFile;
 
   fp.appendFilters(nsIFilePicker.filterAll);

$OpenBSD: patch-media_liboggplay_src_liboggplay_std_semaphore_h,v 1.2 2009/07/21 11:58:54 martynas Exp $
--- media/liboggplay/src/liboggplay/std_semaphore.h.orig	Wed Jul 15 18:35:02 2009
+++ media/liboggplay/src/liboggplay/std_semaphore.h	Tue Jul 21 14:55:39 2009
@@ -74,9 +74,9 @@
  * @retval non-zero on error 
  */
 
-#if defined(linux) || defined(SOLARIS)
+#if defined(linux) || defined(SOLARIS) || defined(__OpenBSD__)
 #include <semaphore.h>
-#define SEM_CREATE(p,s) sem_init(&(p), 1, s)
+#define SEM_CREATE(p,s) sem_init(&(p), 0, s)
 #define SEM_SIGNAL(p)   sem_post(&(p))
 #define SEM_WAIT(p)     sem_wait(&(p))
 #define SEM_CLOSE(p)    sem_destroy(&(p))

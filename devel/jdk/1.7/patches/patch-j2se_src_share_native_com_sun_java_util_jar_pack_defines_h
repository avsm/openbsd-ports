$OpenBSD: patch-j2se_src_share_native_com_sun_java_util_jar_pack_defines_h,v 1.1 2007/09/06 15:46:19 kurt Exp $
--- j2se/src/share/native/com/sun/java/util/jar/pack/defines.h.orig	Thu Jul  5 05:02:59 2007
+++ j2se/src/share/native/com/sun/java/util/jar/pack/defines.h	Fri Jul 27 18:24:34 2007
@@ -32,6 +32,10 @@
 #include <unistd.h>
 #endif
 
+#ifndef NO_ZLIB
+#      include <zconf.h>
+#endif
+
 #ifndef FULL
 #define FULL 1 /* Adds <500 bytes to the zipped final product. */
 #endif
@@ -87,11 +91,14 @@ extern void assert_failed(const char*);
 // bytes and byte arrays
 
 typedef unsigned int uint;
+#ifdef NO_ZLIB
 #ifdef _LP64
 typedef unsigned int uLong; // Historical zlib, should be 32-bit.
 #else
 typedef unsigned long uLong;
 #endif
+#endif
+
 #ifdef _MSC_VER 
 typedef LONGLONG 	jlong;
 typedef DWORDLONG 	julong;

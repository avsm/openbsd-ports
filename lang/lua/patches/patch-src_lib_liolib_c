$OpenBSD: patch-src_lib_liolib_c,v 1.2 2006/06/27 03:43:19 pedro Exp $
--- src/lib/liolib.c.orig	Tue Jun 27 00:34:01 2006
+++ src/lib/liolib.c	Tue Jun 27 00:34:58 2006
@@ -189,9 +189,9 @@ static int io_tostring (lua_State *L) {
   char buff[128];
   FileHandle *fh = topfile(L, 1);
   if (fh->f == NULL)
-    strcpy(buff, "closed");
+    strlcpy(buff, "closed", sizeof(buff));
   else
-    sprintf(buff, "%p", lua_touserdata(L, 1));
+    snprintf(buff, sizeof(buff), "%p", lua_touserdata(L, 1));
   lua_pushfstring(L, "file (%s)", buff);
   return 1;
 }

$OpenBSD: patch-olimex_c,v 1.2 2010/12/02 11:40:53 jasper Exp $
--- olimex.c.orig	Wed Aug  4 04:08:43 2010
+++ olimex.c	Thu Aug 12 13:04:12 2010
@@ -65,7 +65,7 @@ struct olimex_transport {
 static int open_interface(struct olimex_transport *tr,
 			  struct usb_device *dev, int ino)
 {
-#if !(defined (__APPLE__) || defined(WIN32))
+#if defined(__linux__)
 	int drv;
 	char drName[256];
 #endif
@@ -81,7 +81,7 @@ static int open_interface(struct olimex_transport *tr,
 		return -1;
 	}
 
-#if !(defined(__APPLE__) || defined(WIN32))
+#if defined(__linux__)
 	drv = usb_get_driver_np(tr->handle, tr->int_number, drName,
 				sizeof(drName));
 	printf(__FILE__" : driver %d\n", drv);

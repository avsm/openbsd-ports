# $OpenBSD: Makefile,v 1.18 2006/01/22 23:21:46 sturm Exp $

COMMENT=	"Scheme interpreter with Tk interface"

STK_VERSION=	4.0.1
STK_ARCH=	$(OPSYS)-$(OPSYS_VER)-$(MACHINE)
DISTNAME=       STk-${STK_VERSION}
PKGNAME=	${DISTNAME}p0
CATEGORIES=	lang

MASTER_SITES=	ftp://kaolin.unice.fr/pub/STk/

PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
WANTLIB=	c SM X11 m ICE

USE_X11=	Yes

CONFIGURE_STYLE=gnu

FAKE_FLAGS=	root=${DESTDIR}

NO_REGRESS=	Yes
SUBST_VARS=	STK_VERSION STK_ARCH

.include <bsd.port.mk>

.if defined(NO_SHARED_LIBS) && ${NO_SHARED_LIBS:L} == "yes"
CONFIGURE_ARGS+=	--disable-dynload
.endif

$OpenBSD: patch-lib_rubygems_dependency_installer_rb,v 1.2 2008/06/17 22:42:59 bernd Exp $

This is for GEM_SKIPDEPENDS in ruby.port.mk.

--- lib/rubygems/dependency_installer.rb.orig	Sat Apr 19 14:49:10 2008
+++ lib/rubygems/dependency_installer.rb	Sat Apr 19 14:50:57 2008
@@ -18,7 +18,8 @@ class Gem::DependencyInstaller
     :format_executable => false, # HACK dup
     :ignore_dependencies => false,
     :security_policy => nil, # HACK NoSecurity requires OpenSSL.  AlmostNo? Low?
-    :wrappers => true
+    :wrappers => true,
+    :skip_dependencies => false
   }
 
   ##
@@ -46,6 +47,7 @@ class Gem::DependencyInstaller
     @security_policy = options[:security_policy]
     @wrappers = options[:wrappers]
     @bin_dir = options[:bin_dir]
+    @skip_dependencies = options[:skip_dependencies]
 
     @installed_gems = []
   end
@@ -205,7 +207,8 @@ class Gem::DependencyInstaller
                                 :install_dir => @install_dir,
                                 :security_policy => @security_policy,
                                 :wrappers => @wrappers,
-                                :bin_dir => @bin_dir
+                                :bin_dir => @bin_dir,
+                                :skip_dependencies => @skip_dependencies
 
       spec = inst.install
 

$OpenBSD: patch-gnome-panel_panel-logout_c,v 1.1 2008/05/20 11:08:14 jasper Exp $
--- gnome-panel/panel-logout.c.orig	Tue May 20 10:37:13 2008
+++ gnome-panel/panel-logout.c	Tue May 20 10:39:05 2008
@@ -42,7 +42,9 @@
 
 enum {
 	PANEL_LOGOUT_RESPONSE_LOGOUT,
+#ifndef __OpenBSD__
 	PANEL_LOGOUT_RESPONSE_SWITCH_USER,
+#endif /* __OpenBSD__ */
 	PANEL_LOGOUT_RESPONSE_SHUTDOWN,
 	PANEL_LOGOUT_RESPONSE_REBOOT,
 	PANEL_LOGOUT_RESPONSE_STD,
@@ -180,9 +182,11 @@ panel_logout_response (PanelLogoutDialog *logout_dialo
 		gdm_set_logout_action (GDM_LOGOUT_ACTION_NONE);
 		panel_session_request_logout ();
 		break;
+#ifndef __OpenBSD__
 	case PANEL_LOGOUT_RESPONSE_SWITCH_USER:
 		gdm_new_login ();
 		break;
+#endif /* __OpenBSD__ */
 	case PANEL_LOGOUT_RESPONSE_SHUTDOWN:
 		gdm_set_logout_action (GDM_LOGOUT_ACTION_SHUTDOWN);
 		panel_session_request_logout ();
@@ -331,10 +335,12 @@ panel_logout_new (PanelLogoutDialogType  type,
 		// FIXME need to verify that this response can be used
 		logout_dialog->priv->default_response = PANEL_LOGOUT_DIALOG_LOGOUT;
 
+#ifndef __OpenBSD__
 		//FIXME is gdm running?
 		gtk_dialog_add_button (GTK_DIALOG (logout_dialog),
 				       _("_Switch User"),
 				       PANEL_LOGOUT_RESPONSE_SWITCH_USER);
+#endif /* __OpenBSD__ */
 		gtk_dialog_add_button (GTK_DIALOG (logout_dialog),
 				       GTK_STOCK_CANCEL,
 				       GTK_RESPONSE_CANCEL);

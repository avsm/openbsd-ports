--- vfs/tar.c.orig	Sun Jan 16 01:27:50 2000
+++ vfs/tar.c	Sun Jan 16 01:28:27 2000
@@ -345,7 +345,7 @@ static INLINE int uncompress_tar_file  (
     char buffer [8192];	/* Changed to 8K: better transfer size */
     
     current_archive->is_gzipped = tar_uncompressed_local;
-    current_archive->tmpname = strdup (tmpnam (NULL));
+    current_archive->tmpname = strdup (mkstemp (NULL));
     
     /* Some security is sometimes neccessary :) */        
     command = copy_strings ("touch ", current_archive->tmpname,

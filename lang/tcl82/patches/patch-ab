--- configure.orig	Wed Jan  5 21:33:45 2000
+++ configure	Thu Jan  6 01:26:08 2000
@@ -4922,16 +4922,21 @@
 fi
 if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
   echo "$ac_t""yes" 1>&6
-  
-		SHLIB_CFLAGS="-fpic"
-		SHLIB_LD="ld -Bshareable -x"
+
+		case `machine` in
+		sparc)
+		    SHLIB_CFLAGS="-fPIC";;
+		*)
+		    SHLIB_CFLAGS="-fpic";;
+		esac
+		SHLIB_LD="ld -Bshareable -Bforcearchive -x"
 		SHLIB_LD_LIBS=""
 		SHLIB_SUFFIX=".so"
 		DL_OBJS="tclLoadDl.o"
 		DL_LIBS=""
 		LDFLAGS=""
 		LD_SEARCH_FLAGS=""
-		SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}\$\{DBGX\}.so.1.0'
+		SHARED_LIB_SUFFIX='${TCL_TRIM_DOTS}\$\{DBGX\}.so.1.3'
 	    
 else
   echo "$ac_t""no" 1>&6

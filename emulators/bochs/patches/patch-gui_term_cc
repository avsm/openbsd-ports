$OpenBSD: patch-gui_term_cc,v 1.3 2002/12/28 06:20:20 todd Exp $
--- gui/term.cc.orig	Fri Dec 27 22:24:46 2002
+++ gui/term.cc	Fri Dec 27 22:43:22 2002
@@ -114,7 +114,8 @@ bx_term_gui_c::get_sighandler_mask ()
 #ifdef SIGTSTP
     | (1<<SIGTSTP)
 #endif
-    | (1<<SIGTERM);
+    | (1<<SIGTERM)
+    | (1<<SIGUSR1);
 }
 
 void
@@ -134,6 +135,10 @@ bx_term_gui_c::sighandler(int signo)
 		do_scan(BX_KEY_Z,0,1,0);
 		break;
 #endif
+	case SIGUSR1:
+    		LOG_THIS floppyA_status = !LOG_THIS floppyA_status;
+    		DEV_floppy_set_media_status(0, LOG_THIS floppyA_status);
+		break;
 	default:
 		BX_INFO(("sig %d caught",signo));
 		break;

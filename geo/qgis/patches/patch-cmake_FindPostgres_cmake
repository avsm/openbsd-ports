$OpenBSD: patch-cmake_FindPostgres_cmake,v 1.2 2010/01/11 20:13:31 landry Exp $
--- cmake/FindPostgres.cmake.orig	Sun Sep 13 12:49:37 2009
+++ cmake/FindPostgres.cmake	Mon Jan 11 16:43:26 2010
@@ -50,11 +50,7 @@ ELSE(WIN32)
       EXEC_PROGRAM(${POSTGRES_CONFIG}
         ARGS --libdir
         OUTPUT_VARIABLE PG_TMP)
-      IF (APPLE)
-        SET(POSTGRES_LIBRARY ${PG_TMP}/libpq.dylib CACHE STRING INTERNAL)
-      ELSE (APPLE)
-        SET(POSTGRES_LIBRARY ${PG_TMP}/libpq.so CACHE STRING INTERNAL)
-      ENDIF (APPLE)
+      FIND_LIBRARY(POSTGRES_LIBRARY NAMES pq libpq libpqdll PATHS ${LOCALBASE}/lib)
     ENDIF(POSTGRES_CONFIG)
 
   ENDIF(UNIX)

$OpenBSD: patch-mono_utils_mono-sigcontext_h,v 1.1 2010/03/22 16:56:13 robert Exp $
--- mono/utils/mono-sigcontext.h.orig	Mon Mar 22 17:35:25 2010
+++ mono/utils/mono-sigcontext.h	Mon Mar 22 17:38:49 2010
@@ -54,6 +54,16 @@
 	#define UCONTEXT_REG_ESI(ctx) (((ucontext_t*)(ctx))->uc_mcontext.__gregs [_REG_ESI])
 	#define UCONTEXT_REG_EDI(ctx) (((ucontext_t*)(ctx))->uc_mcontext.__gregs [_REG_EDI])
 	#define UCONTEXT_REG_EIP(ctx) (((ucontext_t*)(ctx))->uc_mcontext.__gregs [_REG_EIP])
+#elif defined(__OpenBSD__)
+	#define UCONTEXT_REG_EAX(ctx) ((ctx)->sc_eax)
+	#define UCONTEXT_REG_EBX(ctx) ((ctx)->sc_ebx)
+	#define UCONTEXT_REG_ECX(ctx) ((ctx)->sc_ecx)
+	#define UCONTEXT_REG_EDX(ctx) ((ctx)->sc_edx)
+	#define UCONTEXT_REG_EBP(ctx) ((ctx)->sc_ebp)
+	#define UCONTEXT_REG_ESP(ctx) ((ctx)->sc_esp)
+	#define UCONTEXT_REG_ESI(ctx) ((ctx)->sc_esi)
+	#define UCONTEXT_REG_EDI(ctx) ((ctx)->sc_edi)
+	#define UCONTEXT_REG_EIP(ctx) ((ctx)->sc_eip)
 #else
 	#define UCONTEXT_REG_EAX(ctx) (((ucontext_t*)(ctx))->uc_mcontext.gregs [REG_EAX])
 	#define UCONTEXT_REG_EBX(ctx) (((ucontext_t*)(ctx))->uc_mcontext.gregs [REG_EBX])

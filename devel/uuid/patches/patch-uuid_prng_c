$OpenBSD: patch-uuid_prng_c,v 1.2 2010/08/26 09:25:20 kevlo Exp $

/dev/arandom is prefered over /dev/urandom.

--- uuid_prng.c.orig	Tue Jun  3 13:59:53 2008
+++ uuid_prng.c	Wed Aug 25 17:25:59 2010
@@ -74,7 +74,7 @@ prng_rc_t prng_create(prng_t **prng)
     /* try to open the system PRNG device */
     (*prng)->dev = -1;
 #if !defined(WIN32)
-    if ((fd = open("/dev/urandom", O_RDONLY)) == -1)
+    if ((fd = open("/dev/arandom", O_RDONLY)) == -1)
         fd = open("/dev/random", O_RDONLY|O_NONBLOCK);
     if (fd != -1) {
         (void)fcntl(fd, F_SETFD, FD_CLOEXEC);

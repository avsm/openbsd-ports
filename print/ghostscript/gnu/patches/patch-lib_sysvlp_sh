$OpenBSD: patch-lib_sysvlp_sh,v 1.1 2004/10/24 20:58:47 brad Exp $
--- lib/sysvlp.sh.orig	Thu Mar  9 03:40:40 2000
+++ lib/sysvlp.sh	Sun Oct 24 16:52:47 2004
@@ -27,20 +27,23 @@ files="$*"
 # Brother HL-4: switch to HP laserjet II+ emulation
 # echo "\033\015H\c"
 
+TEMPDIR=`mktemp -td sysvlp.XXXXXXXXXX` || exit 1
+
 i=1
 while [ $i -le $copies ]
 do
 	for file in $files
 	do
 		$GSHOME/gs \
-			-sOUTPUTFILE=/tmp/psp$$.%02d \
+			-sOUTPUTFILE=$TEMPDIR/psp$$.%02d \
 			-sDEVICE=$DEVICE \
 			$EHANDLER $file \
 			< /dev/null >> /usr/tmp/ps_log 2>&1
 
-		cat /tmp/psp$$.* 2>> /usr/tmp/ps_log
-		rm -f /tmp/psp$$.*
+		cat $TEMPDIR/psp$$.* 2>> /usr/tmp/ps_log
+		rm -f $TEMPDIR/psp$$.*
 	done
 	i=`expr $i + 1`
 done
+rmdir $TEMPDIR
 exit 0

$OpenBSD: patch-jdk_src_share_classes_sun_java2d_SunGraphicsEnvironment_java,v 1.3 2009/05/23 03:03:25 kurt Exp $
--- jdk/src/share/classes/sun/java2d/SunGraphicsEnvironment.java.orig	Fri May  8 03:34:47 2009
+++ jdk/src/share/classes/sun/java2d/SunGraphicsEnvironment.java	Mon May 18 13:46:39 2009
@@ -77,7 +77,7 @@ import sun.font.NativeFont;
 public abstract class SunGraphicsEnvironment extends GraphicsEnvironment
     implements FontSupport, DisplayChangedListener {
 
-    public static boolean isLinux;
+    public static boolean isLinuxOrBSD;
     public static boolean isSolaris;
     public static boolean isOpenSolaris;
     public static boolean isWindows;
@@ -166,7 +166,15 @@ public abstract class SunGraphicsEnvironment extends G
             public Object run() {
                 String osName = System.getProperty("os.name");
                 if ("Linux".equals(osName)) {
-                    isLinux = true;
+                    isLinuxOrBSD = true;
+                } else if ("FreeBSD".equals(osName)) {
+                    isLinuxOrBSD = true;
+                } else if ("Darwin".equals(osName)) {
+                    isLinuxOrBSD = true;
+                } else if ("NetBSD".equals(osName)) {
+                    isLinuxOrBSD = true;
+                } else if ("OpenBSD".equals(osName)) {
+                    isLinuxOrBSD = true;
                 } else if ("SunOS".equals(osName)) {
                     isSolaris = true;
                     String version = System.getProperty("os.version", "0.0");
@@ -242,8 +250,8 @@ public abstract class SunGraphicsEnvironment extends G
                  * Pass "true" to registerFonts method as on-screen these
                  * JRE fonts always go through the T2K rasteriser.
                  */
-                if (isLinux) {
-                    /* Linux font configuration uses these fonts */
+                if (isLinuxOrBSD) {
+                    /* Linux/BSD font configuration uses these fonts */
                     registerFontDir(jreFontDirName);
                 }
                 registerFontsInDir(jreFontDirName, true, Font2D.JRE_RANK,

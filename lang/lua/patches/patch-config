--- config.orig	Fri Apr 11 11:00:41 2003
+++ config	Wed Apr 27 08:09:23 2005
@@ -25,7 +25,7 @@ USERCONF=
 # interface (e.g., Linux, Solaris, IRIX, BSD, AIX, HPUX, and probably others),
 # uncomment the next two lines.
 #
-#LOADLIB= -DUSE_DLOPEN=1
+LOADLIB= -DUSE_DLOPEN=1
 #DLLIB= -ldl
 #
 # In Linux with gcc, you should also uncomment the next definition for
@@ -45,7 +45,7 @@ USERCONF=
 # If your system is not POSIX but has popen and pclose, define USE_POPEN=1.
 # If you don't want to support pipes, define USE_POPEN=0.
 #
-#POPEN= -DUSE_POPEN=1
+POPEN= -DUSE_POPEN=1
 #POPEN= -DUSE_POPEN=0
 #
 # The form below will probably work in (some) Windows systems.
@@ -59,7 +59,7 @@ USERCONF=
 # use tmpnam even if you're not compiling with gcc, define USE_TMPNAME=0.
 #
 #TMPNAM= -DUSE_TMPNAME=1
-#TMPNAM= -DUSE_TMPNAME=0
+TMPNAM= -DUSE_TMPNAME=0
 
 # The Lua math library (src/lib/lmathlib.c) now operates in radians, unlike
 # previous versions of Lua, which used degrees. To use degrees instead of
@@ -100,15 +100,15 @@ EXTRA_LIBS= -lm
 # to add -lreadline (and perhaps also -lhistory and -lcurses or -lncurses)
 # to EXTRA_LIBS.
 #
-#USERCONF=-DLUA_USERCONFIG='"$(LUA)/etc/saconfig.c"' -DUSE_READLINE
-#EXTRA_LIBS= -lm -ldl -lreadline # -lhistory -lcurses -lncurses
+USERCONF=-DLUA_USERCONFIG='"$(LUA)/etc/saconfig.c"' -DUSE_READLINE
+EXTRA_LIBS+= -ledit -lcurses # -lhistory -lcurses -lncurses
 
 # ------------------------------------------------------------------ C compiler
 
 # You need an ANSI C compiler. gcc is a popular one. We do not use -ansi in
 # WARN because it disables POSIX features used in the libraries.
 #
-CC= gcc
+#CC= gcc
 WARN= -Wall
 
 # ------------------------------------------------------------------ C options
@@ -173,6 +173,6 @@ LIB= $(LUA)/lib
 INCS= -I$(INC) $(EXTRA_INCS)
 DEFS= $(NUMBER) $(EXTRA_DEFS)
 
-CFLAGS= $(MYCFLAGS) $(WARN) $(INCS) $(DEFS)
+CFLAGS+= $(WARN) $(INCS) $(DEFS)
 
 # (end of config)

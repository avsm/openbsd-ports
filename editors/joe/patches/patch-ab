*** Makefile.orig	Mon Jan 23 12:01:28 1995
--- Makefile	Thu Nov 12 16:40:55 1998
***************
*** 10,23 ****
  # to go:
  
  WHEREJOE = /usr/local/bin
! WHERERC = /usr/local/lib
! WHEREMAN = /usr/man/man1
  
  # If you want to use TERMINFO, you have to set
  # the following variable to 1.  Also you have to
  # include some additional libraries- see below.
  
  TERMINFO = 0
  
  # You may also have to add some additional
  # defines to get the include files to work
--- 10,27 ----
  # to go:
  
  WHEREJOE = /usr/local/bin
! WHERERC = /usr/local/lib/joe
! WHEREMAN = /usr/local/man/man1
  
  # If you want to use TERMINFO, you have to set
  # the following variable to 1.  Also you have to
  # include some additional libraries- see below.
  
+ .if defined(USE_TERMINFO)
+ TERMINFO = 1
+ .else
  TERMINFO = 0
+ .endif
  
  # You may also have to add some additional
  # defines to get the include files to work
***************
*** 45,51 ****
--- 49,59 ----
  # add '-ltinfo', '-lcurses' or '-ltermlib',
  # depending on the system.
  
+ .if defined(USE_TERMINFO)
+ EXTRALIBS = -lcurses
+ .else
  EXTRALIBS =
+ .endif
  
  # Object files
  
***************
*** 90,99 ****
  	if [ ! -d $(WHEREJOE) ]; then mkdir $(WHEREJOE); chmod a+rx $(WHEREJOE); fi
  	rm -f $(WHEREJOE)/joe $(WHEREJOE)/jmacs $(WHEREJOE)/jstar $(WHEREJOE)/jpico $(WHEREJOE)/rjoe $(WHEREJOE)/termidx
  	mv joe $(WHEREJOE)
! 	ln $(WHEREJOE)/joe $(WHEREJOE)/jmacs
! 	ln $(WHEREJOE)/joe $(WHEREJOE)/jstar
! 	ln $(WHEREJOE)/joe $(WHEREJOE)/rjoe
! 	ln $(WHEREJOE)/joe $(WHEREJOE)/jpico
  	mv termidx $(WHEREJOE)
  	if [ ! -d $(WHERERC) ]; then mkdir $(WHERERC); chmod a+rx $(WHERERC); fi
  	rm -f $(WHERERC)/joerc $(WHERERC)/jmacsrc $(WHERERC)/jstarrc $(WHERERC)/jpicorc $(WHERERC)/rjoerc $(WHEREMAN)/joe.1
--- 98,107 ----
  	if [ ! -d $(WHEREJOE) ]; then mkdir $(WHEREJOE); chmod a+rx $(WHEREJOE); fi
  	rm -f $(WHEREJOE)/joe $(WHEREJOE)/jmacs $(WHEREJOE)/jstar $(WHEREJOE)/jpico $(WHEREJOE)/rjoe $(WHEREJOE)/termidx
  	mv joe $(WHEREJOE)
! 	ln -s $(WHEREJOE)/joe $(WHEREJOE)/jmacs
! 	ln -s $(WHEREJOE)/joe $(WHEREJOE)/jstar
! 	ln -s $(WHEREJOE)/joe $(WHEREJOE)/rjoe
! 	ln -s $(WHEREJOE)/joe $(WHEREJOE)/jpico
  	mv termidx $(WHEREJOE)
  	if [ ! -d $(WHERERC) ]; then mkdir $(WHERERC); chmod a+rx $(WHERERC); fi
  	rm -f $(WHERERC)/joerc $(WHERERC)/jmacsrc $(WHERERC)/jstarrc $(WHERERC)/jpicorc $(WHERERC)/rjoerc $(WHEREMAN)/joe.1
***************
*** 115,126 ****
  	chmod a+r $(WHERERC)/jpicorc
  	chmod a+r $(WHEREMAN)/joe.1
  	chmod a+x $(WHEREJOE)/termidx
! 	rm -f $(WHERERC)/termcap
! 	cp termcap $(WHERERC)/termcap
! 	chmod a+r $(WHERERC)/termcap
! 	rm -f $(WHERERC)/terminfo
! 	cp terminfo $(WHERERC)/terminfo
! 	chmod a+r $(WHERERC)/terminfo
  
  # Cleanup proceedure
  
--- 123,134 ----
  	chmod a+r $(WHERERC)/jpicorc
  	chmod a+r $(WHEREMAN)/joe.1
  	chmod a+x $(WHEREJOE)/termidx
! #	rm -f $(WHERERC)/termcap
! #	cp termcap $(WHERERC)/termcap
! #	chmod a+r $(WHERERC)/termcap
! #	rm -f $(WHERERC)/terminfo
! #	cp terminfo $(WHERERC)/terminfo
! #	chmod a+r $(WHERERC)/terminfo
  
  # Cleanup proceedure
  

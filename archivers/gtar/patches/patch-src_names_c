$OpenBSD: patch-src_names_c,v 1.1.4.1 2007/09/04 06:10:52 ajacoutot Exp $
--- src/names.c.orig	Mon Sep  3 11:30:58 2007
+++ src/names.c	Mon Sep  3 11:31:16 2007
@@ -1013,11 +1013,10 @@ contains_dot_dot (char const *name)
       if (p[0] == '.' && p[1] == '.' && (ISSLASH (p[2]) || !p[2]))
 	return 1;
 
-      do
+      while (! ISSLASH (*p))
 	{
 	  if (! *p++)
 	    return 0;
 	}
-      while (! ISSLASH (*p));
     }
 }

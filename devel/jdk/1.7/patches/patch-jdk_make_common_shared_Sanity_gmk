$OpenBSD: patch-jdk_make_common_shared_Sanity_gmk,v 1.2 2009/01/04 23:25:16 kurt Exp $
--- jdk/make/common/shared/Sanity.gmk.orig	Thu Jul 17 03:43:08 2008
+++ jdk/make/common/shared/Sanity.gmk	Sat Aug  2 16:12:53 2008
@@ -96,6 +96,11 @@ ifeq ($(PLATFORM), windows)
     $(EGREP) "\#define" | $(NAWK) '{print $$3}')
 endif
 
+ifeq ($(PLATFORM), bsd)
+  FREE_SPACE := $(shell BLOCKSIZE=512 $(DF) $(OUTPUTDIR) | $(TAIL) -1 | $(NAWK) '{print $$2;}')
+  TEMP_FREE_SPACE := $(shell BLOCKSIZE=512 $(DF) $(TEMP_DISK) | $(TAIL) -1 | $(NAWK) '{print $$2;}')
+endif
+
 # Get the version numbers of what we are using
 _MAKE_VER  :=$(shell $(MAKE) --version 2>&1 | $(HEAD) -n 1)
 _ZIP_VER   :=$(shell $(ZIPEXE) -help 2>&1 | $(HEAD) -n 4 | $(EGREP) '^Zip')

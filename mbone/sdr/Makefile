#   $OpenBSD: Makefile,v 1.3 1999/09/02 19:30:39 angelos Exp $
#

DISTNAME=	sdr-2.7e
PKGNAME=	sdr-2.7e
CATEGORIES=	mbone tk80
MASTER_SITES=	http://www-mice.cs.ucl.ac.uk/multimedia/software/sdr/2.7e/

MAINTAINER=	angelos@openbsd.org

LIB_DEPENDS=	tk80\\.1:${PORTSDIR}/x11/tk80

HAS_CONFIGURE=	yes
USE_GMAKE=	yes
USE_X11=	yes

# src/libs.tcl is autogenerated from the tcl/tk installed on the
# build system, so we shouldn't use the one in the distribution.
# Makefile.work and configure help to work with the sdr multi-platform
# build structure.
post-extract:
	@${RM} -f ${WRKSRC}/src/libs.tcl
	@${CP} ${FILESDIR}/Makefile.work ${WRKSRC}/Makefile
	@${CP} ${FILESDIR}/configure ${WRKSRC}
	@chmod 755 ${WRKSRC}/configure

post-install:
	${INSTALL_PROGRAM} ${WRKSRC}/sdr/freebsd/sdr ${PREFIX}/bin

.include <bsd.port.mk>

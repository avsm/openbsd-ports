$OpenBSD: patch-VAX_vax_sysdev_c,v 1.3 2006/02/09 11:31:11 fgsch Exp $
--- VAX/vax_sysdev.c.orig	Tue Oct 25 20:23:06 2005
+++ VAX/vax_sysdev.c	Wed Feb  8 18:40:52 2006
@@ -53,6 +53,10 @@
 
 #include "vax_defs.h"
 
+#ifndef PATH_KA655X_BIN
+#define PATH_KA655X_BIN "ka655x.bin"
+#endif
+
 #define UNIT_V_NODELAY  (UNIT_V_UF + 0)                 /* ROM access equal to RAM access */
 #define UNIT_NODELAY    (1u << UNIT_V_NODELAY)
 
@@ -1519,10 +1523,10 @@ conpc = 0;
 conpsl = PSL_IS | PSL_IPL1F | CON_PWRUP;
 if (rom == NULL) return SCPE_IERR;
 if (*rom == 0) {                                        /* no boot? */
-    printf ("Loading boot code from ka655x.bin\n");
+    printf ("Loading boot code from %s\n", PATH_KA655X_BIN);
     if (sim_log) fprintf (sim_log, 
-        "Loading boot code from ka655x.bin\n");
-    r = load_cmd (0, "-R ka655x.bin");
+        "Loading boot code from %s\n", PATH_KA655X_BIN);
+    r = load_cmd (0, "-R " PATH_KA655X_BIN);
     if (r != SCPE_OK) return r;
     }
 return SCPE_OK;

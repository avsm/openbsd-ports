--- uip/spost.c.orig	Sun Feb  6 04:41:00 2000
+++ uip/spost.c	Tue Feb 29 17:52:41 2000
@@ -727,8 +727,8 @@
     char *vec[6];
     FILE * in, *out;
 
-    mktemp (bccfil);
-    if ((out = fopen (bccfil, "w")) == NULL)
+    fd = mkstemp (bccfil);
+    if ((fd == -1) || ((out = fdopen (fd, "w")) == NULL))
 	adios (bccfil, "unable to create");
     chmod (bccfil, 0600);
 

$OpenBSD: patch-Makefile_in,v 1.3 2002/07/07 05:59:35 pvalchev Exp $
--- Makefile.in.orig	Fri Jul  5 18:22:29 2002
+++ Makefile.in	Fri Jul  5 18:22:38 2002
@@ -31,7 +31,9 @@ manext = 1
 mandir = @mandir@/man$(manext)
 ### End of `configure' section###
 
-htmldir = $(libdir)/scsh/doc/scsh-manual/html
+sharedir = @datadir@/scsh
+docdir = @datadir@/doc/scsh
+htmldir = $(docdir)/scsh-manual/html
 
 # HP 9000 series, if you don't have gcc
 #   CC = cc
@@ -344,31 +346,31 @@ install-cig: cig
 inst-misc:
 	for stub in env big opt misc link srfi; do				\
 		for f in scheme/$$stub/*.scm; do			\
-			$(INSTALL_DATA) $$f $(LIB)/$$stub || exit 1;	\
+			$(INSTALL_DATA) $$f $(sharedir)/$$stub || exit 1;	\
 		done;							\
 	done &&								\
 	for f in scheme/rts/*num.scm scheme/rts/jar-defrecord.scm; do	\
-		$(INSTALL_DATA) $$f $(LIB)/rts || exit 1;		\
+		$(INSTALL_DATA) $$f $(sharedir)/rts || exit 1;		\
 	done 
 
 inst-doc:
 	for f in $(srcdir)/doc/*.txt $(srcdir)/doc/*.ps; do \
-		$(INSTALL_DATA) $$f $(LIB)/doc/; 				\
+		$(INSTALL_DATA) $$f $(docdir)/; 				\
 	done &&									\
 	for f in $(srcdir)/doc/src/*.tex 					\
 		$(srcdir)/doc/src/*.dvi						\
 		$(srcdir)/doc/src/*.ps;						\
-		do $(INSTALL_DATA) $$f $(LIB)/doc/s48-manual/;			\
+		do $(INSTALL_DATA) $$f $(docdir)/s48-manual/;			\
 	done &&									\
 	for f in $(srcdir)/doc/src/manual/*.html;				\
-		do $(INSTALL_DATA) $$f $(LIB)/doc/s48-manual/html/;		\
+		do $(INSTALL_DATA) $$f $(docdir)/s48-manual/html/;		\
 	done &&									\
 	for f in $(srcdir)/doc/scsh-manual/*.tex 				\
 		$(srcdir)/doc/scsh-manual/*.sty 				\
 		$(srcdir)/doc/scsh-manual/*.dvi					\
 		$(srcdir)/doc/scsh-manual/*.ps					\
 		$(srcdir)/doc/scsh-manual/*.pdf;				\
-		do $(INSTALL_DATA) $$f $(LIB)/doc/scsh-manual/;			\
+		do $(INSTALL_DATA) $$f $(docdir)/scsh-manual/;			\
 	done &&									\
 	for f in $(srcdir)/doc/scsh-manual/html/*.html 				\
 		$(srcdir)/doc/scsh-manual/html/*.gif 				\
@@ -379,11 +381,11 @@ inst-doc:
 		$(srcdir)/doc/scsh-paper/*.sty 					\
 		$(srcdir)/doc/scsh-paper/*.dvi					\
 		$(srcdir)/doc/scsh-paper/*.ps;					\
-		do $(INSTALL_DATA) $$f $(LIB)/doc/scsh-paper/;			\
+		do $(INSTALL_DATA) $$f $(docdir)/scsh-paper/;			\
 	done &&									\
 	for f in $(srcdir)/doc/scsh-paper/html/*.html 				\
 		$(srcdir)/doc/scsh-paper/html/*.css;				\
-		do $(INSTALL_DATA) $$f $(LIB)/doc/scsh-paper/html;		\
+		do $(INSTALL_DATA) $$f $(docdir)/scsh-paper/html;		\
 	done
 
 
@@ -406,19 +408,24 @@ go:
 	chmod +x $@
 
 dirs:
-	for dir in $(libdir) $(bindir) $(incdir) $(LIB) $(mandir) $(htmldir); do\
+	for dir in $(libdir) $(bindir) $(incdir) $(LIB) $(mandir) 	\
+			$(sharedir) $(docdir) $(htmldir) $(LIB)/cig; do	\
 		{ mkdir -p $$dir && [ -w $$dir ]; } || {		\
 			echo "$$dir not a writable directory" >&2;	\
 			exit 1;						\
 	}								\
 	done &&								\
-	for dir in								\
-		rts env big opt misc link srfi scsh doc/scsh-manual			\
-		doc/s48-manual/html doc/scsh-paper/html cig; do			\
-		{ mkdir -p $(LIB)/$$dir && [ -w $(LIB)/$$dir ]; } || {		\
-			echo "$(LIB)/$$dir not a writable directory" >&2; 	\
-		exit 1;						  		\
-		};							  	\
+	for dir in scsh-manual s48-manual/html scsh-paper; do		\
+		{ mkdir -p $(docdir)/$$dir && [ -w $(docdir)/$$dir ]; } || {	\
+			echo "$(docdir)/$$dir  not a writable directory" >&2;	\
+			exit 1;							\
+		}								\
+	done &&									\
+	for dir in rts env big opt misc link scsh; do				\
+		{ mkdir -p $(sharedir)/$$dir && [ -w $(sharedir)/$$dir ]; } || {\
+			echo "$(sharedir)/$$dir not a writable directory" >&2;	\
+			exit 1;							\
+		};								\
 	done
 
 configure: configure.in
@@ -897,7 +904,7 @@ install-scsh: scsh install-scsh-image
 	$(INSTALL_PROGRAM) $(srcdir)/$(LIBSCSH) $(libdir)/$(LIBSCSH)
 	$(RANLIB) $(libdir)/$(LIBSCSH)
 	for f in $(srcdir)/scsh/*.scm $(srcdir)/scsh/*/*.scm; \
-	    do $(INSTALL_DATA) $$f $(LIB)/scsh/; done
+	    do $(INSTALL_DATA) $$f $(sharedir)/scsh/; done
 
 install-scsh-image: $(VM) scsh/scsh.image
 	(	echo ',translate =scheme48 $(LIB)';			\

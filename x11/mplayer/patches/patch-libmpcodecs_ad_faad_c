$OpenBSD: patch-libmpcodecs_ad_faad_c,v 1.5 2010/11/08 21:25:44 edd Exp $
--- libmpcodecs/ad_faad.c.orig	Wed Sep  8 18:38:52 2010
+++ libmpcodecs/ad_faad.c	Sun Oct 24 10:39:37 2010
@@ -84,7 +84,7 @@ static int aac_probe(unsigned char *buffer, int len)
 
 static int init(sh_audio_t *sh)
 {
-  unsigned long faac_samplerate;
+  unsigned int faac_samplerate;
   unsigned char faac_channels;
   int faac_init, pos = 0;
   faac_hdec = faacDecOpen();
@@ -197,7 +197,7 @@ static int init(sh_audio_t *sh)
     return 0;
   } else {
     mp_msg(MSGT_DECAUDIO,MSGL_V,"FAAD: Decoder init done (%dBytes)!\n", sh->a_in_buffer_len); // XXX: remove or move to debug!
-    mp_msg(MSGT_DECAUDIO,MSGL_V,"FAAD: Negotiated samplerate: %ldHz  channels: %d\n", faac_samplerate, faac_channels);
+    mp_msg(MSGT_DECAUDIO,MSGL_V,"FAAD: Negotiated samplerate: %dHz  channels: %d\n", faac_samplerate, faac_channels);
     // 8 channels is aac channel order #7.
     sh->channels = faac_channels == 7 ? 8 : faac_channels;
     if (audio_output_channels <= 2) sh->channels = faac_channels > 1 ? 2 : 1;
@@ -327,7 +327,7 @@ static int decode_audio(sh_audio_t *sh,unsigned char *
     } else {
       /* XXX: samples already multiplied by channels! */
       mp_msg(MSGT_DECAUDIO,MSGL_DBG2,"FAAD: Successfully decoded frame (%ld Bytes)!\n",
-      sh->samplesize*faac_finfo.samples);
+      (long)sh->samplesize*faac_finfo.samples);
 
       if (sh->channels >= 5)
         reorder_channel_copy_nch(faac_sample_buffer,

$OpenBSD: patch-ipc_bit_array_c,v 1.2 2007/10/26 21:04:25 ajacoutot Exp $
--- ipc/bit_array.c.orig	Thu Sep 24 05:43:37 1998
+++ ipc/bit_array.c	Fri Oct 26 22:55:06 2007
@@ -143,9 +143,9 @@ static __inline__ int clear_bit(int bit, int *mem)
 {
   int ret;
 
-  __asm__("xor %1,%1
-	   btrl %2,%0
-	   adcl %1,%1"
+  __asm__("xor %1,%1\n"
+"	   btrl %2,%0\n"
+"	   adcl %1,%1"
 	  :"=m" (*mem), "=&r" (ret)
 	  :"r" (bit));
   return (ret);
@@ -154,9 +154,9 @@ static __inline__ int clear_bit(int bit, int *mem)
 static __inline__ int set_bit(int bit, int *mem)
 {
   int ret;
-  __asm__("xor %1,%1
-	   btsl %2,%0
-	   adcl %1,%1"
+  __asm__("xor %1,%1\n"
+"	   btsl %2,%0\n"
+"	   adcl %1,%1"
 	  :"=m" (*mem), "=&r" (ret)
 	  :"r" (bit));
   return (ret);

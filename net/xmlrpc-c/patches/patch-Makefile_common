$OpenBSD: patch-Makefile_common,v 1.1.1.1 2006/12/18 14:39:56 espie Exp $
--- Makefile.common.orig	Wed Aug 30 04:59:05 2006
+++ Makefile.common	Mon Dec 18 12:58:57 2006
@@ -32,11 +32,11 @@ CFLAGS_COMMON = -DNDEBUG
 CXXFLAGS_COMMON = -DNDEBUG
 
 ifeq ($(C_COMPILER_GNU),yes)
-  CFLAGS_COMMON += $(GCC_C_WARNINGS) -fno-common -g -O3
+  CFLAGS_COMMON += $(GCC_C_WARNINGS) -O2 -g -pthread $(COPTS)
 endif
 
 ifeq ($(CXX_COMPILER_GNU),yes)
-  CXXFLAGS_COMMON += $(GCC_CXX_WARNINGS) -g
+  CXXFLAGS_COMMON += $(GCC_CXX_WARNINGS) -O2 -g -pthread $(COPTS)
 endif
 
 DISTDIR = $(BUILDDIR)/$(PACKAGE)-$(VERSION)/$(SUBDIR)
@@ -259,6 +259,10 @@ $(ALL_OBJS): $(BUILDDIR)/include/xmlrpc-
 
 ifeq ($(SHARED_LIB_TYPE),unix)
   include $(SRCDIR)/unix-common.make
+  endif
+
+ifeq ($(SHARED_LIB_TYPE),openbsd)
+  include $(SRCDIR)/openbsd-common.make
   endif
 
 ifeq ($(SHARED_LIB_TYPE),irix)

$OpenBSD: patch-src_jsapi_c,v 1.3 2009/05/05 21:01:55 martynas Exp $
--- src/jsapi.c.orig	Wed Oct  3 17:36:48 2007
+++ src/jsapi.c	Sun May  3 23:07:02 2009
@@ -134,7 +134,7 @@ JS_GetEmptyStringValue(JSContext *cx)
 
 static JSBool
 TryArgumentFormatter(JSContext *cx, const char **formatp, JSBool fromJS,
-                     jsval **vpp, va_list *app)
+                     jsval **vpp, va_list app)
 {
     const char *format;
     JSArgumentFormatMap *map;
@@ -263,8 +263,7 @@ JS_ConvertArgumentsVA(JSContext *cx, uintN argc, jsval
             break;
           default:
             format--;
-            if (!TryArgumentFormatter(cx, &format, JS_TRUE, &sp,
-                                      JS_ADDRESSOF_VA_LIST(ap))) {
+            if (!TryArgumentFormatter(cx, &format, JS_TRUE, &sp, ap)) {
                 return JS_FALSE;
             }
             /* NB: the formatter already updated sp, so we continue here. */
@@ -366,8 +365,7 @@ JS_PushArgumentsVA(JSContext *cx, void **markp, const 
             break;
           default:
             format--;
-            if (!TryArgumentFormatter(cx, &format, JS_FALSE, &sp,
-                                      JS_ADDRESSOF_VA_LIST(ap))) {
+            if (!TryArgumentFormatter(cx, &format, JS_FALSE, &sp, ap)) {
                 goto bad;
             }
             /* NB: the formatter already updated sp, so we continue here. */

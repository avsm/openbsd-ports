$OpenBSD: patch-sqlanalyze_c,v 1.2 2002/09/24 02:21:44 mark Exp $
--- sqlanalyze.c.orig	Mon Dec  3 10:08:30 2001
+++ sqlanalyze.c	Sun Sep 22 23:32:40 2002
@@ -23,7 +23,6 @@
 #include "constants.h"
 #include "sqlanlz.h"
 #include "html.h"
-#include <getopt.h>
 
 /*
   Set a few default values
@@ -52,11 +51,13 @@ void doHaxxor(TDSLOGIN *pLogin) {
   EXTENDEDSP *pExtendedSP = NULL;
   SQLTABLE *pTable = NULL;
   TDSSOCKET *pTds = NULL;
+  TDSCONTEXT *context = NULL;
   char tmp[256];
   time_t t;
 
   /* connect to the SQL server */
-  if( (pTds = tds_connect(pLogin)) !=NULL ) {
+  context = tds_alloc_context();
+  if( (pTds = tds_connect(pLogin, context, NULL)) !=NULL ) {
 
     time(&t);
 

$OpenBSD: patch-jdk_src_solaris_native_sun_nio_ch_SctpNet_c,v 1.2 2009/10/07 01:53:54 kurt Exp $
--- jdk/src/solaris/native/sun/nio/ch/SctpNet.c.orig	Thu Sep 17 03:52:33 2009
+++ jdk/src/solaris/native/sun/nio/ch/SctpNet.c	Sat Sep 26 10:12:04 2009
@@ -55,6 +55,7 @@ JNIEXPORT jint JNICALL JNI_OnLoad
  */
 jboolean loadSocketExtensionFuncs
   (JNIEnv* env) {
+#if !defined(__FreeBSD__) || __FreeBSD__ < 7 /* On FreeBSD 7.x these functions are in libc */
     if (dlopen(nativeSctpLib, RTLD_GLOBAL | RTLD_LAZY) == NULL) {
         JNU_ThrowByName(env, "java/lang/UnsupportedOperationException",
               dlerror());
@@ -102,6 +103,7 @@ jboolean loadSocketExtensionFuncs
               dlerror());
         return JNI_FALSE;
     }
+#endif /* __FreeBSD__ */
 
     funcsLoaded = JNI_TRUE;
     return JNI_TRUE;

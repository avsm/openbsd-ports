$OpenBSD: patch-webkit_plugins_ppapi_ppb_pdf_impl_cc,v 1.2 2011/04/29 13:18:02 robert Exp $
--- webkit/plugins/ppapi/ppb_pdf_impl.cc.orig	Tue Apr 26 10:01:06 2011
+++ webkit/plugins/ppapi/ppb_pdf_impl.cc	Thu Apr 28 11:17:49 2011
@@ -25,7 +25,7 @@
 namespace webkit {
 namespace ppapi {
 
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_OPENBSD)
 class PrivateFontFile : public Resource {
  public:
   PrivateFontFile(PluginInstance* instance, int fd)
@@ -159,7 +159,7 @@ PP_Resource GetFontFileWithFallback(
     PP_Instance instance_id,
     const PP_FontDescription_Dev* description,
     PP_PrivateFontCharset charset) {
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_OPENBSD)
   PluginInstance* instance = ResourceTracker::Get()->GetInstance(instance_id);
   if (!instance)
     return 0;
@@ -190,7 +190,7 @@ bool GetFontTableForPrivateFontFile(PP_Resource font_f
                                     uint32_t table,
                                     void* output,
                                     uint32_t* output_length) {
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_OPENBSD)
   scoped_refptr<PrivateFontFile> font(
       Resource::GetAs<PrivateFontFile>(font_file));
   if (!font.get())
@@ -315,7 +315,7 @@ const PPB_PDF* PPB_PDF_Impl::GetInterface() {
   return &ppb_pdf;
 }
 
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_OPENBSD)
 bool PrivateFontFile::GetFontTable(uint32_t table,
                                    void* output,
                                    uint32_t* output_length) {

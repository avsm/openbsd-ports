$OpenBSD: patch-lib_type1_type1_c,v 1.1 2003/09/25 17:05:02 avsm Exp $
--- lib/type1/type1.c.orig	2003-03-02 23:17:22.000000000 +0000
+++ lib/type1/type1.c	2003-09-25 17:22:47.000000000 +0100
@@ -1868,10 +1868,18 @@ static int EndChar()
 static int RMoveTo(dx,dy)
   DOUBLE dx,dy;
 {
-  long pindex = 0;
-  
+  long pindex = 0, xpoint, ypoint;
+
+  if (numppoints > 1) {
+	xpoint = currx - ppoints[numppoints-2].x;
+	ypoint = curry - ppoints[numppoints-2].y;
+  } else {
+	xpoint = 0;
+	ypoint = 0;
+  }
+
   /* compute hinting for previous segment! */
-  FindStems( currx, curry, currx-ppoints[numppoints-2].x, curry-ppoints[numppoints-2].y, dx, dy);
+  FindStems( currx, curry, xpoint, ypoint, dx, dy);
 
   /* Allocate a new path point and pre-setup data */
   pindex = nextPPoint();

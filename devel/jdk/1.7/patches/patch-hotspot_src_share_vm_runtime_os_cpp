$OpenBSD: patch-hotspot_src_share_vm_runtime_os_cpp,v 1.4 2009/05/23 03:03:25 kurt Exp $
--- hotspot/src/share/vm/runtime/os.cpp.orig	Fri May  8 03:30:37 2009
+++ hotspot/src/share/vm/runtime/os.cpp	Sun May 10 19:23:00 2009
@@ -79,7 +79,11 @@ char* os::iso8601_time(char* buffer, size_t buffer_len
     assert(false, "Failed localtime_pd");
     return NULL;
   }
+#if defined(_ALLBSD_SOURCE)
+  const time_t zone = (time_t) time_struct.tm_gmtoff;
+#else
   const time_t zone = timezone;
+#endif
 
   // If daylight savings time is in effect,
   // we are 1 hour East of our time zone

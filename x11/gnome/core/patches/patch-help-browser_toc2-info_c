$OpenBSD: patch-help-browser_toc2-info_c,v 1.2 2002/02/15 19:18:52 nino Exp $
--- help-browser/toc2-info.c.orig	Wed Jan  9 22:13:56 2002
+++ help-browser/toc2-info.c	Sun Feb  3 14:24:28 2002
@@ -205,13 +205,14 @@ gint expandInfoTable(GList *table, gchar
     gchar *s;
     gchar *anchor;
     struct _big_table_entry *entry;
-    gint val;
+    gint val, buflen;
     gchar *rootFile;
 
     rootFile = ((struct _big_table_entry *)table->data)->filename;
-    if (loadFileToBuf(rootFile, &data, NULL) || !data) {
+    if (loadFileToBuf(rootFile, &data, &buflen) || !data) {
 	return -1;
     }
+    data[buflen - 1] = 0x0;
 
     ((struct _big_table_entry *)table->data)->expanded = 1;
 

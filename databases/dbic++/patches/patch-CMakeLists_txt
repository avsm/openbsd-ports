$OpenBSD: patch-CMakeLists_txt,v 1.1.1.1 2010/12/20 17:39:55 jeremy Exp $
--- CMakeLists.txt.orig	Sun Oct 17 08:56:31 2010
+++ CMakeLists.txt	Thu Oct 28 16:16:23 2010
@@ -32,7 +32,7 @@ IF (PQ_FOUND)
     TARGET_LINK_LIBRARIES(dbdpg ${PQ_LIBRARIES})
   ENDIF()
 
-  SET_TARGET_PROPERTIES(dbdpg PROPERTIES VERSION ${CMAKE_PG_VERSION} SOVERSION 1)
+  SET_TARGET_PROPERTIES(dbdpg PROPERTIES VERSION "${CMAKE_PG_VERSION}0.0")
   INSTALL(TARGETS dbdpg
     LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}/dbic++
     ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR}/dbic++)
@@ -46,7 +46,7 @@ IF (MYSQL_FOUND)
   ELSE()
     TARGET_LINK_LIBRARIES(dbdmysql ${MYSQL_LIBRARIES})
   ENDIF()
-  SET_TARGET_PROPERTIES(dbdmysql PROPERTIES VERSION ${CMAKE_MYSQL_VERSION} SOVERSION 1)
+  SET_TARGET_PROPERTIES(dbdmysql PROPERTIES VERSION "${CMAKE_MYSQL_VERSION}0.0")
   INSTALL(TARGETS dbdmysql
     LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}/dbic++
     ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR}/dbic++)
@@ -68,12 +68,12 @@ IF (DB2_FOUND)
 ENDIF()
 
 ADD_EXECUTABLE(demo/demo src/examples/demo.cc)
-TARGET_LINK_LIBRARIES(demo/demo dbic++ dl ${UUID_LIBRARIES} ${PCRE_LIBRARIES})
+TARGET_LINK_LIBRARIES(demo/demo dbic++ ${UUID_LIBRARIES} ${PCRE_LIBRARIES})
 
 ADD_EXECUTABLE(demo/async src/examples/async.cc)
-TARGET_LINK_LIBRARIES(demo/async dbic++ dl ${UUID_LIBRARIES} ${PCRE_LIBRARIES} ${EVENT_LIBRARIES})
+TARGET_LINK_LIBRARIES(demo/async dbic++ ${UUID_LIBRARIES} ${PCRE_LIBRARIES} ${EVENT_LIBRARIES})
 
-ADD_DEFINITIONS(-Wall -Wno-sign-compare -rdynamic -fopenmp -fPIC -O3)
+ADD_DEFINITIONS(-Wall -Wno-sign-compare -rdynamic -fopenmp -fPIC)
 ADD_DEFINITIONS(${UUID_DEFINITIONS} ${EVENT_DEFINITIONS} ${PCRE_DEFINITIONS})
 
 # Use -DCMAKE_INSTALL_PREFIX:PATH=<path> to override /usr/local

--- backend/Makefile.in.orig	Sat Jul 30 14:28:10 2005
+++ backend/Makefile.in	Mon Dec 26 14:44:59 2005
@@ -25,7 +25,7 @@ infodir = @infodir@
 mandir = @mandir@
 includedir = @includedir@
 oldincludedir = /usr/include
-configdir = ${sysconfdir}/sane.d
+configdir = ${datadir}/examples/$(PACKAGE)/sane.d
 BEOS_ADDONDIR = @BEOS_ADDONDIR@
 
 V_MAJOR = @V_MAJOR@
@@ -168,7 +168,8 @@ DISTFILES = abaton.c abaton.conf abaton.
 libsane-%.la: %.lo %-s.lo $(EXTRA) $(LIBOBJS)
 	@$(LIBTOOL) $(MLINK) $(CC) -export-dynamic -o $@ $($*_LIBS) \
 	$(LDFLAGS) $(BACKENDLIBS) $^ @LIBTOOL_LINK_EXTRA@ -rpath $(libsanedir) \
-	-version-info $(V_MAJOR):$(V_REV):$(V_MINOR) $(DYNAMIC_FLAG)
+	-version-info $(V_MAJOR):$(V_REV):$(V_MINOR) $(DYNAMIC_FLAG) \
+	-avoid-version
 
 %-s.lo:	%-s.c
 	@$(LIBTOOL) $(MCOMP) $(COMPILE) -DSTUBS -DBACKEND_NAME=$* $<
@@ -195,7 +196,6 @@ install-be:
 	  $(LIBTOOL) $(MINST) $(INSTALL_PROGRAM) $${be} \
               $(DESTDIR)$(libsanedir)/$${be} || exit 1; \
 	done
-	@$(LIBTOOL) $(MINST) --finish $(DESTDIR)$(libsanedir)
 #	@# Assume the dll name without any versions is last
 #	@dllend=`../tools/libtool-get-dll-ext libsane-dll.la`; \
 #	list="$(ALL_BACKENDS)"; cd $(DESTDIR)$(libsanedir) && for be in $$list; do \
@@ -274,7 +274,7 @@ dll-preload.c:
 libsane.la: dll.lo dll-s.lo $(EXTRA) $(addsuffix .lo,$(DLL_PRELOAD)) $(LIBOBJS)
 	@$(LIBTOOL) $(MLINK) $(CC) -o $@ $(LDFLAGS) $(BACKENDLIBS)  $^ \
 		$(addsuffix .lo,$(DLL_PRELOAD_EXTRAS)) @LIBTOOL_LINK_EXTRA@ \
-		-rpath $(libdir) -version-info $(V_MAJOR):$(V_REV):$(V_MINOR)
+		-rpath $(libdir) $(libsane_la_LDFLAGS)
 
 # additional dependencies
 

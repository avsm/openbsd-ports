$OpenBSD: patch-src_daemon_c,v 1.3 2006/03/23 17:17:40 todd Exp $
--- src/daemon.c.orig	Mon Mar  6 17:23:43 2006
+++ src/daemon.c	Mon Mar  6 17:24:26 2006
@@ -549,7 +549,7 @@ void *process_connection(void *ptr) {
 
     while(ATX->users->items == 0 || invalid) {
       free(cmdline);
-      cmdline = daemon_getline(TTX, 300);
+      cmdline = daemon_getline(TTX, 900);
  
       while(cmdline && 
             (!strncasecmp(cmdline, "RCPT TO:", 8) ||
@@ -596,7 +596,7 @@ void *process_connection(void *ptr) {
 
 GETCMD:
         free(cmdline);
-        cmdline = daemon_getline(TTX, 300);
+        cmdline = daemon_getline(TTX, 900);
       }
 
       if (cmdline == NULL)
@@ -873,7 +873,7 @@ buffer * read_sock(THREAD_CTX *TTX, AGEN
     body = 1;
   }
 
-  while ((buf = daemon_getline(TTX, 300))!=NULL) {
+  while ((buf = daemon_getline(TTX, 900))!=NULL) {
     chomp(buf);
 
     if (!strcmp(buf, ".")) {
@@ -956,7 +956,7 @@ char *daemon_expect(THREAD_CTX *TTX, con
   char buf[128];
   char *cmd;
 
-  cmd = daemon_getline(TTX, 300); 
+  cmd = daemon_getline(TTX, 900); 
   if (cmd == NULL)
     return NULL;
 
@@ -979,7 +979,7 @@ char *daemon_expect(THREAD_CTX *TTX, con
     if (send_socket(TTX, buf)<=0)
       return NULL;
     free(cmd);
-    cmd = daemon_getline(TTX, 300);
+    cmd = daemon_getline(TTX, 900);
     if (cmd == NULL)
       return NULL;
   } 

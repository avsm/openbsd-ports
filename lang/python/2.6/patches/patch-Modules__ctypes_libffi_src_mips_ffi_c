$OpenBSD: patch-Modules__ctypes_libffi_src_mips_ffi_c,v 1.1 2010/02/25 11:02:39 phessler Exp $

Allow building this on OpenBSD, where we don't provide the ICACHE related
defines in cachectl.h, but in sysarch.h

--- Modules/_ctypes/libffi/src/mips/ffi.c.orig	Tue Feb 23 20:12:37 2010
+++ Modules/_ctypes/libffi/src/mips/ffi.c	Tue Feb 23 20:13:38 2010
@@ -37,7 +37,11 @@
 #endif
 
 #ifndef USE__BUILTIN___CLEAR_CACHE
-#include <sys/cachectl.h>
+#if defined(__OpenBSD__)
+#  include <mips64/sysarch.h>
+#else
+#  include <sys/cachectl.h>
+#endif
 #endif
 
 #ifdef FFI_DEBUG

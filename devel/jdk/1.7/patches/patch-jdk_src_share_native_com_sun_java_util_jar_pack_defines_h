$OpenBSD: patch-jdk_src_share_native_com_sun_java_util_jar_pack_defines_h,v 1.2 2009/01/04 23:25:16 kurt Exp $
--- jdk/src/share/native/com/sun/java/util/jar/pack/defines.h.orig	Thu Sep 11 03:44:46 2008
+++ jdk/src/share/native/com/sun/java/util/jar/pack/defines.h	Fri Sep 12 17:05:58 2008
@@ -32,6 +32,10 @@
 #include <unistd.h>
 #endif
 
+#ifndef NO_ZLIB
+#      include <zconf.h>
+#endif
+
 #ifndef FULL
 #define FULL 1 /* Adds <500 bytes to the zipped final product. */
 #endif
@@ -87,10 +91,12 @@ extern int assert_failed(const char*);
 // bytes and byte arrays
 
 typedef unsigned int uint;
+#ifdef NO_ZLIB
 #ifdef _LP64
 typedef unsigned int uLong; // Historical zlib, should be 32-bit.
 #else
 typedef unsigned long uLong;
+#endif
 #endif
 #ifdef _MSC_VER
 typedef LONGLONG        jlong;

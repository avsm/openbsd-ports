$OpenBSD: patch-configure,v 1.4 2009/02/01 11:04:43 ajacoutot Exp $
--- configure.orig	Thu Jan 22 00:04:43 2009
+++ configure	Tue Jan 27 09:20:20 2009
@@ -23767,13 +23767,13 @@ echo "${ECHO_T}$ac_cv_header_pthread_h" >&6; }
 fi
 if test $ac_cv_header_pthread_h = yes; then
 
-                { echo "$as_me:$LINENO: checking for pthread_exit in -lpthread" >&5
-echo $ECHO_N "checking for pthread_exit in -lpthread... $ECHO_C" >&6; }
+                { echo "$as_me:$LINENO: checking for pthread_exit in -pthread" >&5
+echo $ECHO_N "checking for pthread_exit in -pthread... $ECHO_C" >&6; }
 if test "${ac_cv_lib_pthread_pthread_exit+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lpthread  $LIBS"
+LIBS="-pthread  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -23835,8 +23835,8 @@ cat >>confdefs.h <<\_ACEOF
 #define HAVE_PTHREAD 1
 _ACEOF
 
-                    pthread_msg="yes (-lpthread)"
-                    PTHREAD_LIBS="-lpthread"
+                    pthread_msg="yes (-pthread)"
+                    PTHREAD_LIBS="-pthread"
 else
 
                     { echo "$as_me:$LINENO: checking for pthread_create in -lc_r" >&5
@@ -27281,10 +27281,10 @@ MSGFMT!$MSGFMT$ac_delim
 GMSGFMT!$GMSGFMT$ac_delim
 XGETTEXT!$XGETTEXT$ac_delim
 MSGMERGE!$MSGMERGE$ac_delim
-LIBICONV!$LIBICONV$ac_delim
+LIBICONV!$LTLIBICONV$ac_delim
 LTLIBICONV!$LTLIBICONV$ac_delim
-INTLLIBS!$INTLLIBS$ac_delim
-LIBINTL!$LIBINTL$ac_delim
+INTLLIBS!$LTLIBINTL$ac_delim
+LIBINTL!$LTLIBINTL$ac_delim
 LTLIBINTL!$LTLIBINTL$ac_delim
 POSUB!$POSUB$ac_delim
 LIBGPHOTO2_CFLAGS!$LIBGPHOTO2_CFLAGS$ac_delim

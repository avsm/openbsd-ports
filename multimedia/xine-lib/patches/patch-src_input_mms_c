$OpenBSD: patch-src_input_mms_c,v 1.4 2007/06/13 10:58:29 jakemsr Exp $
--- src/input/mms.c.orig	Sun Apr 15 10:42:16 2007
+++ src/input/mms.c	Sun May 20 22:40:02 2007
@@ -50,6 +50,7 @@
 #include <iconv.h>
 #include <locale.h>
 #include <langinfo.h>
+#include <localcharset.h>
 #endif
 
 /********** logging **********/
@@ -290,7 +291,7 @@ static int send_command (mms_t *this, int command,
 
 #ifdef USE_ICONV
 static iconv_t string_utf16_open() {
-    return iconv_open("UTF-16LE", nl_langinfo(CODESET));
+    return iconv_open("UTF-16LE", locale_charset());
 }
 
 static void string_utf16_close(iconv_t url_conv) {

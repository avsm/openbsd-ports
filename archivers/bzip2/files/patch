--- Makefile.orig2	Sat May  8 21:26:10 1999
+++ Makefile	Sat May  8 21:27:11 1999
@@ -10,11 +10,9 @@
       decompress.o \
       bzlib.o
 
-.SUFFIXES: .c .so .o
+all: lib bzip2
 
-all: lib lib.so.${VER} bzip2
-
-bzip2: lib lib.so.${VER}
+bzip2: lib
 	$(CC) $(CFLAGS) -c bzip2.c
 	$(CC) $(CFLAGS) -o bzip2 bzip2.o -L. -lbz2
 	$(CC) $(CFLAGS) -o bzip2recover bzip2recover.c
@@ -24,10 +22,6 @@
 	ar clq libbz2.a $(OBJS)
 	ranlib libbz2.a
 
-lib.so.${VER}: $(OBJS:S/o$/so/g)
-	rm -f libbz2.so.${VER}
-	ld -Bshareable -o libbz2.so.${VER} $(OBJS:S/o$/so/g)
-
 test: bzip2
 	@cat words1
 	./bzip2 -1 < sample1.ref > sample1.rb2
@@ -42,13 +36,10 @@
 	@cat words3
 
 clean: 
-	rm -f *.o *.so libbz2.a libbz2.so.${VER} bzip2 bzip2recover sample1.rb2 sample2.rb2 sample1.tst sample2.tst
+	rm -f *.o libbz2.a bzip2 bzip2recover sample1.rb2 sample2.rb2 sample1.tst sample2.tst
 
 .c.o: bzlib.h bzlib_private.h
 	$(CC) $(CFLAGS) -c $*.c -o $*.o
-
-.c.so:
-	$(CC) -fPIC -DPIC $(CFLAGS) -c $*.c -o $*.so
 
 tarfile:
 	tar cvf interim.tar *.c *.h Makefile manual.texi manual.ps LICENSE bzip2.1 bzip2.1.preformatted bzip2.txt words1 words2 words3 sample1.ref sample2.ref sample1.bz2 sample2.bz2 *.html README CHANGES libbz2.def libbz2.dsp dlltest.dsp 

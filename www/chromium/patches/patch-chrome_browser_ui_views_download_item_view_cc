$OpenBSD: patch-chrome_browser_ui_views_download_item_view_cc,v 1.2 2011/03/15 11:38:05 robert Exp $
--- chrome/browser/ui/views/download_item_view.cc.orig	Fri Mar 11 10:01:42 2011
+++ chrome/browser/ui/views/download_item_view.cc	Mon Mar 14 10:55:37 2011
@@ -261,7 +261,7 @@ DownloadItemView::DownloadItemView(DownloadItem* downl
 
     // Extract the file extension (if any).
     FilePath filename(download->target_name());
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_OPENBSD)
     std::wstring extension = base::SysNativeMBToWide(filename.Extension());
 #else
     std::wstring extension = filename.Extension();
@@ -270,7 +270,7 @@ DownloadItemView::DownloadItemView(DownloadItem* downl
     // Remove leading '.'
     if (extension.length() > 0)
       extension = extension.substr(1);
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_OPENBSD)
     std::wstring rootname =
         base::SysNativeMBToWide(filename.RemoveExtension().value());
 #else

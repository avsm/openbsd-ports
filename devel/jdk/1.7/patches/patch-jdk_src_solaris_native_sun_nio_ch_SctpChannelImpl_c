$OpenBSD: patch-jdk_src_solaris_native_sun_nio_ch_SctpChannelImpl_c,v 1.1 2009/06/10 19:01:09 kurt Exp $
--- jdk/src/solaris/native/sun/nio/ch/SctpChannelImpl.c.orig	Tue Jun  2 12:18:28 2009
+++ jdk/src/solaris/native/sun/nio/ch/SctpChannelImpl.c	Tue Jun  2 12:18:37 2009
@@ -338,11 +338,11 @@ void handlePeerAddrChange
             break;
         case SCTP_ADDR_MADE_PRIM :
             event = sun_nio_ch_SctpPeerAddrChange_SCTP_ADDR_MADE_PRIM;
-#ifdef __linux__  /* Solaris currently doesn't support SCTP_ADDR_CONFIRMED */
+#ifndef __solaris__  /* Solaris currently doesn't support SCTP_ADDR_CONFIRMED */
             break;
         case SCTP_ADDR_CONFIRMED :
             event = sun_nio_ch_SctpPeerAddrChange_SCTP_ADDR_CONFIRMED;
-#endif  /* __linux__ */
+#endif  /* __solaris__ */
     }
 
     addressObj = SockAddrToInetSocketAddress(env, (struct sockaddr*)&spc->spc_aaddr);

$OpenBSD: patch-hccontrol_hccontrol_c,v 1.2 2005/07/17 18:20:29 grange Exp $
--- hccontrol/hccontrol.c.orig	Sat Jul 16 00:54:41 2005
+++ hccontrol/hccontrol.c	Sun Jul 17 22:13:37 2005
@@ -135,6 +135,7 @@ socket_open(char const *node)
 			(void * const) &filter, sizeof(filter)) < 0)
 		err(4, "Could not setsockopt()");
 
+#ifdef __FreeBSD__
 	size = (sizeof(mib)/sizeof(mib[0]));
 	if (sysctlnametomib("net.bluetooth.hci.command_timeout",mib,&size) < 0)
 		err(5, "Could not sysctlnametomib()");
@@ -142,6 +143,7 @@ socket_open(char const *node)
 	if (sysctl(mib, sizeof(mib)/sizeof(mib[0]),
 			(void *) &timeout, &size, NULL, 0) < 0)
 		err(6, "Could not sysctl()");
+#endif
 
 	timeout ++;
 
@@ -268,7 +270,7 @@ print_hci_command(struct hci_command *ca
 static void
 usage(void)
 {
-	fprintf(stdout, "Usage: hccontrol -n HCI_node_name [-h] cmd [p1] [..]]\n");
+	fprintf(stdout, "Usage: hccontrol -n interface [-h] cmd [p1] [..]]\n");
 	exit(255);
 } /* usage */
 

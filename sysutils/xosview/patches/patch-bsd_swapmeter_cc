$OpenBSD: patch-bsd_swapmeter_cc,v 1.1 2002/03/18 06:51:24 form Exp $
--- bsd/swapmeter.cc.orig	Mon Mar 18 12:29:21 2002
+++ bsd/swapmeter.cc	Mon Mar 18 12:35:22 2002
@@ -34,7 +34,9 @@ SwapMeter::SwapMeter( XOSView *parent )
   useSwapCtl = 0;
 #endif
   BSDSwapInit();	//  In kernel.cc
+#if !(defined(XOSVIEW_OPENBSD) && defined(HAVE_SWAPCTL))
   if (!BSDInitSwapInfo())
+#endif
   {
 #ifdef HAVE_SWAPCTL
     //  Set up to use new swap code instead.
@@ -82,7 +84,11 @@ void SwapMeter::getswapinfo( void ){
       BSDGetSwapCtlInfo(&total_int, &free_int);
     else
 #endif
+#if defined(XOSVIEW_OPENBSD) && defined(HAVE_SWAPCTL)
+      ;
+#else
       BSDGetSwapInfo (&total_int, &free_int);
+#endif
   }
   else {
     total_int = 1;	/*  So the meter looks blank.  */

$OpenBSD: patch-src_config_py,v 1.1.1.1 2005/10/20 04:20:28 jolan Exp $
--- src/config.py.orig	Wed Oct 19 01:26:35 2005
+++ src/config.py	Wed Oct 19 01:27:06 2005
@@ -1021,7 +1021,10 @@ class PreferencesWindow:
 			if response != gtk.RESPONSE_OK:
 				break
 			file = dialog.get_filename()
-			file = file.decode(sys.getfilesystemencoding())
+			try:
+				file = file.decode(sys.getfilesystemencoding())
+			except:
+				pass
 			if os.path.exists(file):
 				break
 		dialog.destroy()
@@ -2004,7 +2007,10 @@ class ManageEmoticonsWindow:
 			response = dialog.run()
 			if response == gtk.RESPONSE_OK:
 				file = dialog.get_filename()
-				file = file.decode(sys.getfilesystemencoding())
+				try:
+					file = file.decode(sys.getfilesystemencoding())
+				except:
+					pass
 				if self.image_is_ok(file):
 					ok = True
 			else:

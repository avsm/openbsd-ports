--- configure.orig	Wed Nov 17 13:16:57 1999
+++ configure	Sat Dec  4 23:54:58 1999
@@ -1635,6 +1635,19 @@
   
 	  host_dir=linux
           host_os=linux ;;
+
+##  Check for OpenBSD 2.0-2.5
+openbsd2.[012345]*)
+        EXTRALIBS="-lkvm $XPMLIB"
+        INSTALL_ARGS='-s -g kmem -m 02555'
+	cat >> confdefs.h <<\EOF
+#define XOSVIEW_OPENBSD 1
+EOF
+
+
+			host_dir=bsd
+	host_os=openbsd ;;
+
 ##  Check for known versions of NetBSD...
 netbsd1.[012345]*)  
 	host_os=netbsd
@@ -1747,16 +1760,35 @@
 
 			host_dir=bsd
 	host_os=freebsd ;;
-openbsd*) 
+openbsd*)
         EXTRALIBS="-lkvm $XPMLIB"
         INSTALL_ARGS='-s -g kmem -m 02555'
 	cat >> confdefs.h <<\EOF
 #define XOSVIEW_OPENBSD 1
+#define HAVE_SWAPCTL 1
 EOF
+	## Also check for the existence of UVM.  This is a nasty,
+	## complicated check.  This could be avoided by having the *BSD
+	## platform-specific Makefiles include <bsd.own.mk> on their own.
 
+	cat > confmkfile <<\EOF
+.include <bsd.own.mk>
+all:
+.if defined(UVM) && ${UVM:U} == YES
+	@echo UVMyes
+.endif
+EOF
+	uvmstring=`make -f confmkfile`
+	rm confmkfile
+	if test x$uvmstring != x ; then
+		cat >> confdefs.h <<\EOF
+#define UVM 1
+EOF
+	fi
 
-			host_dir=bsd
-	host_os=openbsd ;;
+	host_dir=bsd
+	host_os=openbsd
+;;
 bsdi*) 
 	EXTRALIBS="-lkvm $XPMLIB"
 	INSTALL_ARGS='-s -g kmem -m 02555'

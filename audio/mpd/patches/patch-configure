$OpenBSD: patch-configure,v 1.3 2006/11/05 14:42:56 bernd Exp $
--- configure.orig	Wed Oct 11 01:57:30 2006
+++ configure	Fri Oct 27 20:00:53 2006
@@ -23301,7 +23301,7 @@ if test x$enable_iconv = xyes; then
 	oldcppflags=$CPPFLAGS
 	CFLAGS="$CFLAGS $MPD_CFLAGS $ICONV_CFLAGS"
 	LIBS="$LIBS $MPD_LIBS $ICONV_LIBS"
-	CPPFLAGS=$CFLAGS
+	CPPFLAGS=$CPPFLAGS
 	if test "${ac_cv_header_iconv_h+set}" = set; then
   echo "$as_me:$LINENO: checking for iconv.h" >&5
 echo $ECHO_N "checking for iconv.h... $ECHO_C" >&6
@@ -23548,7 +23548,7 @@ if test x$enable_id3 = xyes; then
 	oldcppflags=$CPPFLAGS
 	CFLAGS="$CFLAGS $MPD_CFLAGS $ID3TAG_CFLAGS"
 	LIBS="$LIBS $MPD_LIBS $ID3TAG_LIBS"
-	CPPFLAGS=$CFLAGS
+	CPPFLAGS=$CPPFLAGS
 
 for ac_header in id3tag.h
 do
@@ -23815,7 +23815,7 @@ if test x$enable_mp3 = xyes; then
 	oldcppflags=$CPPFLAGS
 	CFLAGS="$CFLAGS $MPD_CFLAGS $MAD_CFLAGS"
 	LIBS="$LIBS $MPD_LIBS $MAD_LIBS"
-	CPPFLAGS=$CFLAGS
+	CPPFLAGS=$CPPFLAGS
 
 for ac_header in mad.h
 do
@@ -24080,7 +24080,7 @@ if test x$enable_mpc = xyes; then
 	oldcppflags=$CPPFLAGS
 	CFLAGS="$CFLAGS $MPD_CFLAGS $MPCDEC_CFLAGS -I."
 	LIBS="$LIBS $MPD_LIBS $MPCDEC_LIBS"
-	CPPFLAGS=$CFLAGS
+	CPPFLAGS=$CPPFLAGS
 	if test "${ac_cv_header_mpcdec_mpcdec_h+set}" = set; then
   echo "$as_me:$LINENO: checking for mpcdec/mpcdec.h" >&5
 echo $ECHO_N "checking for mpcdec/mpcdec.h... $ECHO_C" >&6
@@ -24332,7 +24332,7 @@ if test x$enable_aac = xyes; then
 	oldcppflags=$CPPFLAGS
 	CFLAGS="$CFLAGS $MPD_CFLAGS $FAAD_CFLAGS -I."
 	LIBS="$LIBS $MPD_LIBS $FAAD_LIBS"
-	CPPFLAGS=$CFLAGS
+	CPPFLAGS=$CPPFLAGS
 	if test "${ac_cv_header_faad_h+set}" = set; then
   echo "$as_me:$LINENO: checking for faad.h" >&5
 echo $ECHO_N "checking for faad.h... $ECHO_C" >&6
@@ -26179,7 +26179,7 @@ fi;
     LIBOGGFLAC_LIBS="-L$libdir"
   fi
 
-  LIBOGGFLAC_LIBS="$LIBOGGFLAC_LIBS -lOggFLAC -lFLAC -lm"
+  LIBOGGFLAC_LIBS="$LIBOGGFLAC_LIBS -lOggFLAC -logg -lFLAC -lm"
 
   if test "x$libOggFLAC_includes" != "x" ; then
     LIBOGGFLAC_CFLAGS="-I$libOggFLAC_includes"

$OpenBSD: patch-vnc_unixsrc_vncviewer_rfbproto_c,v 1.2 2009/06/23 20:57:46 sthen Exp $

allow to build with GCC 2

--- vnc_unixsrc/vncviewer/rfbproto.c.orig	Sun May 31 18:29:44 2009
+++ vnc_unixsrc/vncviewer/rfbproto.c	Tue Jun 23 21:28:20 2009
@@ -2247,8 +2247,8 @@ extern void raiseme(int force);
 Bool
 SendTextChatOpen(void)
 {
-	raiseme(0);
 	rfbTextChatMsg chat;
+	raiseme(0);
 	chat.type = rfbTextChat;
 	chat.pad1 = 0;
 	chat.pad2 = 0;
@@ -2617,6 +2617,7 @@ HandleRFBServerMessage()
 	int try_delay_sync = 0;
 	int cnt_pseudo = 0;
 	int cnt_image  = 0;
+	int skip_incFBU = 0;
 
 	if (db) fprintf(stderr, "FBU-0:    %.6f\n", dnow());
 	if (rdb < 0) {
@@ -2635,7 +2636,6 @@ HandleRFBServerMessage()
 		}
 	}
 
-	int skip_incFBU = 0;
 	sent_FBU = -1;
 
 	if (appData.pipelineUpdates) {

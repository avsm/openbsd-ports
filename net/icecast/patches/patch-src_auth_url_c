$OpenBSD: patch-src_auth_url_c,v 1.1 2006/11/16 17:06:21 naddy Exp $
--- src/auth_url.c.orig	Thu Nov 16 18:00:51 2006
+++ src/auth_url.c	Thu Nov 16 18:01:18 2006
@@ -112,14 +112,6 @@ static void auth_url_clear(auth_t *self)
 }
 
 
-/* make sure that prompting at the console does not occur */
-static int my_getpass(void *client, char *prompt, char *buffer, int buflen)
-{
-    buffer[0] = '\0';
-    return 0;
-}
-
-
 static int handle_returned_header (void *ptr, size_t size, size_t nmemb, void *stream)
 {
     auth_client *auth_user = stream;
@@ -518,7 +510,6 @@ int auth_get_url_auth (auth_t *authentic
     curl_easy_setopt (url_info->handle, CURLOPT_WRITEDATA, url_info->handle);
     curl_easy_setopt (url_info->handle, CURLOPT_NOSIGNAL, 1L);
     curl_easy_setopt (url_info->handle, CURLOPT_TIMEOUT, 15L);
-    curl_easy_setopt (url_info->handle, CURLOPT_PASSWDFUNCTION, my_getpass);
     curl_easy_setopt (url_info->handle, CURLOPT_ERRORBUFFER, &url_info->errormsg[0]);
 
     if (url_info->username && url_info->password)

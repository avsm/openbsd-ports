$OpenBSD: patch-libncftp_ftp_c,v 1.1 2002/06/25 19:47:12 naddy Exp $
--- libncftp/ftp.c.orig	Mon Jun 24 21:12:15 2002
+++ libncftp/ftp.c	Mon Jun 24 21:12:25 2002
@@ -694,7 +694,7 @@ Passive(const FTPCIPtr cip, struct socka
 		if (isdigit((int) *cp))
 			break;
 	}
-	if (sscanf(cp, "%d|", &port) != 1) {
+	if (sscanf(cp, "%hd|", &port) != 1) {
 		Error(cip, kDontPerror, "Cannot parse EPSV response: %s\n", rp->msg.first->line);
 		goto next;
 	}

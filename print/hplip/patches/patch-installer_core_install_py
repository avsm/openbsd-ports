$OpenBSD: patch-installer_core_install_py,v 1.3 2009/02/02 10:47:12 ajacoutot Exp $
--- installer/core_install.py.orig	Tue Dec 11 19:41:47 2007
+++ installer/core_install.py	Mon Feb  2 10:51:04 2009
@@ -184,7 +184,7 @@ class CoreInstall(object):
             'reportlab':        (False, ['fax'], "Reportlab - PDF library for Python", self.check_reportlab), 
             'python23':         (True,  ['fax'], "Python 2.3 or greater - Required for fax functionality", self.check_python23),
 
-            'ppdev':            (True,  ['parallel'], "ppdev - Parallel port support kernel module.", self.check_ppdev),
+            'ppdev':            (False,  ['parallel'], "ppdev - Parallel port support kernel module.", self.check_ppdev),
 
             'pyqt':             (True,  ['gui'], "PyQt - Qt interface for Python", self.check_pyqt),
 
@@ -545,23 +545,23 @@ class CoreInstall(object):
         return check_tool('gcc --version', 0) and check_tool('g++ --version', 0)
 
     def check_make(self):
-        return check_tool('make --version', 3.0)
+        return check_tool('true', 0)
 
     def check_libusb(self):
         if not check_lib('libusb'):
             return False
 
-        return len(locate_file_contains("usb.h", '/usr/include', 'usb_init(void)')) > 0
+        return len(locate_file_contains("usb.h", '${LOCALBASE}/include', 'usb_init(void)')) > 0
 
 
     def check_libjpeg(self):
         return check_lib("libjpeg") and check_file("jpeglib.h")
 
     def check_libcrypto(self):
-        return check_lib("libcrypto") and check_file("crypto.h")
+        return True
 
     def check_libpthread(self):
-        return check_lib("libpthread") and check_file("pthread.h")
+        return True
 
     def check_libnetsnmp(self):
         return check_lib("libnetsnmp") and check_file("net-snmp-config.h")
@@ -599,7 +599,7 @@ class CoreInstall(object):
         return check_lib('libsane')
 
     def check_sane_devel(self):
-        return len(locate_file_contains("sane.h", '/usr/include', 'extern SANE_Status sane_init')) > 0
+        return len(locate_file_contains("sane.h", '${LOCALBASE}/include', 'extern SANE_Status sane_init')) > 0
 
     def check_xsane(self):
         if os.getenv('DISPLAY'):
@@ -683,7 +683,7 @@ class CoreInstall(object):
 
     def check_hplip(self):
         log.debug("Checking for HPLIP...")
-        return check_ps(['hpiod', 'hpssd']) and locate_files('hplip.conf', '/etc/hp')
+        return check_ps(['hpiod', 'hpssd']) and locate_files('hplip.conf', '${SYSCONFDIR}/hp')
 
     def check_hpssd(self):
         log.debug("Checking for hpssd...")

$OpenBSD: patch-widgets_e-timezone-dialog_e-timezone-dialog_c,v 1.8 2010/04/22 16:30:02 jasper Exp $
--- widgets/e-timezone-dialog/e-timezone-dialog.c.orig	Mon Feb 22 07:41:57 2010
+++ widgets/e-timezone-dialog/e-timezone-dialog.c	Thu Apr 22 12:53:49 2010
@@ -327,7 +327,6 @@ e_timezone_dialog_construct (ETimezoneDialog *etd)
 	return NULL;
 }
 
-#if 0
 static gint
 get_local_offset (void)
 {
@@ -340,10 +339,11 @@ get_local_offset (void)
 	t_gmt = mktime (&gmt);
 	t_local = mktime (&local);
 	diff = t_local - t_gmt;
+	if (local.tm_isdst == 1)
+		diff += 3600;
 
 	return diff;
 }
-#endif
 
 static icaltimezone*
 get_local_timezone(void)

$OpenBSD: patch-configure_in,v 1.3 2004/01/16 01:10:47 brad Exp $
--- configure.in.orig	2003-10-19 12:53:41.000000000 -0400
+++ configure.in	2003-12-28 21:51:32.000000000 -0500
@@ -68,15 +68,12 @@ else
 fi
 AM_GNU_GETTEXT
 
-AC_CHECK_FUNC(gettext, gettext_without_libintl=true)
-# same trick as with libdl:
-# if gettext() doesn't require linking against libintl,
-# we don't have to check for gettext in libintl. Otherwise
-# we may even require libintl.
-dnl AC_CHECK_LIB(intl, gettext, [LIBS="$LIBS -lintl"])
-if test "$gettext_without_libintl" != "true" -a "$USE_NLS" = "yes"; then
-        AC_CHECK_LIB(intl, gettext, [INTLLIBS="$INTLLIBS -lintl"])
-fi
+AC_CHECK_LIB(intl, bindtextdomain,
+  [AC_CACHE_VAL(gt_cv_func_gettext_libintl,
+    [AC_CHECK_LIB(intl, gettext,
+      [gt_cv_func_gettext_libintl=yes; LIBS="$LIBS -lintl"],
+    gt_cv_func_gettext_libintl=no)],
+gt_cv_func_gettext_libintl=no)])
 
 dnl ---------------------------------------------------------------------------
 dnl Turn on debugging and all warnings when using gcc

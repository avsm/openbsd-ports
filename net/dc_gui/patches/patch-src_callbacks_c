$OpenBSD: patch-src_callbacks_c,v 1.1.1.1 2002/02/01 02:40:17 naddy Exp $
--- src/callbacks.c.orig	Mon Jan 28 12:49:50 2002
+++ src/callbacks.c	Mon Jan 28 12:49:58 2002
@@ -9,9 +9,12 @@
 #include <sys/types.h>
 #include <dirent.h>
 #include <gdk/gdkkeysyms.h>
-#include <linux/sem.h>
 #include <gnome.h>
 
+#ifdef HAVE_LINUX_SEM_H
+# include <linux/sem.h>     /* for the value of SEMVMX */
+#endif
+
 #include "callbacks.h"
 #include "interface.h"
 #include "support.h"
@@ -22,6 +25,10 @@
 #include "do_connect.h"
 #include "dctc_process.h"
 #include "gui_define.h"
+
+#ifdef __OpenBSD__
+# define SEMVMX 32767
+#endif
 
 static void start_download_from_clist(char *clist_name, int nick_col, int filename_col, int localfname_col);
 

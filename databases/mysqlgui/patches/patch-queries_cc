$OpenBSD: patch-queries_cc,v 1.1.1.1 2001/04/02 15:14:52 wilfried Exp $
--- queries.cc.orig	Wed Dec 27 13:44:44 2000
+++ queries.cc	Sat Feb 10 19:22:49 2001
@@ -1,7 +1,7 @@
 // generated by Fast Light User Interface Designer (fluid) version 1.00
 #include "queries.h"
 #include "qsort.h"
-extern unsigned int num_of_tables; static int static_int=0, st=0; extern Connection *con;
+extern unsigned int num_of_tables; static volatile int static_int=0, st=0; extern Connection *con;
 static Fl_Window *w_tables=(Fl_Window *)0;
 static   vector<int> query_tables;
 static Fl_Button *b_all=(Fl_Button*)0;
@@ -266,6 +266,6 @@ void make_query(Fl_Widget *, void *) {
     }
     o->end(); st=1;
 //    o->size_range(w_tables->w(),w_tables->h());
-    w_tables->show(); while (w_tables->visible()) Fl::wait();
+    w_tables->show(); while (static_int && w_tables->visible()) Fl::wait();
   }
 }

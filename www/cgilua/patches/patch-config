$OpenBSD: patch-config,v 1.1.1.1 2005/05/25 06:11:00 jolan Exp $
--- config.orig	Wed Dec 22 12:31:19 2004
+++ config	Wed May 25 00:10:41 2005
@@ -1,6 +1,6 @@
 # Installation directories
 LUA_DIR= /usr/local/share/lua/5.0
-LUA_LIBDIR= /usr/local/lib/lua/5.0
+LUA_LIBDIR= $(LOCALBASE)/lib
 # Apache root directory
 APACHE2_DIR= /usr/local/apache2
 CGI_DIR= $(APACHE2_DIR)/cgi-bin
@@ -10,26 +10,22 @@ FCGI_DIR= $(APACHE2_DIR)/fcgilua
 MOD_DEFS= -DLUA_STATE_PER_PROCESS
 #MOD_DEFS= -DLUA_STATE_PER_REQUEST
 # Lua Compiler
-LUAC= /usr/local/bin/luac
+LUAC= $(LOCALBASE)/bin/luac
 # Lua Binary converter (bin2c)
 # Lua distribution includes it at etc directory
-BIN2C= /usr/local/bin/bin2c
+BIN2C= $(LOCALBASE)/bin/bin2c
 
 # OS dependent
-LIB_EXT= .dylib
-#LIB_EXT= .so
-LIB_OPTION= -dynamiclib #for MacOS X
-#LIB_OPTION= -shared #for Linux
+#LIB_EXT= .dylib
+LIB_EXT= .so
+#LIB_OPTION= -dynamiclib #for MacOS X
+LIB_OPTION= -shared
 
 # Compilation directives
 # pre-compile and include .lua file of launchers into .c file.
 CGILUA_DEFS= -DINCLUDE_LUA
-# On FreeBSD systems, the following line should be commented
-DLLIB= -ldl
-WARN= -O2 -Wall -fPIC -W -Waggregate-return -Wcast-align -Wmissing-prototypes -Wnested-externs -Wshadow -Wwrite-strings
-INCS= -I/usr/local/include/lua5
-CFLAGS= $(WARN) $(INCS) $(CGILUA_DEFS)
-CC= gcc
+INCS= -I$(LOCALBASE)/include
+CFLAGS+= $(INCS) $(CGILUA_DEFS)
 
 #########################################################
 VERSION= 5.0b2
@@ -43,7 +39,7 @@ CGILUA_DOC=        $(CGILUA_DIR)/doc
 # Lua 5.1 package compatibility
 COMPAT_DIR= compat
 
-CL_LIBS= -llua -llualib -lm $(DLLIB)
+CL_LIBS= -llua -llualib -lm -L$(LOCALBASE)/lib -static
 LIBS= $(CL_LIBS)
 
 # $Id: config,v 1.29 2004/12/22 19:23:43 tuler Exp $

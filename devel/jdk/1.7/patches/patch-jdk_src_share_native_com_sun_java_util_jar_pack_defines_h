$OpenBSD: patch-jdk_src_share_native_com_sun_java_util_jar_pack_defines_h,v 1.3 2009/05/23 03:03:25 kurt Exp $
--- jdk/src/share/native/com/sun/java/util/jar/pack/defines.h.orig	Fri May  8 03:35:00 2009
+++ jdk/src/share/native/com/sun/java/util/jar/pack/defines.h	Sat May  9 11:04:59 2009
@@ -32,6 +32,10 @@
 #include <unistd.h>
 #endif
 
+#ifndef NO_ZLIB
+#      include <zconf.h>
+#endif
+
 #ifndef FULL
 #define FULL 1 /* Adds <500 bytes to the zipped final product. */
 #endif
@@ -89,10 +93,12 @@ extern int assert_failed(const char*);
 // bytes and byte arrays
 
 typedef unsigned int uint;
+#ifdef NO_ZLIB
 #ifdef _LP64
 typedef unsigned int uLong; // Historical zlib, should be 32-bit.
 #else
 typedef unsigned long uLong;
+#endif
 #endif
 #ifdef _MSC_VER
 typedef LONGLONG        jlong;

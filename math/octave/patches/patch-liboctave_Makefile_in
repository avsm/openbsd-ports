$OpenBSD: patch-liboctave_Makefile_in,v 1.2 2005/11/02 18:20:58 alek Exp $
--- liboctave/Makefile.in.orig	Wed May 18 14:20:25 2005
+++ liboctave/Makefile.in	Mon Sep 26 07:42:42 2005
@@ -211,12 +211,8 @@ liboctave.$(LIBEXT): $(LIBOCTAVE_OBJECTS
 	$(TEMPLATE_AR) $(TEMPLATE_ARFLAGS) $@ $(LIBOCTAVE_OBJECTS)
 	$(RANLIB) $@
 
-liboctave.$(SHLEXT_VER): liboctave.$(SHLEXT)
+liboctave.$(SHLEXT_VER): $(LIBOCTAVE_PICOBJ)
 	rm -f $@
-	$(LN_S) $< $@
-
-liboctave.$(SHLEXT): $(LIBOCTAVE_PICOBJ)
-	rm -f $@
 	$(SH_LD) $(SH_LDFLAGS) $(SONAME_FLAGS) -o $@ \
 	$(LIBOCTAVE_PICOBJ) $(LINK_DEPS)
 
@@ -243,9 +239,7 @@ install-lib:
 	if $(SHARED_LIBS); then \
 	  rm -f $(DESTDIR)$(octlibdir)/liboctave.$(SHLLIB_VER); \
 	  $(INSTALL) \
-	    liboctave.$(SHLLIB) $(DESTDIR)$(octlibdir)/liboctave.$(SHLLIB_VER); \
-	  rm -f $(DESTDIR)$(octlibdir)/liboctave.$(SHLLIB); \
-	  $(LN_S) liboctave.$(SHLLIB_VER) $(DESTDIR)$(octlibdir)/liboctave.$(SHLLIB); \
+	    liboctave.$(SHLLIB_VER) $(DESTDIR)$(octlibdir)/liboctave.$(SHLLIB_VER); \
 	  if  test x$(SHLBIN) != x ; then \
 	    rm -f $(DESTDIR)$(bindir)/liboctave.$(SHLBIN); \
 	    $(INSTALL_PROGRAM) \

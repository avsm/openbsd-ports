$OpenBSD: patch-config_Makefile_in,v 1.4 2006/03/07 09:19:14 espie Exp $
--- config/Makefile.in.orig	Sat Feb 11 20:52:57 2006
+++ config/Makefile.in	Tue Mar  7 10:04:44 2006
@@ -775,6 +775,8 @@ uninstall::
 	rm -f $(BINDIR)/mlnet
 	rm -f $(BINDIR)/mlgui
 
+ifeq ("$(MODOCAML_NATIVE)", "Yes")
+
 install:: opt 
 	mkdir -p $(DESTDIR)$(prefix)/bin
 	if test -f mlnet; then \
@@ -797,6 +799,22 @@ install:: opt 
              rm -f $(DESTDIR)$(prefix)/bin/mlim; cp -f mlim $(DESTDIR)$(prefix)/bin/mlim; \
          fi
 
+else
+
+install::
+	cp -f mlnet.byte $(DESTDIR)$(prefix)/bin/mlnet
+	for link in mlslsk mldonkey mlgnut mldc mlbt; do \
+	  ln -s mlnet $(DESTDIR)$(prefix)/bin/$$link; \
+	done
+	cp -f mlgui.byte $(DESTDIR)$(prefix)/bin/mlgui
+	cp -f mlgui.byte $(DESTDIR)$(prefix)/bin/mldonkey_gui
+	cp -f mlnet.byte $(DESTDIR)$(prefix)/bin/mlnet+gui
+	for link in mlslsk+gui mldonkey+gui mlgnut+gui mldc+gui mlbt+gui; do \
+	  ln -s mlnet+gui $(DESTDIR)$(prefix)/bin/$$link; \
+	done
+	cp -f mlim.byte $(DESTDIR)$(prefix)/bin/mlim;
+
+endif
 
 ifneq ("$(GUI)" , "no")
   ifeq ("$(GUI)", "newgui2")

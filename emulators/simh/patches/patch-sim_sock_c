$OpenBSD: patch-sim_sock_c,v 1.5 2005/06/19 03:47:25 david Exp $
--- sim_sock.c.orig	Thu Apr 14 18:04:40 2005
+++ sim_sock.c	Fri Jun 17 21:30:01 2005
@@ -184,7 +184,7 @@ return newsock;						/* got it! */
 SOCKET sim_accept_conn (SOCKET master, uint32 *ipaddr)
 {
 int32 sta, err;
-#if defined (macintosh) 
+#if defined (macintosh) || defined (USE_SOCKLEN_T)
 socklen_t size;
 #elif defined (_WIN32) || defined (__EMX__) || defined (__APPLE__) ||\
      (defined (__ALPHA) && defined (__unix__))

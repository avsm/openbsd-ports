$OpenBSD: patch-GNUmakefile_in,v 1.1.1.1 2006/06/25 10:42:23 steven Exp $
--- GNUmakefile.in.orig	Thu Apr 27 15:49:14 2006
+++ GNUmakefile.in	Mon Jun 19 13:18:28 2006
@@ -7,7 +7,7 @@ FILES= mftrace.py GNUmakefile.in \
 	README.texi README.txt ChangeLog \
 	mftrace.spec.in mftrace.spec \
 	$(PY_MODULES) configure configure.in config.h.in
-CFLAGS=-Wall -O2 -I.
+CFLAGS+=-Wall -I.
 srcdir=@srcdir@
 VPATH=$(srcdir)
 NAME=mftrace
@@ -15,7 +15,7 @@ MANPAGES=mftrace.1
 VERSION=@VERSION@
 distdir=$(NAME)-$(VERSION)
 prefix=@prefix@
-datadir=@datadir@/mftrace/
+datadir=$(MODPY_SITEPKG)
 exec_prefix=@exec_prefix@
 bindir=@bindir@
 mandir=@mandir@
@@ -65,7 +65,7 @@ install: mftrace gf2pbm $(PYC_MODULES) i
 
 install-py: $(PY_MODULES) $(PYC_MODULES) 
 	install -d $(DESTDIR)$(datadir)
-	install -m644 $^ $(DESTDIR)$(datadir) 
+	install -m644 -p $^ $(DESTDIR)$(datadir) 
 
 install-man: $(MANPAGES)
 	install -d $(DESTDIR)$(mandir)/man1

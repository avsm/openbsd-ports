$OpenBSD: patch-jdk_make_java_hpi_native_Makefile,v 1.2 2009/06/10 19:01:09 kurt Exp $
--- jdk/make/java/hpi/native/Makefile.orig	Thu May 14 03:29:40 2009
+++ jdk/make/java/hpi/native/Makefile	Tue Jun  2 12:12:03 2009
@@ -72,16 +72,25 @@ OTHER_CPPFLAGS += -DUSE_PTHREADS
 ifeq ($(MOOT_PRIORITIES),true)
 OTHER_CPPFLAGS += -DMOOT_PRIORITIES
 endif
+ifeq ($(PLATFORM), bsd)
+LIBPOSIX4      =
+OTHER_LDLIBS   += -pthread
+else
 LIBPOSIX4	= -lposix4
 OTHER_LDLIBS   += -lpthread $(LIBPOSIX4)
 endif
+endif
 
+ifneq ($(PLATFORM), bsd)
 HAVE_GETHRVTIME=true
+endif
 ifeq ($(HAVE_GETHRVTIME),true)
 OTHER_CPPFLAGS += -DHAVE_GETHRVTIME
 endif
 
+ifneq ($(OS_VENDOR), OpenBSD)
 HAVE_FILIOH=true
+endif
 ifeq ($(HAVE_FILIOH),true)
 OTHER_CPPFLAGS += -DHAVE_FILIOH
 endif

$OpenBSD: patch-fsdiff_c,v 1.2 2005/01/26 00:33:30 pvalchev Exp $
--- fsdiff.c.orig	Tue Sep 28 10:39:14 2004
+++ fsdiff.c	Thu Jan 13 08:42:34 2005
@@ -59,13 +59,7 @@ fs_walk( char *path, int start, int fini
 	    }
 
 	    if ( ischild( tran->t_pinfo.pi_name, path )) {
-		/*
-		 * XXX
-		 * This strcpy() is not itself dangerous, because pi_name
-		 * is a MAXPATHLEN-sized buffer.  However, it does not appear
-		 * that copies into pi_name are carefully checked.
-		 */
-		strcpy( temp, tran->t_pinfo.pi_name );
+		(void)strlcpy( temp, tran->t_pinfo.pi_name, sizeof( temp ) );
 		fs_walk( temp, start, finish );
 	    } else {
 		return;

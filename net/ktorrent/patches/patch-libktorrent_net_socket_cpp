$OpenBSD: patch-libktorrent_net_socket_cpp,v 1.2 2007/12/27 10:24:51 sthen Exp $
--- libktorrent/net/socket.cpp.orig	Tue Nov 13 14:36:49 2007
+++ libktorrent/net/socket.cpp	Fri Nov 16 04:42:46 2007
@@ -38,7 +38,7 @@
 #include <sys/filio.h>
 #endif
 
-#if defined(Q_OS_MACX) || defined(Q_OS_DARWIN) || (defined(Q_OS_FREEBSD) && __FreeBSD_version < 600020) || defined (Q_OS_SOLARIS) || defined(Q_OS_NETBSD) 
+#if defined(Q_OS_MACX) || defined(Q_OS_DARWIN) || (defined(Q_OS_FREEBSD) && __FreeBSD_version < 600020) || defined (Q_OS_SOLARIS) || defined(Q_OS_NETBSD) || defined(Q_OS_OPENBSD)
 #define MSG_NOSIGNAL 0
 #endif
 
@@ -260,7 +260,7 @@ namespace net
 	
 	bool Socket::setTOS(unsigned char type_of_service)
 	{
-#if defined(Q_OS_MACX) || defined(Q_OS_DARWIN) || (defined(Q_OS_FREEBSD) && __FreeBSD_version < 600020) || defined(Q_OS_NETBSD) || defined(Q_OS_BSD4)
+#if defined(Q_OS_MACX) || defined(Q_OS_DARWIN) || (defined(Q_OS_FREEBSD) && __FreeBSD_version < 600020) || defined(Q_OS_NETBSD) || defined(Q_OS_OPENBSD) || defined(Q_OS_BSD4)
 		unsigned int c = type_of_service;
 #else
 		unsigned char c = type_of_service;

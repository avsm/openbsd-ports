$OpenBSD: patch-src_unix_unix_mak,v 1.2 2001/08/12 23:03:10 naddy Exp $
--- src/unix/unix.mak.orig	Sun Apr  8 22:54:42 2001
+++ src/unix/unix.mak	Mon Aug  6 07:05:14 2001
@@ -50,7 +50,7 @@
 LIBS.xfx        = $(X11LIB) $(JOY_X11_LIBS) -lX11 -lXext -lglide2x
 LIBS.svgafx     = $(X11LIB) -lvga -lvgagl -lglide2x
 LIBS.openstep	= -framework AppKit
-LIBS.SDL	= -ldl -lSDL -lpthread -D_REENTRANT
+LIBS.SDL	= $(X11LIB) -lSDL -pthread -D_REENTRANT
 LIBS.photon2	= -L/usr/lib -lph -lphrender
 
 CFLAGS.x11      = $(X11INC) $(JOY_X11_CFLAGS)
@@ -166,7 +166,7 @@
 # CONFIG are the cflags used to build the unix tree, this is were most defines
 # go
 CONFIG = $(MY_CFLAGS) $(CFLAGS.$(DISPLAY_METHOD)) -DNAME='\"x$(TARGET)\"' \
-	-DDISPLAY_METHOD='\"$(DISPLAY_METHOD)\"' -DXMAMEROOT='\"$(XMAMEROOT)\"'
+	-DDISPLAY_METHOD='\"$(DISPLAY_METHOD)\"' -DXMAMEROOT='\"$(SYSCONFDIR)\"'
 
 ifdef HAVE_GETTIMEOFDAY
 CONFIG += -DHAVE_GETTIMEOFDAY
@@ -345,12 +345,12 @@
 doinstall:
 	@echo installing binaries under $(BINDIR)...
 	-$(INSTALL_PROGRAM_DIR) $(BINDIR)
-	$(INSTALL_PROGRAM) $(NAME).$(DISPLAY_METHOD) $(BINDIR)
+	$(INSTALL_PROGRAM) $(NAME).$(DISPLAY_METHOD) $(BINDIR)/$(NAME)
 
 doinstallsuid:
 	@echo installing binaries under $(BINDIR)...
 	-$(INSTALL_PROGRAM_DIR) $(BINDIR)
-	$(INSTALL_PROGRAM_SUID) $(NAME).$(DISPLAY_METHOD) $(BINDIR)
+	$(INSTALL_PROGRAM_SUID) $(NAME).$(DISPLAY_METHOD) $(BINDIR)/$(NAME)
 
 copycab:
 	@echo installing cabinet files under $(XMAMEROOT)...

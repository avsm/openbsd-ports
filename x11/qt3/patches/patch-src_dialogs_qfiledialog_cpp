$OpenBSD: patch-src_dialogs_qfiledialog_cpp,v 1.3 2003/01/19 17:36:51 espie Exp $
--- src/dialogs/qfiledialog.cpp.orig	Mon Dec  9 10:40:29 2002
+++ src/dialogs/qfiledialog.cpp	Sun Jan 19 15:55:16 2003
@@ -3168,7 +3168,7 @@ void QFileDialog::setDir( const QString 
 	    user = dr.mid( 1, i-1 ).local8Bit();
 	dr = dr.mid( i, dr.length() );
 	struct passwd *pw;
-#if defined(QT_THREAD_SUPPORT) && defined(_POSIX_THREAD_SAFE_FUNCTIONS)
+#if defined(QT_THREAD_SUPPORT) && defined(_POSIX_THREAD_SAFE_FUNCTIONS) && !defined(__OpenBSD__)
 	struct passwd mt_pw;
 	char buffer[2048];
 	if ( ::getpwnam_r( user, &mt_pw, buffer, 2048, &pw ) == 0 && pw == &mt_pw )

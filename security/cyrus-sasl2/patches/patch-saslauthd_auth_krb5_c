$OpenBSD: patch-saslauthd_auth_krb5_c,v 1.1.1.1 2002/06/22 08:55:44 jakob Exp $
--- saslauthd/auth_krb5.c.orig	Thu Jun 20 18:48:17 2002
+++ saslauthd/auth_krb5.c	Thu Jun 20 18:49:42 2002
@@ -161,8 +161,7 @@ auth_krb5 (
     }
     
     /* create a new CCACHE so we don't stomp on anything */
-    snprintf(tfname,sizeof(tfname), "%s/k5cc_%d_%d", tf_dir,
-	     getpid(), pthread_self());
+    snprintf(tfname,sizeof(tfname), "%s/k5cc_%d", tf_dir, getpid());
     if (krb5_cc_resolve(context, tfname, &ccache)) {
 	krb5_free_principal(context, auth_user);
 	krb5_free_context(context);
@@ -302,7 +301,7 @@ auth_krb5 (
     }
     
     /* create a new CCACHE so we don't stomp on anything */
-    snprintf(tfname,sizeof(tfname), "/tmp/k5cc_%d", getpid());
+    snprintf(tfname,sizeof(tfname), "%s/k5cc_%d", tf_dir, getpid());
     if (krb5_cc_resolve(context, tfname, &ccache)) {
 	krb5_free_principal(context, auth_user);
 	krb5_free_context(context);

$OpenBSD: patch-scripts_xdg-open,v 1.1 2008/11/01 19:30:07 ajacoutot Exp $
--- scripts/xdg-open.orig	Thu Oct 30 19:38:11 2008
+++ scripts/xdg-open	Thu Oct 30 19:38:32 2008
@@ -403,6 +403,15 @@ if [ -z "${url}" ] ; then
     exit_failure_syntax "file or URL argument missing"
 fi
 
+if which xdg-open-hook > /dev/null 2> /dev/null; then
+    xdg-open-hook "$url"
+    if [ $? -eq 0 ]; then
+        exit_success
+    else
+        exit_failure_operation_failed
+    fi
+fi
+
 detectDE
 
 if [ x"$DE" = x"" ]; then

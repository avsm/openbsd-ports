$OpenBSD: patch-PerlMagick_Makefile_PL,v 1.8 2006/10/28 16:20:52 steven Exp $
--- PerlMagick/Makefile.PL.orig	Sat Oct 14 21:45:43 2006
+++ PerlMagick/Makefile.PL	Sat Oct 21 13:34:16 2006
@@ -44,13 +44,13 @@ WriteMakefile
    'DEFINE'	=> ' -D_FILE_OFFSET_BITS=64 -DHAVE_CONFIG_H',     # e.g., '-DHAVE_SOMETHING' 
 
    # Header search specfication and preprocessor flags
-   'INC'	=> '-I../ -I.. -I/usr/include/freetype2 -I/usr/include/libxml2',
+   'INC'	=> '-I../ -I.. -I%%X11BASE%%/include -I%%X11BASE%%/include/X11',
 
    # C pre-processor flags (e.g. -I & -D options)
    # 'CPPFLAGS'    => "$Config{'cppflags'} -I/usr/include/freetype2 -I/usr/include/libxml2",
 
    # C compiler flags (e.g. -O -g)
-   'CCFLAGS'     => "$Config{'ccflags'} -O3 -g -Wall -W -pthread",
+   'CCFLAGS'     => "$Config{'ccflags'} %%CFLAGS%%",
 
    # Linker flags for building an executable
    'LDFLAGS'    =>  "-L../magick/.libs -lMagick $Config{'ldflags'}",
@@ -62,7 +62,7 @@ WriteMakefile
    'INSTALLBIN'	=> '/usr/bin',
 
    # Library specification
-   'LIBS'	=> [ '-L/usr/lib -lfreetype -L/usr/lib -llcms -ltiff -lfreetype -ljpeg -lfontconfig -lXext -lSM -lICE -lX11 -lXt -lbz2 -lz -lpthread -lm -lpthread' ],
+   'LIBS'	=> [ '-L%%LOCALBASE%%/lib -lMagick -L%%X11BASE%%/lib -ljbig -llcms -ltiff -lfreetype -ljasper -ljpeg -lpng -lXext -lXt -lSM -lICE -lX11 -lbz2 -lxml2 -lz -lm' ],
 
    # Perl binary name (if a Perl binary is built)
    'MAP_TARGET'	=> 'PerlMagick',

$OpenBSD: patch-libmpdemux_stream_c,v 1.2 2002/06/04 11:26:17 espie Exp $
--- libmpdemux/stream.c.orig	Sun May  5 18:22:59 2002
+++ libmpdemux/stream.c	Tue Jun  4 13:22:41 2002
@@ -20,11 +20,10 @@ extern int verbose; // defined in mplaye
 
 #ifdef HAVE_VCD
 
-#ifdef __FreeBSD__
+#if defined(__FreeBSD__) || defined(__OpenBSD__)
 #include "vcd_read_fbsd.h" 
 #elif defined(__NetBSD__)
 #include "vcd_read_nbsd.h" 
-#else
 #include "vcd_read.h"
 #endif
 
@@ -260,6 +259,7 @@ void free_stream(stream_t *s){
     waitpid(s->cache_pid,NULL,0);
   }
   if(s->priv) free(s->priv);
+  close(s->fd);
   free(s);
 }
 

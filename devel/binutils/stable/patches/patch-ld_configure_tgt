$OpenBSD: patch-ld_configure_tgt,v 1.7 2003/06/15 04:43:31 brad Exp $
--- ld/configure.tgt.orig	Mon Oct 28 16:58:12 2002
+++ ld/configure.tgt	Tue Jun 10 04:30:01 2003
@@ -70,12 +70,15 @@ sparc*-*-linux-gnu*)	targ_emul=elf32_spa
 			tdir_sun4=sparc-sun-sunos4
 			;;
 sparc*-*-lynxos*)	targ_emul=sparclynx ;;
-sparc64-*-netbsd* | sparc64-*-openbsd*)
-			targ_emul=elf64_sparc
+sparc64-*-netbsd*)	targ_emul=elf64_sparc
 			targ_extra_emuls="elf32_sparc"
 			;;
+sparc64-*-openbsd*)	targ_emul=elf64_sparc ;;
 sparc*-*-netbsd*elf*)	targ_emul=elf32_sparc ;;
 sparc*-*-netbsd*)	targ_emul=sparcnbsd ;;
+sparc-*-openbsd[0-2].* | sparc-*-openbsd3.[0-1])
+			targ_emul=sparcobsd ;;
+sparc*-*-openbsd*)      targ_emul=elf32_sparc ;;
 sparc-*-solaris2.[0-6] | sparc-*-solaris2.[0-6].*)
 			targ_emul=elf32_sparc ;;
 sparc-*-solaris2*)	targ_emul=elf32_sparc
@@ -169,6 +172,14 @@ i[3456]86-*-netbsdpe*)	targ_emul=i386pe
 i[3456]86-*-netbsd*)	targ_emul=i386nbsd
 			targ_extra_emuls=elf_i386
 			;;
+i[3456]86-*-openbsd[0-2].* | i[3456]86-*-openbsd3.[0-2])
+			targ_emul=i386obsd ;;
+i[3456]86-*-openbsd*)	targ_emul=elf_i386 ;;
+x86_64-*-openbsd*)	targ_emul=elf_x86_64
+			targ_extra_emuls="elf_x86_64 elf_i386"
+			tdir_elf_i386=`echo ${targ_alias} \
+			    | sed -e 's/x86_64/i386/'`
+			;;
 x86_64-*-netbsd*)	targ_emul=elf_x86_64
 			targ_extra_emuls="elf_i386 i386nbsd"
 			tdir_elf_i386=`echo ${targ_alias} | \
@@ -340,6 +351,7 @@ m68*-*-netbsdelf*)	targ_emul=m68kelfnbsd
 m68*-*-netbsdaout* | m68*-*-netbsd*)
 			targ_emul=m68knbsd
 			targ_extra_emuls="m68kelfnbsd m68k4knbsd" ;;
+m68*-*-openbsd*)	targ_emul=m68kobsd ;;
 m68*-*-psos*)		targ_emul=m68kpsos ;;
 m68*-*-rtemscoff*)	targ_emul=m68kcoff ;;
 m68*-*-rtems*)		targ_emul=m68kelf ;;
@@ -375,6 +387,8 @@ mips*el-*-netbsd*)	targ_emul=elf32lmip
 mips*-*-netbsd*)	targ_emul=elf32bmip
 			targ_extra_emuls="elf32lmip"
 			;;
+mips*el-*-openbsd*)	targ_emul=elf32lmip ;;
+mips*-*-openbsd*)	targ_emul=elf32bmip ;;
 mips*-*-bsd*)		targ_emul=mipsbig ;;
 mips*vr4300el-*-elf*)	targ_emul=elf32l4300 ;;
 mips*vr4300-*-elf*)	targ_emul=elf32b4300 ;;

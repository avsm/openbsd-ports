$OpenBSD: patch-jdk_src_share_native_sun_awt_medialib_mlib_types_h,v 1.1 2008/03/19 18:05:46 kurt Exp $
--- jdk/src/share/native/sun/awt/medialib/mlib_types.h.orig	Tue Oct 30 05:03:48 2007
+++ jdk/src/share/native/sun/awt/medialib/mlib_types.h	Wed Nov  7 18:16:19 2007
@@ -59,7 +59,14 @@ typedef double             mlib_d64;
 
 #if defined(__SUNPRO_C) || defined(__SUNPRO_CC) || defined(__GNUC__)
 
-#if defined(__linux__)
+#if defined(_ALLBSD_SOURCE)
+#include <stddef.h>                     /* for ptrdiff_t */
+#if defined(__OpenBSD__)
+#include <inttypes.h>                   /* for uintptr_t */
+#else
+#include <stdint.h>                     /* for uintptr_t */
+#endif
+#elif defined(__linux__)
 #include <stdint.h>                     /* for uintptr_t */
 #include <malloc.h>                     /* for ptrdiff_t */
 #else

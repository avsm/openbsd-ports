$OpenBSD: patch-mono_mini_exceptions-amd64_c,v 1.6 2010/08/22 17:00:00 robert Exp $
--- mono/mini/exceptions-amd64.c.orig	Sun Aug 22 18:56:46 2010
+++ mono/mini/exceptions-amd64.c	Sun Aug 22 18:56:56 2010
@@ -722,7 +722,7 @@ handle_signal_exception (gpointer obj, gboolean test_o
 gboolean
 mono_arch_handle_exception (void *sigctx, gpointer obj, gboolean test_only)
 {
-#if defined(MONO_ARCH_USE_SIGACTION)
+#if defined(MONO_ARCH_USE_SIGACTION) && defined(UCONTEXT_GREGS)
 	/*
 	 * Handling the exception in the signal handler is problematic, since the original
 	 * signal is disabled, and we could run arbitrary code though the debugger. So

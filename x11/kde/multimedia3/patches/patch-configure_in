$OpenBSD: patch-configure_in,v 1.4 2002/08/07 17:09:05 brad Exp $
--- configure.in.orig	Mon Jun 24 12:58:24 2002
+++ configure.in	Mon Aug  5 16:18:26 2002
@@ -1070,7 +1070,7 @@ dnl    else
 dnl      lib_xaw_opt=-lXaw
 dnl    fi
     EXTRATDEFS="$EXTRATDEFS -DIA_XAW"
-    EXTRATLIBS="$EXTRATLIBS $all_libraries -lXaw -lXt -lX11"
+    EXTRATLIBS="$EXTRATLIBS $all_libraries -lXaw -lXmu -lXt -lX11"
 dnl    if test "x$have_xext" = xyes; then
 dnl      a_so_libs="-lXext -lX11"
 dnl    else
@@ -1223,7 +1223,7 @@ dnl this does not work, but to have no e
 
 dnl Checks for header files.
 AC_CHECK_HEADERS(pthread.h pthread/mit/pthread.h)
-AC_CHECK_HEADERS(sys/soundcard.h machine/soundcard.h linux/soundcard.h)
+AC_CHECK_HEADERS(sys/soundcard.h machine/soundcard.h linux/soundcard.h soundcard.h)
 
 
 AC_C_BIGENDIAN
@@ -1401,8 +1401,13 @@ AC_MSG_RESULT($OS_TYPE)
 
 case "$ARCH_TYPE" in
   i?86)
-    AC_MSG_RESULT([Found Intel enable MMX support])
-    AC_DEFINE(INTEL,1,[Define if you have an INTEL and may have MMX])
+    case "$OS_TYPE" in
+    OpenBSD) ;;
+    *)
+	AC_MSG_RESULT([Found Intel enable MMX support])
+	AC_DEFINE(INTEL,1,[Define if you have an INTEL and may have MMX])
+	;;
+    esac
     ;; 
 
   *)
@@ -1417,6 +1422,9 @@ case "$OS_TYPE" in
   FreeBSD)
     kde_mpeglib_compiles=yes
     ;;
+  OpenBSD)
+    kde_mpeglib_compiles=yes
+    ;;
   Linux)
     kde_mpeglib_compiles=yes
     ;;
@@ -1446,6 +1454,12 @@ case "$OS_TYPE" in
     AC_DEFINE(OS_Linux,1,[Define if you have linux pthread])
     ;;
 
+  OpenBSD)
+    OS_TYPE="BSD"
+    AC_CHECK_LIB(c_r, pthread_create, [LIBPTHREAD="-pthread"])
+    AC_DEFINE(OS_BSD,1,[Define if you have BSD pthread])
+    ;;
+
   FreeBSD)
     OS_TYPE="BSD"
     AC_CHECK_LIB(c_r, pthread_create, [LIBPTHREAD="-lc_r"]) dnl name of pthread lib in FreeBSD
@@ -1488,7 +1502,7 @@ esac
 
 THIS_LIB_LIBS="-lX11 -lXext -lm -lstdc++ ${XVLIBS} ${DGALIBS} "
 THIS_LIB_LIBS="${THIS_LIB_LIBS} ${XVIDMODELIBS} ${SDLLIB} ${CDDALIBS} "
-THIS_LIB_LIBS="${THIS_LIB_LIBS} ${OGG_VORBISLIBS} ${LIBPTHREAD}"
+THIS_LIB_LIBS="${THIS_LIB_LIBS} ${OGG_VORBISLIBS} ${LIBPTHREAD} ${LIBOSSAUDIO}"
 AC_SUBST(THIS_LIB_LIBS)
 
 

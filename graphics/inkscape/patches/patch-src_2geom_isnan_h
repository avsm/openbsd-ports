$OpenBSD: patch-src_2geom_isnan_h,v 1.1.1.1 2008/04/04 14:37:26 landry Exp $
--- src/2geom/isnan.h.orig	Tue Mar 11 05:19:39 2008
+++ src/2geom/isnan.h	Fri Mar 28 16:02:54 2008
@@ -32,7 +32,7 @@
 # define is_nan(_a) (__isnan(_a))	/* MacOSX/Darwin definition < 10.4 */
 #elif defined(WIN32) || defined(_isnan)
 # define is_nan(_a) (_isnan(_a)) 	/* Win32 definition */
-#elif defined(isnan) || defined(__FreeBSD__)
+#elif defined(isnan) || defined(__FreeBSD__) || defined(__OpenBSD__)
 # define is_nan(_a) (isnan(_a))		/* GNU definition */
 #else
 # define is_nan(_a) (std::isnan(_a))
@@ -49,6 +49,8 @@
 # define is_finite(_a) (__isfinite(_a))	/* MacOSX/Darwin definition < 10.4 */
 #elif defined(isfinite)
 # define is_finite(_a) (isfinite(_a))
+#elif defined(__OpenBSD__)
+# define is_finite(_a) (finite(_a) && !is_nan(_a))
 #else
 # define is_finite(_a) (std::isfinite(_a))
 #endif

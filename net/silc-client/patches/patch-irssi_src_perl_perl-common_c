$OpenBSD: patch-irssi_src_perl_perl-common_c,v 1.1 2002/09/24 17:20:10 fgsch Exp $
--- irssi/src/perl/perl-common.c.orig	Sat Jul  6 05:09:39 2002
+++ irssi/src/perl/perl-common.c	Tue Sep 24 02:28:01 2002
@@ -39,7 +39,6 @@
 #include "channels.h"
 #include "queries.h"
 #include "nicklist.h"
-#include "blob.h"
 
 #include "perl-common.h"
 
@@ -230,12 +229,6 @@ void irssi_callXS(void (*subaddr)(CV* cv
 	PUTBACK;
 }
 
-static void perl_blob_fill_hash(HV *hv, BLOB_REC *blob)
-{
-	hv_store(hv, "octets", 6, newSViv(blob->octets), 0);
-	hv_store(hv, "data", 4, newSVpv(blob->data, blob->octets), 0);
-}
-
 void perl_chatnet_fill_hash(HV *hv, CHATNET_REC *chatnet)
 {
 	char *type, *chat_type;
@@ -631,10 +624,6 @@ void perl_common_start(void)
 	plain_stashes = g_hash_table_new((GHashFunc) g_str_hash,
 					 (GCompareFunc) g_str_equal);
         irssi_add_plains(core_plains);
-	irssi_add_object(module_get_uniq_id("BLOB", 0), 0,
-			"Irssi::Blob",
-			(PERL_OBJECT_FUNC) perl_blob_fill_hash);
-
 
         use_protocols = NULL;
 	g_slist_foreach(chat_protocols, (GFunc) perl_register_protocol, NULL);

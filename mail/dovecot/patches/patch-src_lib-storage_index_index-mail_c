$OpenBSD: patch-src_lib-storage_index_index-mail_c,v 1.1 2008/05/22 07:55:08 sthen Exp $
--- src/lib-storage/index/index-mail.c.orig	Sun May 18 22:31:12 2008
+++ src/lib-storage/index/index-mail.c	Sun May 18 22:31:54 2008
@@ -569,9 +569,8 @@ static void index_mail_parse_bodystructure(struct inde
 			i_assert(data->parts->next == NULL);
 
 			old_offset = data->stream->v_offset;
-			i_stream_seek(data->stream,
-				      data->hdr_size.physical_size);
-			message_parse_from_parts(data->parts->children,
+			i_stream_seek(data->stream, 0);
+			message_parse_from_parts(data->parts,
 						data->stream,
 						parse_bodystructure_part_header,
 						mail->data_pool);

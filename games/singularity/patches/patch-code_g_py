$OpenBSD: patch-code_g_py,v 1.2 2008/04/18 18:17:38 ajacoutot Exp $
--- code/g.py.orig	Fri Apr 18 19:52:27 2008
+++ code/g.py	Fri Apr 18 19:53:49 2008
@@ -64,7 +64,7 @@ default_savegame_name = "Default Save"
 font0 = "vera.ttf"
 font1 = "acknowtt.ttf"
 
-data_loc = "../data/"
+data_loc = "!!PREFIX!!/share/singularity/"
 
 def quit_game():
     sys.exit()
@@ -203,7 +203,7 @@ load_music() loads music for the game.  It looks in mu
 
     # Build the set of paths we'll check for music.
     music_paths = (
-        os.path.join(data_loc, "..", "music"),
+        os.path.join(data_loc, "music"),
         os.path.join(get_save_folder(True), "music")
     )
     for music_path in music_paths:
@@ -1085,7 +1085,7 @@ def fix_data_dir():
     global data_loc
     if os.path.exists(data_loc): return
     elif os.path.exists("data"):
-        data_loc = "data/"
+        data_loc = "!!PREFIX!!/share/singularity/"
         return
 
 def generic_load(file):

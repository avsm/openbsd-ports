$OpenBSD: patch-kmail_kmmainwidget_cpp,v 1.1 2008/05/29 11:58:52 ajacoutot Exp $
--- kmail/kmmainwidget.cpp.orig	Fri Apr 18 17:47:56 2008
+++ kmail/kmmainwidget.cpp	Fri Apr 18 17:49:33 2008
@@ -152,6 +152,7 @@ KMMainWidget::KMMainWidget(QWidget *parent, const char
     mQuickSearchLine( 0 ),
     mShowBusySplashTimer( 0 ),
     mShowingOfflineScreen( false ),
+    mMsgActions( 0 ),
     mVacationIndicatorActive( false )
 {
   // must be the first line of the constructor:
@@ -642,6 +643,9 @@ void KMMainWidget::createWidgets(void)
 
   if (mReaderWindowActive) {
     mMsgView = new KMReaderWin(messageParent, this, actionCollection(), 0 );
+    if ( mMsgActions ) {
+      mMsgActions->setMessageView( mMsgView );
+    }
 
     connect(mMsgView, SIGNAL(replaceMsgByUnencryptedVersion()),
         this, SLOT(slotReplaceMsgByUnencryptedVersion()));

$OpenBSD: patch-Makefile,v 1.4 2004/10/28 04:47:36 jcs Exp $
--- Makefile.orig	Sun Aug 29 13:47:37 2004
+++ Makefile	Wed Oct 27 23:46:10 2004
@@ -19,9 +19,9 @@
 FREEBSD=0
 MACOSX=0
 
-CC=gcc
+#CC=gcc
 # explicit pcap include dir is for redhat which is fux0red
-CFLAGS=-g -I/usr/local/include -L/usr/local/lib -DFINDIF=$(FINDIF) -DUSE_NETIF=$(USE_NETIF) -DOPENBSD=$(OPENBSD) -DLINUX=$(LINUX) -DSOLARIS=$(SOLARIS) -DFREEBSD=$(FREEBSD) -DMACOSX=$(MACOSX) -I/usr/include/pcap
+CFLAGS=-I${LOCALBASE}/include -L${LOCALBASE}/lib -DFINDIF=$(FINDIF) -DUSE_NETIF=$(USE_NETIF) -DOPENBSD=$(OPENBSD) -DLINUX=$(LINUX) -DSOLARIS=$(SOLARIS) -DFREEBSD=$(FREEBSD) -DMACOSX=$(MACOSX) -I/usr/include/pcap
 
 all: message arping2
 
@@ -83,8 +83,10 @@
 	$(MAKE) USE_NETIF=0 SOLARIS=1 arping1-make
 
 install:
-	install -c arping /usr/local/bin/arping
-	install arping.8 /usr/local/man/man8/arping.8
+	${BSD_INSTALL_PROGRAM} -c arping ${PREFIX}/bin/arping
+	${BSD_INSTALL_MAN} arping.8 ${PREFIX}/man/man8/arping.8
+	${BSD_INSTALL_DATA_DIR} ${PREFIX}/share/doc/arping
+	${BSD_INSTALL_DATA} README ${PREFIX}/share/doc/arping/README
 
 arping.o: arping.c
 	$(CC) -Wall $(CFLAGS) -c `libnet-config --defines` `libnet-config --cflags` arping.c
@@ -94,9 +96,9 @@
 	$(CC) $(CFLAGS) -g -o arping $(O_arping) `libnet-config --libs` -lpcap
 
 SYS=$(shell uname -s)
-ifeq ($(SYS),SunOS)
-EXTRA_LIBS=-lsocket -lnsl
-endif
+#ifeq ($(SYS),SunOS)
+#EXTRA_LIBS=-lsocket -lnsl
+#endif
 
 O_arping2=arping-2/arping.c
 arping2: arping-2/arping

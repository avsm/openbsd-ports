$OpenBSD: patch-jdk_src_share_native_java_lang_fdlibm_include_fdlibm_h,v 1.4 2011/01/11 15:47:50 kurt Exp $
--- jdk/src/share/native/java/lang/fdlibm/include/fdlibm.h.orig	Thu Oct 28 20:18:10 2010
+++ jdk/src/share/native/java/lang/fdlibm/include/fdlibm.h	Mon Nov  1 13:16:25 2010
@@ -24,6 +24,15 @@
  * questions.
  */
 
+#ifdef __OpenBSD__
+#include <sys/types.h>
+#endif
+#ifdef _ALLBSD_SOURCE
+#include <machine/endian.h>
+#elif __linux__
+#define __USE_BSD 1
+#include <endian.h>
+#endif
 #include "jfdlibm.h"
 
 #ifdef __NEWVALID       /* special setup for Sun test regime */
@@ -34,7 +43,8 @@
 #endif
 #endif
 
-#ifdef _LITTLE_ENDIAN
+#if (defined(__solaris__) && defined(_LITTLE_ENDIAN)) || \
+    BYTE_ORDER == LITTLE_ENDIAN
 #define __HI(x) *(1+(int*)&x)
 #define __LO(x) *(int*)&x
 #define __HIp(x) *(1+(int*)x)

$OpenBSD: patch-sal_osl_unx_system_h,v 1.7 2007/11/13 09:46:28 robert Exp $
--- sal/osl/unx/system.h.orig.port	Thu Jul  5 11:06:28 2007
+++ sal/osl/unx/system.h	Thu Oct 25 16:23:47 2007
@@ -198,6 +198,32 @@
 #	define  NO_PTHREAD_RTL
 #endif
 
+#ifdef OPENBSD
+#   define  ETIME ETIMEDOUT
+#   define _POSIX_THREAD_SYSCALL_SOFT 1
+#   include <pthread.h>
+#   include <sys/sem.h>
+#   include <semaphore.h>
+#   include <dlfcn.h>
+#   include <sys/filio.h>
+#   include <sys/ioctl.h>
+#   include <sys/param.h>
+#   include <sys/time.h>
+#   include <sys/uio.h>
+#   include <sys/exec.h>
+#       include <sys/un.h>
+#   include <netinet/tcp.h>
+#       define  IORESOURCE_TRANSFER_BSD
+#   include <machine/endian.h>
+#	define  PTR_SIZE_T(s)	((size_t *)&(s))
+#       define  IORESOURCE_TRANSFER_BSD
+#       define  IOCHANNEL_TRANSFER_BSD_RENO
+#       define  pthread_testcancel()
+#       define  NO_PTHREAD_PRIORITY
+#       define  NO_PTHREAD_RTL
+#       define  PTHREAD_SIGACTION                       pthread_sigaction
+#endif
+
 #ifdef SCO
 #   define AF_IPX -1
 #	include <strings.h>
@@ -376,7 +402,7 @@ int macxp_resolveAlias(char *path, int buflen);
     !defined(LINUX)   && !defined(NETBSD) && !defined(FREEBSD) && !defined(SCO)  && \
 	!defined(AIX)     && !defined(HPUX)   && \
 	!defined(SOLARIS) && !defined(IRIX)   && !defined(MAC) && \
-	!defined(MACOSX)
+	!defined(MACOSX) && !defined(OPENBSD)
 #	error "Target platform not specified!"
 #endif
 

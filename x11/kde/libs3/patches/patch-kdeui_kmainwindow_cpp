$OpenBSD: patch-kdeui_kmainwindow_cpp,v 1.2 2004/02/01 14:59:23 espie Exp $
--- kdeui/kmainwindow.cpp.orig	2004-01-17 13:53:06.000000000 +0100
+++ kdeui/kmainwindow.cpp	2004-01-19 13:21:50.000000000 +0100
@@ -197,7 +197,7 @@ void KMainWindow::initKMainWindow(const 
         s = objname + '1'; // start adding number immediately
         unusedNumber = 1;
         }
-    else if( name[ strlen( name ) - 1 ] == '#' )
+    else if( strlen( name ) > 0 && name[ strlen( name ) - 1 ] == '#' )
         { // trailing # - always add a number
         objname = name;
         s = objname + '1'; // start adding number immediately

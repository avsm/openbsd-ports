$OpenBSD: patch-bzrlib_tests_test_diff_py,v 1.2 2009/09/19 22:08:52 fgsch Exp $
--- bzrlib/tests/test_diff.py.orig	Thu Aug 20 09:41:09 2009
+++ bzrlib/tests/test_diff.py	Mon Sep 14 23:10:15 2009
@@ -261,7 +261,7 @@ class TestDiffFiles(TestCaseInTempDir):
         # Make sure external_diff doesn't fail in the current LANG
         lines = external_udiff_lines(['\x00foobar\n'], ['foo\x00bar\n'])
 
-        cmd = ['diff', '-u', '--binary', 'old', 'new']
+        cmd = ['gdiff', '-u', 'old', 'new']
         open('old', 'wb').write('\x00foobar\n')
         open('new', 'wb').write('foo\x00bar\n')
         pipe = subprocess.Popen(cmd, stdout=subprocess.PIPE,
@@ -1309,7 +1309,7 @@ class TestDiffFromTool(TestCaseWithTransport):
 
     def test_execute(self):
         output = StringIO()
-        diff_obj = DiffFromTool(['python', '-c',
+        diff_obj = DiffFromTool(['${MODPY_BIN}', '-c',
                                  'print "%(old_path)s %(new_path)s"'],
                                 None, None, output)
         self.addCleanup(diff_obj.finish)

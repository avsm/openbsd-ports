$OpenBSD: patch-libgnomekbd_gkbd-indicator_c,v 1.2 2010/05/08 09:07:55 ajacoutot Exp $

Upstream 5298205b5f450e43ffec91ff81be448c0c42d026
(https://bugzilla.gnome.org/show_bug.cgi?id=617643)

--- libgnomekbd/gkbd-indicator.c.orig	Mon Mar 29 00:27:04 2010
+++ libgnomekbd/gkbd-indicator.c	Sat May  8 11:02:02 2010
@@ -318,7 +318,7 @@ gkbd_indicator_extract_layout_name (int group, XklEngi
 				    gchar ** short_group_names,
 				    gchar ** full_group_names)
 {
-	char *layout_name;
+	char *layout_name = NULL;
 	if (group < g_strv_length (short_group_names)) {
 		if (xkl_engine_get_features (engine) &
 		    XKLF_MULTIPLE_LAYOUTS_SUPPORTED) {
@@ -352,7 +352,7 @@ gkbd_indicator_extract_layout_name (int group, XklEngi
 	}
 
 	if (layout_name == NULL)
-		layout_name = g_strdup ("??");
+		layout_name = g_strdup ("");
 
 	return layout_name;
 }

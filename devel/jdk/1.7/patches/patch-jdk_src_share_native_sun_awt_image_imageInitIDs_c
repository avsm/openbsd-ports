$OpenBSD: patch-jdk_src_share_native_sun_awt_image_imageInitIDs_c,v 1.1 2008/03/21 02:46:43 kurt Exp $
--- jdk/src/share/native/sun/awt/image/imageInitIDs.c.orig	Thu Mar 20 13:53:02 2008
+++ jdk/src/share/native/sun/awt/image/imageInitIDs.c	Thu Mar 20 13:55:04 2008
@@ -143,7 +143,7 @@ Java_java_awt_image_SinglePixelPackedSampleModel_initI
                                                          jclass cls) {
     g_SPPSMmaskArrID = (*env)->GetFieldID(env, cls, "bitMasks", "[I");
     g_SPPSMmaskOffID = (*env)->GetFieldID(env, cls, "bitOffsets", "[I");
-    g_SPPSMnBitsID   = (*env)->GetFieldID(env, cls, "bitSizes", "[I");
+    g_SPPSMnBitsID   = (*env)->GetFieldID(env, cls, "sampleSize", "[I");
     g_SPPSMmaxBitID  = (*env)->GetFieldID(env, cls, "maxBitSize", "I");
 
     if (g_SPPSMmaskArrID == NULL || g_SPPSMmaskOffID == NULL ||
@@ -226,14 +226,5 @@ Java_java_awt_image_Kernel_initIDs(JNIEnv *env, jclass
         || g_KernelDataID == NULL)
     {
         JNU_ThrowNullPointerException(env, "Unable to grab field ids");
-    }
-}
-
-JNIEXPORT void JNICALL
-Java_java_awt_image_DataBufferInt_initIDs(JNIEnv *env, jclass cls) {
-    g_DataBufferIntPdataID = (*env)->GetFieldID(env, cls, "pData", "J");
-    if (g_DataBufferIntPdataID == NULL) {
-        JNU_ThrowNullPointerException(env, "Unable to grab DataBufferInt.pData");
-        return;
     }
 }

$OpenBSD: patch-libs_ksysguard_processcore_processes_openbsd_p_cpp,v 1.2 2010/06/18 18:15:51 espie Exp $
--- libs/ksysguard/processcore/processes_openbsd_p.cpp.orig	Fri Jun 18 15:39:01 2010
+++ libs/ksysguard/processcore/processes_openbsd_p.cpp	Fri Jun 18 15:44:23 2010
@@ -37,6 +37,8 @@
 #include <unistd.h>
 #include <stdlib.h>
 
+#define kinfo_proc2 kinfo_proc
+#define KERN_PROC KERN_PROC2
 
 
 
@@ -284,6 +286,7 @@ long long ProcessesLocal::totalPhysicalMemory() {
     return Total /= 1024;
 }
 
+#ifndef _SC_NPROCESSORS_ONLN
 long int KSysGuard::ProcessesLocal::numberProcessorCores()
 {
     int mib[2];
@@ -298,6 +301,8 @@ long int KSysGuard::ProcessesLocal::numberProcessorCor
         return 1;
     return len;
 }
+#endif
+
 ProcessesLocal::~ProcessesLocal()
 {
    delete d;

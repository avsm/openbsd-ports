$OpenBSD: patch-Makefile_in,v 1.4 2006/04/02 16:52:04 steven Exp $
--- Makefile.in.orig	Tue Mar  7 15:26:09 2006
+++ Makefile.in	Thu Mar 16 17:03:01 2006
@@ -49,8 +49,7 @@ exec_prefix = @exec_prefix@
 # useful e.g. when installing on a server that stores the files with a
 # different path from where the clients access them. Or when building
 # rpms.
-#INSTALL_PREFIX =
-# Naah...override `prefix' instead.
+INSTALL_PREFIX = $(DESTDIR)
 
 # The directory in which user executables (erl, erlc and erl_call) are put
 BINDIR      = $(INSTALL_PREFIX)@bindir@
@@ -520,7 +519,7 @@ else
 endif
 
 install.Install:
-	cd $(ERLANG_LIBDIR) && ./Install -minimal $(ERLANG_LIBDIR)
+	cd $(ERLANG_LIBDIR) && ./Install -minimal $(ERLANG_ILIBDIR)
 
 #
 # Erlang base public files
@@ -528,12 +527,12 @@ install.Install:
 install.bin:
 	rm -f $(BINDIR)/erl $(BINDIR)/erlc \
 	      $(BINDIR)/ecc $(BINDIR)/elink $(BINDIR)/ear $(BINDIR)/escript
-	${LN_S} $(ERLANG_BINDIR)/erl      $(BINDIR)/erl
-	${LN_S} $(ERLANG_BINDIR)/erlc     $(BINDIR)/erlc
-	${LN_S} $(ERLANG_BINDIR)/ecc      $(BINDIR)/ecc
-	${LN_S} $(ERLANG_BINDIR)/elink    $(BINDIR)/elink
-	${LN_S} $(ERLANG_BINDIR)/ear      $(BINDIR)/ear
-	${LN_S} $(ERLANG_BINDIR)/escript  $(BINDIR)/escript
+	${LN_S} $(ERLANG_ILIBDIR)/bin/erl      $(BINDIR)/erl
+	${LN_S} $(ERLANG_ILIBDIR)/bin/erlc     $(BINDIR)/erlc
+	${LN_S} $(ERLANG_ILIBDIR)/bin/ecc      $(BINDIR)/ecc
+	${LN_S} $(ERLANG_ILIBDIR)/bin/elink    $(BINDIR)/elink
+	${LN_S} $(ERLANG_ILIBDIR)/bin/ear      $(BINDIR)/ear
+	${LN_S} $(ERLANG_ILIBDIR)/bin/escript  $(BINDIR)/escript
 
 #
 # Directories needed before we can install

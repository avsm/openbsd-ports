$OpenBSD: patch-lib-src_libnyquist_xlisp_xlprin_c,v 1.2 2007/05/24 09:45:01 ajacoutot Exp $
--- lib-src/libnyquist/xlisp/xlprin.c.orig	Sun Oct 29 01:05:50 2006
+++ lib-src/libnyquist/xlisp/xlprin.c	Thu May 24 11:02:17 2007
@@ -245,7 +245,7 @@ LOCAL void putqstring(LVAL fptr, LVAL str)
 void putatm(LVAL fptr, char *tag, LVAL val)
 {
     sprintf(buf,"#<%s: #",tag); xlputstr(fptr,buf);
-    sprintf(buf,AFMT,(int)val); xlputstr(fptr,buf);
+    sprintf(buf,AFMT,(unsigned long)val); xlputstr(fptr,buf);
     xlputc(fptr,'>');
 }
 
@@ -254,7 +254,7 @@ LOCAL void putsubr(LVAL fptr, char *tag, LVAL val)
 {
     sprintf(buf,"#<%s-%s: #",tag,funtab[getoffset(val)].fd_name);
     xlputstr(fptr,buf);
-    sprintf(buf,AFMT,(int)val); xlputstr(fptr,buf);
+    sprintf(buf,AFMT,(unsigned long)val); xlputstr(fptr,buf);
     xlputc(fptr,'>');
 }
 
@@ -267,7 +267,7 @@ LOCAL void putclosure(LVAL fptr, LVAL val)
     else
         strcpy(buf,"#<Closure: #");
     xlputstr(fptr,buf);
-    sprintf(buf,AFMT,(int)val); xlputstr(fptr,buf);
+    sprintf(buf,AFMT,(unsigned long)val); xlputstr(fptr,buf);
     xlputc(fptr,'>');
 /*
     xlputstr(fptr,"\nName:   "); xlprint(fptr,getname(val),TRUE);

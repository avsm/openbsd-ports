$OpenBSD: patch-scp_c,v 1.13 2007/07/24 20:45:41 kili Exp $
--- scp.c.orig	Sun Apr 29 10:18:44 2007
+++ scp.c	Sun Jul 22 19:37:59 2007
@@ -661,7 +661,10 @@ while (stat != SCPE_EXIT) {                           
     else if (sim_vm_read != NULL)                       /* sim routine? */
         cptr = (*sim_vm_read) (cbuf, CBUFSIZE, stdin);
     else cptr = read_line (cbuf, CBUFSIZE, stdin);      /* read command line */
-    if (cptr == NULL) continue;                         /* ignore EOF */
+    if (cptr == NULL) {
+	putchar('\n');
+	continue;					/* ignore EOF */
+    }
     if (*cptr == 0) continue;                           /* ignore blank */
     if (sim_log) fprintf (sim_log, "sim> %s\n", cptr);  /* log cmd */
     cptr = get_glyph (cptr, gbuf, 0);                   /* get command glyph */

$OpenBSD: patch-tests_c,v 1.2 2010/07/17 20:32:38 matthieu Exp $
--- tests.c.orig	Fri Mar  7 22:46:33 2008
+++ tests.c	Sat Jul 17 19:22:44 2010
@@ -393,8 +393,8 @@ do_tests(Display *dpy, picture_info *win)
 
         pictures_solid = malloc(num_colors * sizeof(picture_info));
 	for (i = 0; i < num_colors; i++) {
-            pictures_solid[i].color = colors[i];
             XRenderColor c;
+            pictures_solid[i].color = colors[i];
             c.alpha = (int)(colors[i].a*65535);
             c.red = (int)(colors[i].r*65535);
             c.green = (int)(colors[i].g*65535);

$OpenBSD: patch-kaffeine_src_instwizard_cpp,v 1.1 2006/10/29 23:36:39 espie Exp $
--- kaffeine/src/instwizard.cpp.orig	Sat Sep  9 03:29:55 2006
+++ kaffeine/src/instwizard.cpp	Mon Oct 30 00:02:20 2006
@@ -103,7 +103,7 @@ void InstWizard::internalWizard()
 	*/
 	//WIN32-CODECS
 	info << "<hr><b>" << i18n("WIN32 Codecs") << "...</b><br>";
-	QDir d("/usr/lib/win32");
+	QDir d("/usr/local/lib/win32");
 	QStringList entries = d.entryList("wmv*");
 	if (entries.count())
 		info << "<font color=\"DarkGreen\">" << i18n("Ok.") << "</font>";
@@ -121,13 +121,13 @@ void InstWizard::internalWizard()
 	else
 	{
 		d = QDir("/usr/local/lib");
-		entries = d.entryList("libdvdcss.so*");
+		entries = d.entryList("libdvd.so*");
 		if (entries.count())
 			dvdcss = true;
 		else
 		{
 			d = QDir("/usr/lib64");
-			entries = d.entryList("libdvdcss.so*");
+			entries = d.entryList("libdvd.so*");
 			if (entries.count())
 				dvdcss = true;
 		}
@@ -138,6 +138,7 @@ void InstWizard::internalWizard()
 	else
 		info << "<font color=\"DarkGreen\">" << i18n("Ok.") << "</font>";
 
+#if !defined(__OpenBSD__)
 	//DVD-DRIVE
 	info << "<br><hr><b>" << i18n("DVD Drive") << "...</b><br>";
 	KProcess process;
@@ -152,6 +153,7 @@ void InstWizard::internalWizard()
 	else
 		info << "<font color=\"DarkBlue\">" << i18n("Can't check DMA mode. Permission denied or no such device:")
 		<< " \"/dev/dvd\".</font>";
+#endif
 
 	//DVB-DEVICES
 #ifdef HAVE_LINUX_DVB_FRONTEND_H
@@ -270,5 +272,6 @@ void InstWizard::slotStdout(KProcess *, 
 {
 	QString output = QString::fromLatin1(buffer, buflen);
 	kdDebug() << "WizardDialog: got from hdparm: " << output << "\n";
+#undef stdout
 	stdout.append(output);
 }

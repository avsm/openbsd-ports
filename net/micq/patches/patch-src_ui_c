--- src/ui.c.orig	Thu Jul 19 12:33:18 2001
+++ src/ui.c	Thu Jul 19 12:35:42 2001
@@ -732,7 +732,6 @@
 {
     static int offset = 0;
     static char msg[1024];
-    char *temp;
     int i;
 
     msg[offset] = 0;
@@ -740,9 +739,7 @@
     {
         for (i = 0; i < Num_Contacts; i++)
         {
-            temp = strdup (msg);
-            icq_sendmsg (sok, Contacts[i].uin, temp, MRNORM_MESS);
-            free (temp);
+            icq_sendmsg (sok, Contacts[i].uin, msg, MRNORM_MESS);
         }
         M_print (i18n (659, "Message sent!\n"));
         offset = 0;
@@ -768,9 +765,7 @@
             M_print (i18n (37, "Message sent before last line buffer is full\n"));
             for (i = 0; i < Num_Contacts; i++)
             {
-                temp = strdup (msg);
-                icq_sendmsg (sok, Contacts[i].uin, temp, MRNORM_MESS);
-                free (temp);
+                icq_sendmsg (sok, Contacts[i].uin, msg, MRNORM_MESS);
             }
             offset = 0;
             return FALSE;

$OpenBSD: patch-configure_in,v 1.16 2002/05/03 19:27:17 pvalchev Exp $
--- configure.in.orig	Sat Apr 13 17:57:24 2002
+++ configure.in	Fri May  3 13:11:35 2002
@@ -468,7 +468,12 @@ CheckNASM()
                   NASMFLAGS="-f elf"
                   ;;
             esac
-            AC_SUBST(NASMFLAGS)
+	    case "$target" in
+		    *-*-openbsd*)
+		      NASMFLAGS="-f aoutb"
+		      ;;
+	    esac
+	    	AC_SUBST(NASMFLAGS)
             CFLAGS="$CFLAGS -I\$(top_srcdir)/src/hermes"
             SDL_EXTRADIRS="$SDL_EXTRADIRS hermes"
             SDL_EXTRALIBS="$SDL_EXTRALIBS hermes/libhermes.la"
@@ -1681,6 +1686,7 @@ case "$target" in
         if test x$enable_joystick = xyes; then
             JOYSTICK_SUBDIRS="$JOYSTICK_SUBDIRS bsd"
             JOYSTICK_DRIVERS="$JOYSTICK_DRIVERS bsd/libjoystick_bsd.la"
+	    SYSTEM_LIBS="$SYSTEM_LIBS -lusbhid"
         fi
         # Set up files for the cdrom library
         if test x$enable_cdrom = xyes; then
@@ -2355,7 +2361,7 @@ fi
 if test $ARCH = solaris; then
   SDL_RLD_FLAGS="-R\${exec_prefix}/lib"
 fi
-if test $ARCH = openbsd -o $ARCH = bsdi; then
+if test $ARCH = bsdi; then
     SHARED_SYSTEM_LIBS="$SYSTEM_LIBS"
 else
     SHARED_SYSTEM_LIBS=""

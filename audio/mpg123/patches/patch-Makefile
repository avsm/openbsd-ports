--- Makefile.orig	Wed Aug  2 06:10:36 2000
+++ Makefile	Wed Aug  2 06:11:51 2000
@@ -9,8 +9,10 @@
 MANDIR=$(PREFIX)/man
 SECTION=1
 
-# Enable the below line If your plathome support IPv6
-#CFLAGS+= -DINET6
+# Enable the below line if your platform supports IPv6
+.if defined(USE_INET6) && ${USE_INET6:U} == YES
+CFLAGS+= -DINET6
+.endif
 # Additional LIBDIR and libraries if exist
 IPV6LIBDIR=
 IPV6LIB=
@@ -54,6 +56,7 @@
 	@echo "make aix-tk3play    IBM AIX"
 	@echo "make os2            IBM OS/2"
 	@echo "make netbsd         NetBSD"
+	@echo "make openbsd        OpenBSD"
 	@echo "make bsdos          BSDI BSD/OS"
 	@echo "make bsdos4         BSDI BSD/OS 4.0"
 	@echo "make bsdos-nas      BSDI BSD/OS with NAS support"
@@ -508,6 +511,21 @@
 		CFLAGS='$(CFLAGS) -Wall -ansi -pedantic -O4 -m486 -fomit-frame-pointer \
 			-funroll-all-loops -ffast-math -DROT_I386 \
 			-DI386_ASSEM -DREAL_IS_FLOAT -DUSE_MMAP -DNETBSD' \
+		mpg123-make
+
+openbsd:
+	$(MAKE) CC="$(CC)" LDFLAGS= \
+		OBJECTS='decode.o dct64.o audio_openbsd.o term.o' \
+		CFLAGS='$(CFLAGS) -Wall -ansi -pedantic -fomit-frame-pointer \
+			-funroll-all-loops -ffast-math -DTERM_CONTROL \
+			-DREAL_IS_FLOAT -DUSE_MMAP -DOPENBSD' mpg123-make
+
+openbsd-i386:
+	$(MAKE) CC="$(CC)" LDFLAGS= \
+		OBJECTS='decode_i386.o dct64_i386.o audio_openbsd.o term.o' \
+		CFLAGS='$(CFLAGS) -Wall -ansi -pedantic -fomit-frame-pointer \
+			-funroll-all-loops -ffast-math -DROT_I386 -DTERM_CONTROL \
+			-DI386_ASSEM -DREAL_IS_FLOAT -DUSE_MMAP -DOPENBSD' \
 		mpg123-make
 
 bsdos:

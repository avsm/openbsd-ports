$OpenBSD: patch-tests_ferret_c,v 1.1.1.1 2003/01/31 18:50:02 todd Exp $
--- tests/ferret.c.orig	Tue Aug 13 18:55:20 2002
+++ tests/ferret.c	Tue Aug 13 19:04:03 2002
@@ -3,9 +3,10 @@
 #define MAX_GROUPS 20
 #define MAX_NAME_VALUE 20
 
-#include <netinet/in.h>
 #include <sys/types.h>
 #include <sys/socket.h>
+#include <netinet/in.h>
+#include <arpa/inet.h>
 #include <sys/un.h>
 #include <errno.h>
 #include <unistd.h>
@@ -239,8 +240,8 @@ static GtkWidget *menuitem_festival_ters
 static GtkWidget *menuitem_trackmouse = NULL;
 static GtkWidget *menuitem_trackfocus = NULL;
 
-static struct sockaddr_un mag_server = { AF_UNIX , "/tmp/magnifier_socket" };
-static struct sockaddr_un client = { AF_UNIX, "/tmp/mag_client"};
+static struct sockaddr_un mag_server = { sizeof(struct sockaddr_un), AF_UNIX , "/tmp/magnifier_socket" };
+static struct sockaddr_un client = { sizeof(struct sockaddr_un), AF_UNIX, "/tmp/mag_client"};
 
 /* GUI Information for the output window */
 typedef struct

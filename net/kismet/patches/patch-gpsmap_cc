$OpenBSD: patch-gpsmap_cc,v 1.3 2007/04/09 20:50:58 kili Exp $

# Use our ftp(1) instead of wget.

--- gpsmap.cc.orig	Sat Aug 19 15:01:58 2006
+++ gpsmap.cc	Thu Dec 28 11:42:02 2006
@@ -99,8 +99,8 @@ const char url_template_em[] = "gpsmap-h
 
 const char url_template_euex[] = "http://www.expedia.de/pub/agent.dll?qscr=mrdt&ID=3XNsF.&CenP=%f,%f&Lang=%s&Alti=%ld&Size=%d,%d&Offs=0.000000,0.000000&BCheck=1";
 
-// Download template for sources that we fetch using wget
-const char download_template[] = "wget \"%s\" -O %s";
+// Download template for sources that we fetch using ftp
+const char download_template[] = "/usr/bin/ftp -o %s \"%s\"";
 
 // Image scales we try to autofetch
 long int scales[] = { 1000, 2000, 5000, 10000, 20000, 30000, 50000, 60000, 
@@ -4219,7 +4219,7 @@ int main(int argc, char *argv[]) {
             }
         } else {
             char geturl[1024];
-            snprintf(geturl, 1024, download_template, url, mapname);
+            snprintf(geturl, 1024, download_template, mapname, url);
             if (system(geturl)!=0) {
 	      fprintf(stderr, "WARNING: failed to execute '%s'\n", geturl);
 	      exit(1);

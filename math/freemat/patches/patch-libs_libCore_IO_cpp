$OpenBSD: patch-libs_libCore_IO_cpp,v 1.1.1.1 2006/10/28 19:53:05 steven Exp $
--- libs/libCore/IO.cpp.orig	Mon May 29 22:24:21 2006
+++ libs/libCore/IO.cpp	Thu Oct 19 14:13:39 2006
@@ -31,6 +31,13 @@
 #include "matio.h"
 #include "Sparse.hpp"
 
+/* expecting an earlier version of matio, which includes these
+   prototypes in matio.h */
+EXTERN int mat_snprintf(char *str,size_t count,const char *fmt,...);
+EXTERN int mat_asprintf(char **ptr,const char *format, ...);
+EXTERN int mat_vsnprintf(char *str,size_t count,const char *fmt,va_list args);
+EXTERN int mat_vasprintf(char **ptr,const char *format,va_list ap);
+
 namespace FreeMat {
   class FilePtr {
   public:
@@ -2189,7 +2196,7 @@ namespace FreeMat {
       Mat_LogInit("dummy");
       mat_t *mat = Mat_Open(fname, MAT_ACC_RDONLY);
       if (!mat) {
-	mat = Mat_Open(fname, MAT_ACC_RDONLY | MAT_V4);
+	mat = Mat_Open(fname, MAT_ACC_RDONLY | MAT_FT_MAT4);
       }
       if (mat) {
 	matvar_t *matvar;

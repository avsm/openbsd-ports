$OpenBSD: patch-j2se_src_solaris_hpi_native_threads_src_threads_md_c,v 1.1.1.1 2005/05/25 17:27:53 kurt Exp $
--- j2se/src/solaris/hpi/native_threads/src/threads_md.c.orig	Tue Jan 25 22:14:52 2005
+++ j2se/src/solaris/hpi/native_threads/src/threads_md.c	Tue Jan 25 22:16:09 2005
@@ -83,9 +83,14 @@ static thread_key_t tid_key = (thread_ke
 #ifdef __linux__
 thread_key_t intrJmpbufkey;
 static sigset_t squm = {{sigmask(SIGUSR1), 0, 0, 0}};
+#elif defined(__OpenBSD__)
+thread_key_t sigusr1Jmpbufkey;
+sigset_t sigusr1Mask = sigmask(SIGUSR1);
+static sigset_t squm = sigmask(SIGUSR1);
 #else
 thread_key_t sigusr1Jmpbufkey;
 sigset_t sigusr1Mask = {{sigmask(SIGUSR1), 0, 0, 0}};
+static sigset_t squm = {{sigmask(SIGUSR1), 0, 0, 0}};
 #endif
 
 /*
@@ -156,9 +161,6 @@ sysThreadCheckStack() 
     }
 }
 
-#ifndef __linux__
-static sigset_t squm = {{sigmask(SIGUSR1), 0, 0, 0}};
-#endif
 
 
 /* 

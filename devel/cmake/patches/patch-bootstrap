$OpenBSD: patch-bootstrap,v 1.1 2010/05/28 20:21:48 dcoppa Exp $
--- bootstrap.orig	Tue Apr 27 17:51:26 2010
+++ bootstrap	Tue Apr 27 18:01:34 2010
@@ -624,6 +624,12 @@ cmake_c_flags=${CFLAGS}
 cmake_cxx_flags=${CXXFLAGS}
 cmake_ld_flags=${LDFLAGS}
 
+# Workaround for sparc64
+ARCH=$(sysctl -n hw.machine)
+if [ "${ARCH}" == "sparc64" ]; then
+	cmake_cxx_flags=$(echo ${CXXFLAGS} | sed -e s/'-O2'//)
+fi
+
 # Add Cygwin-specific flags
 if ${cmake_system_cygwin}; then
   cmake_ld_flags="${LDFLAGS} -Wl,--enable-auto-import"

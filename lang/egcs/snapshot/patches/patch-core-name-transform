--- gcc/Makefile.in.orig	Mon Jul 17 22:55:42 2000
+++ gcc/Makefile.in	Wed Jul 19 00:59:43 2000
@@ -489,6 +489,10 @@ UNPROTOIZE_INSTALL_NAME = `t='$(program_
 GCOV_INSTALL_NAME = `t='$(program_transform_name)'; echo gcov | sed -e $$t`
 GCCBUG_INSTALL_NAME = `t='$(program_transform_name)'; echo gccbug | sed -e $$t`
 
+# documentation for cpp should not supersede default documentation
+CPP_INFO_NAME = `t='$(program_transform_name)'; echo cpp | sed -e $$t`
+CPP_MAN_NAME = `t='$(program_transform_name)'; echo cccp | sed -e $$t`
+
 # Actual name to use when installing a cross-compiler.
 GCC_CROSS_NAME = `t='$(program_transform_cross_name)'; echo gcc | sed -e $$t`
 CPP_CROSS_NAME = `t='$(program_transform_cross_name)'; echo cpp | sed -e $$t`
@@ -1826,7 +1830,7 @@ tradcpp$(exeext): tradcpp.o tradcif.o cp
 	tradcpp.o tradcif.o cppdefault.o version.o intl.o $(LIBS)
 
 tradcpp.o: tradcpp.c $(CONFIG_H) system.h version.h cppdefault.h
-tradcif.o: tradcif.c $(CONFIG_H) system.h
+tradcif.o: $(srcdir)/tradcif.c $(CONFIG_H) system.h
 
 $(srcdir)/tradcif.c: $(srcdir)/tradcif.y
 	cd $(srcdir); $(BISON) $(BISONFLAGS) -o tradcif.c tradcif.y
@@ -2076,12 +2080,14 @@ doc: $(BUILD_INFO) gccbug
 info: cpp.info gcc.info lang.info
 
 cpp.info: $(srcdir)/cpp.texi
-	$(MAKEINFO) $(MAKEINFOFLAGS) -I$(srcdir) -o cpp.info $(srcdir)/cpp.texi
+	$(MAKEINFO) $(MAKEINFOFLAGS) -I$(srcdir) -o $(CPP_INFO_NAME).info \
+		$(srcdir)/cpp.texi && touch $@
 
 gcc.info: $(srcdir)/gcc.texi $(srcdir)/extend.texi $(srcdir)/install.texi \
 	  $(srcdir)/invoke.texi $(srcdir)/md.texi $(srcdir)/rtl.texi \
 	  $(srcdir)/tm.texi $(srcdir)/gcov.texi
-	$(MAKEINFO) $(MAKEINFOFLAGS) -I$(srcdir) -o gcc.info $(srcdir)/gcc.texi
+	$(MAKEINFO) $(MAKEINFOFLAGS) -I$(srcdir) -o $(GCC_INSTALL_NAME).info \
+	$(srcdir)/gcc.texi && touch $@
 
 dvi: gcc.dvi cpp.dvi lang.dvi
 
@@ -2222,6 +2228,7 @@ maintainer-clean:
 	-rm -f c-parse.c c-parse.h c-parse.output TAGS
 	-rm -f cpp.info* cpp.??s cpp.*aux
 	-rm -f gcc.info* gcc.??s gcc.*aux
+	-rm -f $(GCC_INSTALL_NAME).info* $(CPP_INFO_NAME).info*
 #
 # Entry points `install' and `uninstall'.
 # Also use `install-collect2' to install collect2 when the config files don't.
@@ -2391,18 +2398,19 @@ install-driver: xgcc$(exeext)
 # $(INSTALL_DATA) might be a relative pathname, so we can't cd into srcdir
 # to do the install.
 install-info: doc installdirs lang.install-info
-	-rm -f $(infodir)/cpp.info* $(infodir)/gcc.info*
-	for f in cpp.info* gcc.info*; do \
+	-rm -f $(infodir)/$(CPP_INFO_NAME).info* \
+		$(infodir)/$(GCC_INSTALL_NAME).info*
+	for f in $(GCC_INSTALL_NAME).info* $(CPP_INFO_NAME).info*; do \
 	    $(INSTALL_DATA) $$f $(infodir)/$$f; \
 	done
 	-if $(SHELL) -c 'install-info --version' >/dev/null 2>&1; then \
 	  if [ -f $(infodir)/dir ] ; then \
-	    for f in cpp.info gcc.info; do \
+	    for f in $(GCC_INSTALL_NAME).info $(CPP_INFO_NAME).info; do \
 		install-info --dir-file=$(infodir)/dir $(infodir)/$$f; \
 	    done; \
 	  else true; fi; \
 	else true; fi;
-	-chmod a-x $(infodir)/cpp.info* $(infodir)/gcc.info*
+	-chmod a-x $(infodir)/$(CPP_INFO_NAME).info* $(infodir)/$(GCC_INSTALL_NAME).info*
 
 # Install the man pages.
 install-man: installdirs $(srcdir)/gcc.1 $(srcdir)/cpp.1 lang.install-man
@@ -2415,9 +2423,9 @@ install-man: installdirs $(srcdir)/gcc.1
 	  $(INSTALL_DATA) $(srcdir)/gcc.1 $(man1dir)/$(GCC_INSTALL_NAME)$(manext); \
 	  chmod a-x $(man1dir)/$(GCC_INSTALL_NAME)$(manext); \
 	fi
-	-rm -f $(man1dir)/cpp$(manext)
-	-$(INSTALL_DATA) $(srcdir)/cpp.1 $(man1dir)/cpp$(manext)
-	-chmod a-x $(man1dir)/cpp$(manext)
+	-rm -f $(man1dir)/$(CPP_MAN_NAME)$(manext)
+	-$(INSTALL_DATA) $(srcdir)/cpp.1 $(man1dir)/$(CPP_MAN_NAME)$(manext)
+	-chmod a-x $(man1dir)/$(CPP_MAN_NAME)$(manext)
 
 # Install the library.
 install-libgcc: libgcc.a installdirs

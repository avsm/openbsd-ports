$OpenBSD: patch-noip2_c,v 1.4 2006/10/18 22:02:39 wilfried Exp $
--- noip2.c.orig	Fri Feb 24 17:45:23 2006
+++ noip2.c	Thu Oct 19 00:01:12 2006
@@ -154,7 +154,9 @@
 
 #define ENCRYPT			1
 
+#if !(defined(__OpenBSD__) && defined(MAX))
 #define MAX(x,y)		(((x)>(y))?(x):(y))
+#endif
 
 #define READ_TIMEOUT		90
 #define WRITE_TIMEOUT		60
@@ -204,11 +206,8 @@
 #define NODNSGROUP		"@@NO_GROUP@@"
 #define HOST			1
 #define GROUP			2
-#ifndef PREFIX
-  #define PREFIX		"/usr/local"
-#endif
-#define CONFIG_FILEPATH		PREFIX"/etc"
-#define CONFIG_FILENAME		PREFIX"/etc/no-ip2.conf"
+#define CONFIG_FILEPATH		"_SYSCONFDIR_"
+#define CONFIG_FILENAME		"_SYSCONFDIR_/no-ip2.conf"
 #define CONFSTRLEN		1024
 #define MAX_DEVLEN		16
 #define MAX_INSTANCE		4

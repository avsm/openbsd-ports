$OpenBSD: patch-mplayer_c,v 1.3 2005/09/04 23:51:52 espie Exp $
--- mplayer.c.orig	Fri Apr 15 14:14:24 2005
+++ mplayer.c	Sat Sep  3 14:36:01 2005
@@ -184,6 +184,7 @@ static int max_framesize=0;
 #include "libmpcodecs/dec_video.h"
 #include "libmpcodecs/mp_image.h"
 #include "libmpcodecs/vf.h"
+#include "libmpcodecs/vd.h"
 
 extern void vf_list_plugins();
 
@@ -584,7 +585,7 @@ static void exit_sighandler(int x){
         gdb_pid = fork();
         mp_msg(MSGT_CPLAYER, MSGL_INFO, "Forked...\n");
         if (gdb_pid == 0) { // We are the child
-          if (execlp("gdb", "gdb", prog_path, spid, NULL) == -1)
+          if (execlp("gdb", "gdb", prog_path, spid, (char *)NULL) == -1)
             mp_msg(MSGT_CPLAYER, MSGL_ERR, "Couldn't start gdb\n");
         } else if (gdb_pid < 0) 
           mp_msg(MSGT_CPLAYER, MSGL_ERR, "Couldn't fork\n");
@@ -986,13 +987,13 @@ static void log_sub(){
     if (!f) return;
     fprintf(f, "----------------------------------------------------------\n");
     if (subdata->sub_uses_time) {
-	fprintf(f, "N: %s S: %02d:%02d:%02d.%02d E: %02d:%02d:%02d.%02d\n", filename, 
+	fprintf(f, "N: %s S: %02lu:%02lu:%02lu.%02lu E: %02lu:%02lu:%02lu.%02lu\n", filename, 
 		vo_sub_last->start/360000, (vo_sub_last->start/6000)%60,
 		(vo_sub_last->start/100)%60, vo_sub_last->start%100,
 		vo_sub_last->end/360000, (vo_sub_last->end/6000)%60,
 		(vo_sub_last->end/100)%60, vo_sub_last->end%100);
     } else {
-	fprintf(f, "N: %s S: %d E: %d\n", filename, vo_sub_last->start, vo_sub_last->end);
+	fprintf(f, "N: %s S: %lu E: %lu\n", filename, vo_sub_last->start, vo_sub_last->end);
     }
     for (i = 0; i < vo_sub_last->lines; i++) {
 	fprintf(f, "%s\n", vo_sub_last->text[i]);
@@ -3368,7 +3369,7 @@ if (stream->type==STREAMTYPE_DVDNAV && d
 	{
 #ifdef USE_SUB
 	if (sh_video) {
-		mp_msg(MSGT_GLOBAL,MSGL_INFO,MSGTR_AnsSubVisibility, sub_visibility);
+		mp_msg(MSGT_GLOBAL,MSGL_INFO,MSGTR_AnsSubVisibility, (long)sub_visibility);
 	}
 #endif
 	} break;
@@ -3488,11 +3489,11 @@ if (stream->type==STREAMTYPE_DVDNAV && d
 
 	case MP_CMD_GET_VO_FULLSCREEN : {
 	if(video_out && vo_config_count)
-		mp_msg(MSGT_GLOBAL,MSGL_INFO,MSGTR_AnsVoFullscreen, vo_fs);
+		mp_msg(MSGT_GLOBAL,MSGL_INFO,MSGTR_AnsVoFullscreen, (long)vo_fs);
 	} break;
     
     case MP_CMD_GET_PERCENT_POS : {
-	mp_msg(MSGT_GLOBAL,MSGL_INFO,MSGTR_AnsPercentPos, demuxer_get_percent_pos(demuxer));
+	mp_msg(MSGT_GLOBAL,MSGL_INFO,MSGTR_AnsPercentPos, (long)demuxer_get_percent_pos(demuxer));
     } break;
     case MP_CMD_SWITCH_AUDIO :
         demuxer_switch_audio(demuxer);
@@ -3500,7 +3501,7 @@ if (stream->type==STREAMTYPE_DVDNAV && d
     case MP_CMD_RUN : {
 #ifndef __MINGW32__
         if(!fork()) {
-          execl("/bin/sh","sh","-c",cmd->args[0].v.s,NULL);
+          execl("/bin/sh","sh","-c",cmd->args[0].v.s,(char *)NULL);
           exit(0);
         }
 #endif

$OpenBSD: patch-configure_ac,v 1.1 2005/07/24 00:28:33 brad Exp $
--- configure.ac.orig	Mon Jul  4 22:52:15 2005
+++ configure.ac	Mon Jul  4 22:53:28 2005
@@ -51,9 +51,6 @@ case "$target" in
     ;;
 esac
 
-# Control compiler optimizations
-CFLAGS=`echo $CFLAGS | sed 's/-O[ 0123456789s]*//g'`
-
 AC_PROG_CC
 AC_C_INLINE
 AC_C_CONST
@@ -305,35 +302,8 @@ AC_DEFUN([SILC_ADD_CC_FLAGS],
   unset tmp_CFLAGS
 ])
 
-if test "$GCC"; then
-  # GCC specific options
-  if test "x$summary_debug" = "xyes"; then
-    SILC_ADD_CFLAGS(-g -O)
-  else
-    SILC_ADD_CFLAGS(-g -O2)
-  fi
-  SILC_ADD_CFLAGS(-Wall -finline-functions)
-  SILC_ADD_CFLAGS(-Wno-pointer-sign)
-else
-  # Other compilers
-  case "$target" in
-    alpha*-dec-osf*)
-      SILC_ADD_CFLAGS(-g3 -O2, SILC_ADD_CFLAGS(-g3 -O, SILC_ADD_CFLAGS(-O)))
-      ;;
-    mips*-sgi-irix*)
-      SILC_ADD_CFLAGS(-g3 -O2, SILC_ADD_CFLAGS(-g3 -O, SILC_ADD_CFLAGS(-O)))
-      ;;
-    *)
-      SILC_ADD_CFLAGS(-g)
-      SILC_ADD_CFLAGS(-O2, SILC_ADD_CFLAGS(-O))
-      ;;
-  esac
-
-  # Intel C++ Compiler needs -restrict
-  if test "x$CC" = "xicc"; then
-    SILC_ADD_CFLAGS(-restrict)
-  fi
-fi
+SILC_ADD_CFLAGS(-Wall -finline-functions)
+SILC_ADD_CFLAGS(-Wno-pointer-sign)
 
 #
 # Workaround a bug in GCC 2.x which causes memory exhaustion

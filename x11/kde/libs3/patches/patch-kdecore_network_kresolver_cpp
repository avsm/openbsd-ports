$OpenBSD: patch-kdecore_network_kresolver_cpp,v 1.1 2004/10/19 00:26:46 espie Exp $
--- kdecore/network/kresolver.cpp.orig	Wed Oct 13 15:35:31 2004
+++ kdecore/network/kresolver.cpp	Wed Oct 13 15:47:46 2004
@@ -838,7 +838,7 @@ QStrList KResolver::serviceName(const ch
 QStrList KResolver::serviceName(int port, const char *protoname)
 {
   struct servent *se;
-#ifndef HAVE_GETSERVBYNAME_R
+#ifndef HAVE_GETSERVBYPORT_R
   QMutexLocker locker(&getXXbyYYmutex);
 
   se = getservbyport(port, protoname);

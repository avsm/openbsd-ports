$OpenBSD: patch-kdeui_kmainwindow_cpp,v 1.3 2005/03/29 21:18:36 espie Exp $
--- kdeui/kmainwindow.cpp.orig	Fri Feb  4 00:33:10 2005
+++ kdeui/kmainwindow.cpp	Wed Mar 23 09:35:08 2005
@@ -199,7 +199,7 @@ void KMainWindow::initKMainWindow(const 
         s = objname + '1'; // start adding number immediately
         unusedNumber = 1;
         }
-    else if( name[ strlen( name ) - 1 ] == '#' )
+    else if( strlen( name ) > 0 && name[ strlen( name ) - 1 ] == '#' )
         { // trailing # - always add a number
         objname = name;
         s = objname + '1'; // start adding number immediately

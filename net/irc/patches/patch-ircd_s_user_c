$OpenBSD: patch-ircd_s_user_c,v 1.1 2001/04/10 16:18:03 bmc Exp $
--- ircd/s_user.c.orig	Fri Feb  9 09:05:55 2001
+++ ircd/s_user.c	Fri Feb  9 09:05:59 2001
@@ -2376,7 +2376,7 @@ char	*parv[];
 		       parv[0], sptr->user->username, sptr->user->host,
 		       sptr->auth, IsUnixSocket(sptr) ? sptr->sockhost :
 #ifdef INET6
-                       inet_ntop(AF_INET6, (char *)&sptr->ip), mydummy, MYDUMMY_SIZE);
+                       inet_ntop(AF_INET6, (char *)&sptr->ip, mydummy, sizeof(mydummy))); 
 #else
                        inetntoa((char *)&sptr->ip));
 #endif
@@ -2403,10 +2403,10 @@ char	*parv[];
 			  parv[0], sptr->user->username, sptr->user->host,
 			  sptr->auth, IsUnixSocket(sptr) ? sptr->sockhost :
 #ifdef INET6
-			  inetntop(AF_INET6, (char *)&sptr->ip, mydummy,
+			  inet_ntop(AF_INET6, (char *)&sptr->ip, mydummy,
 				   MYDUMMY_SIZE));
 #else
-			  inetntoa((char *)&sptr->ip));
+			  inet_ntoa((char *)&sptr->ip));
 #endif
 		  (void)alarm(3);
 		  (void)write(logfile, buf, strlen(buf));

$OpenBSD: patch-jdk_src_solaris_native_sun_java2d_loops_vis_FuncArray_c,v 1.1 2008/03/19 18:05:46 kurt Exp $
--- jdk/src/solaris/native/sun/java2d/loops/vis_FuncArray.c.orig	Tue Dec  4 04:05:46 2007
+++ jdk/src/solaris/native/sun/java2d/loops/vis_FuncArray.c	Thu Feb 14 17:56:45 2008
@@ -794,7 +794,7 @@ static AnyFunc* hash_table_vis[HASH_SIZE];
 static int initialized;
 static int usevis = JNI_TRUE;
 
-#ifdef __linux__
+#if defined(__linux__) || defined(_ALLBSD_SOURCE)
 #   define ULTRA_CHIP   "sparc64"
 #else
 #   define ULTRA_CHIP   "sun4u"

$OpenBSD: patch-j2se_make_common_Defs-bsd_gmk,v 1.1.1.1 2005/05/25 17:27:53 kurt Exp $
--- j2se/make/common/Defs-bsd.gmk.orig	Fri Feb  4 14:04:55 2005
+++ j2se/make/common/Defs-bsd.gmk	Sun Feb  6 21:41:38 2005
@@ -46,7 +46,11 @@ CHMOD          = $(UNIXCOMMAND_PATH)chmo
 CMP            = $(USRBIN_PATH)cmp
 COMPRESS       = $(USRBIN_PATH)compress
 CP             = $(UNIXCOMMAND_PATH)cp
+ifeq ($(TRUE_PLATFORM), OpenBSD)
+CPIO           = $(UNIXCOMMAND_PATH)cpio
+else
 CPIO           = $(USRBIN_PATH)cpio
+endif
 CUT            = $(USRBIN_PATH)cut
 DATE           = $(UNIXCOMMAND_PATH)date
 DF             = $(UNIXCOMMAND_PATH)df
@@ -84,7 +88,11 @@ SH             = $(UNIXCOMMAND_PATH)sh
 SORT           = $(USRBIN_PATH)sort
 STRIP          = $(USRBIN_PATH)strip
 TAIL 	       = $(USRBIN_PATH)tail
+ifeq ($(TRUE_PLATFORM), OpenBSD)
+TAR            = $(UNIXCOMMAND_PATH)tar
+else
 TAR            = $(USRBIN_PATH)tar
+endif
 TEST	       = $(UNIXCOMMAND_PATH)test
 TOUCH          = $(USRBIN_PATH)touch
 TR             = $(USRBIN_PATH)tr
@@ -431,8 +439,13 @@ override OPENWIN_LIB             = $(OPE
 override OTHER_M4FLAGS           = -DGNU_ASSEMBLER
 override SUN_CMM_SUBDIR          =
 override THREADS_FLAG            = native
+ifeq ($(TRUE_PLATFORM), OpenBSD)
+override USE_GNU_M4              = false
+override USING_GNU_TAR           = false
+else
 override USE_GNU_M4              = true
 override USING_GNU_TAR           = true
+endif
 override WRITE_LIBVERSION        = false
 
 # USE_EXECNAME forces the launcher to look up argv[0] on $PATH, and put the
@@ -446,12 +459,17 @@ override USE_EXECNAME            = true
 # can fully handle Type1 fonts in all cases. Default is "yes".
 # HAVE_DPS should only be "no" if the platform has no DPS headers or libs
 # DPS (Displayable PostScript) is available on Solaris machines
-HAVE_DPS = no
+HAVE_DPS ?= no
 
 #
 # Motif settings
 #
+# XXX: OpenBSD confirm static motif still causes issues - truk
+ifeq ($(TRUE_PLATFORM), OpenBSD)
+STATIC_MOTIF=false
+else
 STATIC_MOTIF=true
+endif
 LIBM=-lm
 
 # where to get motif for freebsd...

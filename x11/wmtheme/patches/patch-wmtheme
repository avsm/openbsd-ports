$OpenBSD: patch-wmtheme,v 1.3 2002/04/22 14:40:09 lebel Exp $
--- wmtheme.orig	Sat Dec  8 23:11:28 2001
+++ wmtheme	Mon Apr 22 10:36:42 2002
@@ -1361,7 +1361,7 @@ sub screensize {
   my ($rows, $cols);
 
   $rows = ($sttyout =~ /\brows (\d+)/ and $1 > 4) ? $1 : 24;
-  $cols = ($sttyout =~ /\bcolumns (\d+)/ and $1 > 49) ? $1 : 50;
+  $cols = ($sttyout =~ /\bcolumns (\d+)/ and $1 > 79) ? $1 : 80;
   ($rows, $cols);
 }
 
@@ -1531,7 +1531,7 @@ sub getfiletypes {
   # filename and a colon, and is padded with spaces such that the result
   # always begins at the same column.
 
-  my @types = split(/\n/, forktick("file -f \Q$file_input\E"));
+  my @types = split(/\n/, forktick("file -f \Q$file_input\E | sed -e \Qs;^[^:]*: *;;g\E"));
   unlink $file_input or choke("can't remove temporary file $file_input: $!");
 
   delete $cleanups{getfiletypes};

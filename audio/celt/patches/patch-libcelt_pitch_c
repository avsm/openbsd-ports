$OpenBSD: patch-libcelt_pitch_c,v 1.1.1.1 2010/12/02 22:16:02 dcoppa Exp $

Bugfix from upstream git (0722c16dd3bc66d77be61cb5330d0bb32650b899)

--- libcelt/pitch.c.orig	Mon Nov  8 10:20:03 2010
+++ libcelt/pitch.c	Wed Dec  1 11:14:45 2010
@@ -112,7 +112,7 @@ void pitch_downsample(celt_sig * restrict x[], celt_wo
    if (C==2)
    {
       for (i=1;i<len>>1;i++)
-      x_lp[i] = SHR32(HALF32(HALF32(x[1][(2*i-1)]+x[1][(2*i+1)])+x[1][2*i]), SIG_SHIFT+2);
+      x_lp[i] += SHR32(HALF32(HALF32(x[1][(2*i-1)]+x[1][(2*i+1)])+x[1][2*i]), SIG_SHIFT+2);
       x_lp[0] += SHR32(HALF32(HALF32(x[1][1])+x[1][0]), SIG_SHIFT+2);
       *xmem += x[1][end-1];
    }

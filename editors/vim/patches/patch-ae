--- ctags/entry.c.orig	Tue Jul 27 18:41:33 1999
+++ ctags/entry.c	Tue Jul 27 18:42:04 1999
@@ -359,7 +359,7 @@
      */
     if (TagsToStdout)
     {
-	TagFile.name = tmpnam(tempName);
+	TagFile.name = mkstemp(tempName);
 	TagFile.fp = fopen(TagFile.name, "w");
     }
     else
@@ -466,7 +466,7 @@
     char tempName[L_tmpnam];
     int result = -1;
 
-    if (tmpnam(tempName) != NULL)
+    if (mkstemp(tempName) != NULL)
     {
 	result = copyFile(name, tempName, size);
 	if (result == 0)
@@ -556,7 +556,7 @@
 
 extern void beginEtagsFile()
 {
-    tmpnam(TagFile.etags.name);
+    mkstemp(TagFile.etags.name);
     TagFile.etags.fp = fopen(TagFile.etags.name, "w+b");
     if (TagFile.etags.fp == NULL)
 	error(FATAL | PERROR, "cannot open \"%s\"", TagFile.etags.name);

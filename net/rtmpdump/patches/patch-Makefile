$OpenBSD: patch-Makefile,v 1.5 2010/02/26 18:46:26 sthen Exp $

avoid gmake-isms

--- Makefile.orig	Sun Feb 21 17:31:12 2010
+++ Makefile	Tue Feb 23 21:43:51 2010
@@ -6,7 +6,7 @@ OPT=-O2
 CFLAGS=-Wall $(XCFLAGS) $(INC) $(DEF) $(OPT)
 LDFLAGS=-Wall $(XLDFLAGS)
 LIBS=-lcrypto -lz
-THREADLIB=-lpthread
+THREADLIB=-pthread
 SLIBS=$(THREADLIB) $(LIBS)
 RTMP_OBJS=rtmp.o log.o amf.o
 
@@ -35,16 +35,16 @@ clean:
 	rm -f *.o rtmpdump$(EXT) streams$(EXT) rtmpsrv$(EXT) rtmpsuck$(EXT)
 
 rtmpdump: rtmpdump.o $(RTMP_OBJS) parseurl.o hashswf.o
-	$(CC) $(LDFLAGS) $^ -o $@$(EXT) $(LIBS)
+	$(CC) $(LDFLAGS) $> -o $@$(EXT) $(LIBS)
 
 rtmpsrv: rtmpsrv.o $(RTMP_OBJS) thread.o
-	$(CC) $(LDFLAGS) $^ -o $@$(EXT) $(SLIBS)
+	$(CC) $(LDFLAGS) $> -o $@$(EXT) $(SLIBS)
 
 rtmpsuck: rtmpsuck.o $(RTMP_OBJS) hashswf.o thread.o
-	$(CC) $(LDFLAGS) $^ -o $@$(EXT) $(SLIBS)
+	$(CC) $(LDFLAGS) $> -o $@$(EXT) $(SLIBS)
 
 streams: streams.o $(RTMP_OBJS) parseurl.o hashswf.o thread.o
-	$(CC) $(LDFLAGS) $^ -o $@$(EXT) $(SLIBS)
+	$(CC) $(LDFLAGS) $> -o $@$(EXT) $(SLIBS)
 
 log.o: log.c log.h Makefile
 parseurl.o: parseurl.c parseurl.h log.h Makefile

$OpenBSD: patch-Makefile,v 1.1.1.1 2001/05/19 00:21:00 lebel Exp $
--- Makefile.orig	Wed Oct 18 15:12:53 2000
+++ Makefile	Tue Apr 10 15:06:07 2001
@@ -6,14 +6,11 @@ OS=$(shell uname -s)
 # Compiler
 CC=	gcc
 
-# Install prefix
-PREFIX=/usr
-
 # Installation directory -- where the binary will go
-INSTALLDIR= $(PREFIX)/bin
+INSTALLDIR= $(TRUEPREFIX)/bin
 
 # Location to store auxilliary files
-AUXDIR= $(PREFIX)/lib/grip
+AUXDIR= $(TRUEPREFIX)/lib/grip
 
 
 # Compiler flags
@@ -28,13 +25,17 @@ endif
 ifeq ($(OS), FreeBSD)
 LIBS+=	-pthread
 endif
+ifeq ($(OS), OpenBSD)
+LIBS+=	-D_THREAD_SAFE
+endif
+
 PARLIBS=	cdparanoia/interface/libcdda_interface.a \
 		cdparanoia/paranoia/libcdda_paranoia.a
 
 # This is needed for "make install"
 OWNER  = root
-GROUP  = root
-INSTALL  = /usr/bin/install -o $(OWNER) -g $(GROUP)
+GROUP  = wheel
+INSTALL  = /usr/bin/install -c -o $(OWNER) -g $(GROUP)
 
 
 # ----------- You shouldn't need to make changes below here. -------------
@@ -43,7 +44,8 @@ VERSION= 2.95
 
 OBJS=	cddb.o cd.o id3.o bug.o parsecfg.o dialog/input.o dialog/message.o
 
-all: grip gcd
+all: gripnopar gcd
+xall: grip gcd
 
 grip:	grip.o $(OBJS) cdpar.o
 	$(CC) -o grip grip.o cdpar.o $(OBJS) $(LIBS) $(PARLIBS)

$OpenBSD: patch-Objects_stringobject_c,v 1.3 2003/12/30 17:05:30 sturm Exp $

        This has been submitted to the Python team as part of patch
        554716.

--- Objects/stringobject.c.orig	2001-12-10 16:45:54.000000000 +0100
+++ Objects/stringobject.c	2003-12-29 21:50:32.000000000 +0100
@@ -175,8 +175,12 @@ PyString_FromFormatV(const char *format,
 #ifdef VA_LIST_IS_ARRAY
 	memcpy(count, vargs, sizeof(va_list));
 #else
+#ifdef  __va_copy
+	__va_copy(count, vargs);
+#else
 	count = vargs;
 #endif
+#endif
 	/* step 1: figure out how large a buffer we need */
 	for (f = format; *f; f++) {
 		if (*f == '%') {

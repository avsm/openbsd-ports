$OpenBSD: patch-eval_c,v 1.3 2009/01/31 09:54:31 bernd Exp $

Fix usage of short-named constants.

http://svn.ruby-lang.org/cgi-bin/viewvc.cgi?view=rev&revision=18485
https://bugs.launchpad.net/ubuntu/+source/ruby1.8/+bug/282302

--- eval.c.orig	Mon Aug  4 05:16:55 2008
+++ eval.c	Tue Jan 27 09:46:14 2009
@@ -1066,7 +1066,7 @@ static VALUE ruby_wrapper;	/* security wrapper */
 
 NODE *ruby_cref = 0;
 NODE *ruby_top_cref;
-#define PUSH_CREF(c) ruby_cref = NEW_NODE(NODE_CREF,(c),0,ruby_cref)
+#define PUSH_CREF(c) ruby_cref = NEW_CREF(c,ruby_cref)
 #define POP_CREF() ruby_cref = ruby_cref->nd_next
 
 #define PUSH_SCOPE() do {		\

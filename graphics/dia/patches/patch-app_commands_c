$OpenBSD: patch-app_commands_c,v 1.4 2009/04/11 10:05:47 ajacoutot Exp $
--- app/commands.c.orig	Sun Mar 18 20:49:14 2007
+++ app/commands.c	Sat Apr 11 11:16:22 2009
@@ -532,7 +532,7 @@ help_manual_callback (GtkAction *action)
   const char *dentry;
   GError *error = NULL;
 
-  helpdir = dia_get_data_directory("help");
+  helpdir = g_strdup("${PREFIX}/share/doc/dia/html");
   if (!helpdir) {
     message_warning(_("Could not find help directory"));
     return;
@@ -581,7 +581,7 @@ help_manual_callback (GtkAction *action)
   ShellExecuteA (0, "open", helpindex, NULL, helpdir, SW_SHOWNORMAL);
 #else
   command = getenv("BROWSER");
-  command = g_strdup_printf("%s 'file://%s' &", command ? command : "gnome-open", helpindex);
+  command = g_strdup_printf("%s 'file://%s' &", command ? command : "xdg-open", helpindex);
   system(command);
   g_free(command);
 #endif
@@ -599,7 +599,7 @@ activate_url (GtkAboutDialog *about,
   ShellExecuteA (0, "open", link, NULL, NULL, SW_SHOWNORMAL);
 #else
   gchar *command = getenv("BROWSER");
-  command = g_strdup_printf("%s '%s' &", command ? command : "gnome-open", link);
+  command = g_strdup_printf("%s '%s' &", command ? command : "xdg-open", link);
   system(command);
   g_free(command);
 #endif

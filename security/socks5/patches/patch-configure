--- configure.orig	Mon Aug  2 09:01:03 1999
+++ configure	Sat Mar 23 16:04:12 2002
@@ -4716,6 +4716,20 @@ if test "$ac_cv_func_dlopen" = "yes" -o 
 		SHLIB_CFLAGS="-fpic"
 		PRELOADS="LD_PRELOAD"
 		;;
+	OpenBSD*)
+		SHLIB_LD=gcc
+		case `arch -s` in
+		sparc64)
+			SHLIB_LFLAGS="-shared -fPIC"
+			SHLIB_CFLAGS="-fPIC"
+			;;
+		*)
+			SHLIB_LFLAGS="-shared -fpic"
+			SHLIB_CFLAGS="-fpic"
+			;;
+		esac
+		PRELOADS="LD_PRELOAD"
+		;;
 	SunOS*4.*)
  		SHLIB_CFLAGS="-P"
 		SHLIB_LFLAGS="-dp -assert pure-text -assert nodefinitions"
@@ -4750,7 +4764,6 @@ if test "$ac_cv_func_dlopen" = "yes" -o 
 	esac
 
 	if test "$GCC" = "yes" ; then
-		SHLIB_CFLAGS="-fpic"
 		case `uname -rs` in
 		SunOS*4.*)
 			DLLIBS="-lc"
@@ -4763,7 +4776,7 @@ if test "$ac_cv_func_dlopen" = "yes" -o 
 		UNIX_SV*|UNIX_System_V*)
 			SHLIB_CFLAGS=
 			;;
-		FreeBSD*|NetBSD*)
+		FreeBSD*|NetBSD*|OpenBSD*)
 			;;
 		*)
 			SHLIB_LD="gcc"

$OpenBSD: patch-configure_in,v 1.9 2003/02/25 15:03:12 espie Exp $
--- configure.in.orig	Thu Jan 23 00:29:31 2003
+++ configure.in	Tue Feb 25 12:53:48 2003
@@ -628,7 +628,7 @@ AC_CHECK_FUNC(getaddrinfo,
   ]
 )
 case "$target" in
-  *-*-openbsd*)
+  *-*-openbsd2.*|*-*-openbsd3.[0-2])
     dnl OpenBSD's getaddrinfo is not thread-safe up to 3.2
     AC_DEFINE(HAVE_BROKEN_GETADDRINFO, 1, [Define if getaddrinfo is broken and should be replaced])
     ;;
@@ -1049,6 +1049,14 @@ if test "$path_su" = "no"; then
     AC_MSG_WARN(su was not found)
 else
     AC_DEFINE_UNQUOTED(__PATH_SU, "$path_su", [path to su])
+fi
+
+dnl Check for sudo
+AC_PATH_PROG(path_sudo, "sudo", "no")
+if test "$path_sudo" = "no"; then
+    AC_MSG_WARN(sudo was not found)
+else
+    AC_DEFINE_UNQUOTED(__PATH_SUDO, "$path_sudo", [path to sudo])
 fi
 
 dnl Check for POSIX.1b scheduling

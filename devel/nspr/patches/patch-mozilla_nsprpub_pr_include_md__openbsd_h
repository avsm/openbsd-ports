$OpenBSD: patch-mozilla_nsprpub_pr_include_md__openbsd_h,v 1.3 2006/11/15 09:05:36 ajacoutot Exp $
--- mozilla/nsprpub/pr/include/md/_openbsd.h.orig	Sun Apr 25 17:00:47 2004
+++ mozilla/nsprpub/pr/include/md/_openbsd.h	Fri Nov 10 20:13:55 2006
@@ -54,9 +54,11 @@
 #define _PR_SI_ARCHITECTURE "powerpc"
 #elif defined(__sparc__)
 #define _PR_SI_ARCHITECTURE "sparc"
+#elif defined(__arm__)
+#define _PR_SI_ARCHITECTURE "arm"
 #endif
 
-#define PR_DLL_SUFFIX		".so.1.0"
+#define PR_DLL_SUFFIX		".so._SO_VERSION_"
 
 #define _PR_VMBASE              0x30000000
 #define _PR_STACK_VMBASE	0x50000000
@@ -97,6 +99,8 @@
 #define JB_SP_INDEX 34
 #elif defined(__amd64__)
 #define JB_SP_INDEX 6
+#elif defined(__arm__)
+#define JB_SP_INDEX 23
 #else
 #error "Need to define SP index in jmp_buf here"
 #endif

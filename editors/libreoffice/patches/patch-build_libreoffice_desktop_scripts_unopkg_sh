$OpenBSD: patch-build_libreoffice_desktop_scripts_unopkg_sh,v 1.1.1.1 2010/11/14 23:46:34 robert Exp $
--- build/libreoffice/desktop/scripts/unopkg.sh.orig.port	Wed Nov 10 19:49:20 2010
+++ build/libreoffice/desktop/scripts/unopkg.sh	Sun Nov 14 16:09:57 2010
@@ -52,6 +52,20 @@ do
   esac
 done
 
+# this is a temporary hack until we can live with the default search paths
+case "`uname -s`" in
+OpenBSD)
+    sd_prog1="$sd_prog/../basis-link/program"
+    sd_prog2="$sd_prog/../basis-link/ure-link/lib"
+    LD_LIBRARY_PATH=$sd_prog1:$sd_prog2${LD_LIBRARY_PATH+:${LD_LIBRARY_PATH}}
+    JAVA_HOME=$(javaPathHelper -h libreoffice-java 2> /dev/null)
+    export LD_LIBRARY_PATH
+    if [ -n "${JAVA_HOME}" ]; then
+        export JAVA_HOME
+    fi
+    ;;
+esac
+
 # extend the ld_library_path for java: javaldx checks the sofficerc for us
 if [ -x "$sd_prog/../basis-link/ure-link/bin/javaldx" ] ; then
     my_path=`"$sd_prog/../basis-link/ure-link/bin/javaldx" $BOOTSTRAPVARS \

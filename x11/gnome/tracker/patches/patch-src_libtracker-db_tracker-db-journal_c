$OpenBSD: patch-src_libtracker-db_tracker-db-journal_c,v 1.3 2010/05/07 07:22:47 ajacoutot Exp $
--- src/libtracker-db/tracker-db-journal.c.orig	Thu May  6 14:27:57 2010
+++ src/libtracker-db/tracker-db-journal.c	Fri May  7 08:49:44 2010
@@ -797,6 +797,15 @@ tracker_db_journal_reader_verify_last (GError **error)
 	return success;
 }
 
+#ifdef __OpenBSD__
+size_t
+strnlen (const char *string, size_t maxlen)
+{
+	const char *end = memchr (string, '\0', maxlen);
+	return end ? (size_t) (end - string) : maxlen;
+}
+#endif // __OpenBSD__
+
 gboolean
 tracker_db_journal_reader_next (GError **error)
 {

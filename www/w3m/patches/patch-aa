--- XMakefile.orig	Fri Jan 28 20:14:18 2000
+++ XMakefile	Fri Jan 28 20:19:41 2000
@@ -50,17 +50,17 @@
 	cd gc; make CC='$(CC) $(MYCFLAGS)'
 
 install: $(TARGETS)
-	-$(MKDIR) $(DESTDIR)$(BIN_DIR)
-	-$(MKDIR) $(DESTDIR)$(HELP_DIR)
-	-$(MKDIR) $(DESTDIR)$(LIB_DIR)
-	$(INSTALL) -m 755 $(TARGET) $(DESTDIR)$(BIN_DIR)/$(TARGET)
-	$(INSTALL) -m 644 w3mhelp_en.html $(DESTDIR)$(HELP_DIR)/w3mhelp_en.html
-	$(INSTALL) -m 644 w3mhelp_ja.html $(DESTDIR)$(HELP_DIR)/w3mhelp_ja.html
-	$(INSTALL) -m 644 w3mhelp-lynx_en.html $(DESTDIR)$(HELP_DIR)/w3mhelp-lynx_en.html
-	$(INSTALL) -m 644 w3mhelp-lynx_ja.html $(DESTDIR)$(HELP_DIR)/w3mhelp-lynx_ja.html
-	$(INSTALL) -m 644 $(HELP_FILE) $(DESTDIR)$(HELP_DIR)/w3mhelp.html
-	for d in $(BOOKMARKER) $(HELPER); do $(INSTALL) -m 755 $$d $(DESTDIR)$(LIB_DIR)/$$d; done
-	(cd scripts; ln -s ../install.sh .; for i in *.cgi; do $(INSTALL) -m 755 $$i $(DESTDIR)$(LIB_DIR)/$$i; done)
+	$(BSD_INSTALL_PROGRAM_DIR) $(DESTDIR)$(BIN_DIR)
+	$(BSD_INSTALL_DATA_DIR) $(DESTDIR)$(HELP_DIR)
+	$(BSD_INSTALL_PROGRAM_DIR) $(DESTDIR)$(LIB_DIR)
+	$(BSD_INSTALL_PROGRAM) $(TARGET) $(DESTDIR)$(BIN_DIR)
+	$(BSD_INSTALL_DATA) w3mhelp_en.html $(DESTDIR)$(HELP_DIR)
+	$(BSD_INSTALL_DATA) w3mhelp_ja.html $(DESTDIR)$(HELP_DIR)
+	$(BSD_INSTALL_DATA) w3mhelp-lynx_en.html $(DESTDIR)$(HELP_DIR)
+	$(BSD_INSTALL_DATA) w3mhelp-lynx_ja.html $(DESTDIR)$(HELP_DIR)
+	ln $(DESTDIR)$(HELP_DIR)/$(HELP_FILE) $(DESTDIR)$(HELP_DIR)/w3mhelp.html
+	for d in $(BOOKMARKER) $(HELPER); do $(BSD_INSTALL_PROGRAM) $$d $(DESTDIR)$(LIB_DIR); done
+	(cd scripts; for i in *.cgi; do $(BSD_INSTALL_SCRIPT) $$i $(DESTDIR)$(LIB_DIR); done)
 
 uninstall:
 	-$(RM) $(BIN_DIR)/$(TARGET)

$OpenBSD: patch-root-tail_c,v 1.1 2004/06/26 05:00:25 naddy Exp $
--- root-tail.c.orig	2004-06-20 11:05:55.000000000 -0600
+++ root-tail.c	2004-06-20 11:07:14.000000000 -0600
@@ -655,12 +655,12 @@ transform_line (char *s)
 char *
 concat_line (char *p1, const char *p2)
 {
-  assert(p2);
-
   int l1 = p1 ? strlen (p1) : 0;
   int l2 = strlen (p2);
   char *r;
 
+  assert(p2);
+
   if (p1)
     r = xrealloc(p1, l1 + l2 + 1);
   else
@@ -925,6 +925,8 @@ possibly_split_long_line (struct logfile
       int wrapped = 0;
       char *break_p = NULL;
       int width_at_break_p = 0;
+      int prefix_len;
+
       spaces = 0;
 
       if (opt_justify)
@@ -992,8 +994,6 @@ possibly_split_long_line (struct logfile
       if (!wrapped)
         break;
 
-      int prefix_len;
-
       /* choose where to break the line */
       if (opt_wordwrap && break_p && break_p != beg)
         {

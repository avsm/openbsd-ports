$OpenBSD: patch-configure,v 1.4 2001/05/16 23:55:36 pvalchev Exp $
--- configure.orig	Mon Mar 26 20:39:34 2001
+++ configure	Wed May 16 17:45:37 2001
@@ -6448,7 +6448,20 @@ __EOF__
 __EOF__
   cat >>$new <$old
 
-            
+	    if test x$use_pthreads = xyes -a x$enable_pthread_sem != xyes; then
+		
+  echo "Copying src/thread/generic/SDL_syssem.c -> src/thread/SDL_syssem.c"
+  old="$srcdir/src/thread/generic/SDL_syssem.c"
+  new="$srcdir/src/thread/SDL_syssem.c"
+  cat >$new <<__EOF__
+/* WARNING:  This file was automatically generated!
+ * Original: $old
+ */
+__EOF__
+  cat >>$new <$old
+
+	    else
+		
   echo "Copying src/thread/linux/SDL_syssem.c -> src/thread/SDL_syssem.c"
   old="$srcdir/src/thread/linux/SDL_syssem.c"
   new="$srcdir/src/thread/SDL_syssem.c"
@@ -6459,6 +6472,7 @@ __EOF__
 __EOF__
   cat >>$new <$old
 
+	    fi
             
   echo "Copying src/thread/generic/SDL_syssem_c.h -> src/thread/SDL_syssem_c.h"
   old="$srcdir/src/thread/generic/SDL_syssem_c.h"
@@ -8633,6 +8647,10 @@ fi
 
 if test $ARCH = solaris; then
   SDL_RLD_FLAGS="-R\${exec_prefix}/lib"
+fi
+
+if test $ARCH = openbsd; then
+  SDL_RLD_FLAGS="-L${X11BASE}/lib -Wl,-rpath,\${exec_prefix}/lib -Wl,-rpath,${X11BASE}/lib"
 fi
 
 if test x$enable_video = xtrue; then

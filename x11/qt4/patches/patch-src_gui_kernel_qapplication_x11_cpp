$OpenBSD: patch-src_gui_kernel_qapplication_x11_cpp,v 1.2 2005/09/19 20:40:16 espie Exp $
--- src/gui/kernel/qapplication_x11.cpp.orig	Tue Aug 16 10:41:12 2005
+++ src/gui/kernel/qapplication_x11.cpp	Sun Sep 18 15:42:27 2005
@@ -410,7 +410,7 @@ static int qt_x_errhandler(Display *dpy,
     XGetErrorText( dpy, err->error_code, errstr, 256 );
     char buffer[256];
     char request_str[256];
-    sprintf(buffer, "%d", err->request_code);
+    snprintf(buffer, 256, "%d", err->request_code);
     XGetErrorDatabaseText(dpy, "XRequest", buffer, "", request_str, 256);
     if (err->request_code < 128) {
         // X error for a normal protocol request
@@ -433,11 +433,11 @@ static int qt_x_errhandler(Display *dpy,
 
         char minor_str[256];
         if (extensionName) {
-            sprintf(buffer, "%s.%d", extensionName, err->minor_code);
+            snprintf(buffer, 256, "%s.%d", extensionName, err->minor_code);
             XGetErrorDatabaseText(dpy, "XRequest", buffer, "", minor_str, 256);
         } else {
             extensionName = "Uknown extension";
-            sprintf(minor_str, "Unknown request");
+            snprintf(minor_str, 256, "Unknown request");
         }
         qWarning( "X Error: %s %d\n"
                   "  Extension:    %d (%s)\n"

*** zip.c.orig	Sat Apr 27 08:32:56 1996
--- zip.c	Tue Nov 25 17:17:26 1997
***************
*** 1519,1531 ****
        return 0;
  #endif
      }
!     if ((tempzip = tempname(zipfile)) == NULL) {
        ziperr(ZE_MEM, "allocating temp filename");
  #ifdef WIZZIPDLL
        return 0;
  #endif
      }
!     if ((tempzf = y = fopen(tempzip, FOPW)) == NULL) {
        ziperr(ZE_TEMP, tempzip);
  #ifdef WIZZIPDLL
        return 0;
--- 1519,1531 ----
        return 0;
  #endif
      }
!     if ((tempzip = tempname(zipfile, &y)) == NULL) {
        ziperr(ZE_MEM, "allocating temp filename");
  #ifdef WIZZIPDLL
        return 0;
  #endif
      }
!     if ((tempzf = y) == NULL) {
        ziperr(ZE_TEMP, tempzip);
  #ifdef WIZZIPDLL
        return 0;

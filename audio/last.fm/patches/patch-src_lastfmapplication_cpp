$OpenBSD: patch-src_lastfmapplication_cpp,v 1.3 2011/03/30 20:51:13 dcoppa Exp $
--- src/lastfmapplication.cpp.orig	Wed Mar 30 20:25:01 2011
+++ src/lastfmapplication.cpp	Wed Mar 30 20:26:15 2011
@@ -128,7 +128,7 @@ LastFmApplication::LastFmApplication( int& argc, char*
 
     setQuitOnLastWindowClosed( false );
   #ifdef Q_WS_X11
-    setWindowIcon( QIcon( MooseUtils::dataPath( "icons/as.ico" ) ) );
+    setWindowIcon( QIcon( MooseUtils::dataPath( "icons/as.png" ) ) );
   #endif
 
   #ifdef WIN32
@@ -234,7 +234,8 @@ LastFmApplication::init()
         }
 
         LOGL( 3, "First run, launching config wizard" );
-        QFile( MooseUtils::savePath( "mediadevice.db" ) ).remove();
+        QFile mediadevicedb( MooseUtils::savePath( "mediadevice.db" ) );
+        mediadevicedb.remove();
 
         ConfigWizard wiz( NULL, ConfigWizard::Login );
 
@@ -245,7 +246,7 @@ LastFmApplication::init()
             return;
         }
     }
-  #ifndef LINUX
+  #ifndef Q_WS_X11
     else
     {
       #ifdef Q_OS_MAC

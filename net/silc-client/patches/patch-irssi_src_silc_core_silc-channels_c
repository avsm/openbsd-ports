$OpenBSD: patch-irssi_src_silc_core_silc-channels_c,v 1.3 2002/09/24 17:20:10 fgsch Exp $
--- irssi/src/silc/core/silc-channels.c.orig	Sat Sep  7 06:36:41 2002
+++ irssi/src/silc/core/silc-channels.c	Tue Sep 24 02:28:01 2002
@@ -31,7 +31,6 @@
 #include "rawlog.h"
 #include "misc.h"
 #include "settings.h"
-#include "blob.h"
 
 #include "channels-setup.h"
 
@@ -46,19 +45,6 @@
 
 #include "silc-commands.h"
 
-void sig_mime(SILC_SERVER_REC *server, SILC_CHANNEL_REC *channel,
-	      BLOB_REC *blob, const char *enc, const char *type,
-	      const char *nick)
-{
-  if (!(IS_SILC_SERVER(server)))
-    return;
-  
-  printformat_module("fe-common/silc", server, 
-		     channel == NULL ? NULL : channel->name,
-		     MSGLEVEL_CRAP, SILCTXT_MESSAGE_DATA,
-		     nick == NULL ? "[<unknown>]" : nick, type);
-}
-
 SILC_CHANNEL_REC *silc_channel_create(SILC_SERVER_REC *server,
 				      const char *name, int automatic)
 {
@@ -987,7 +973,6 @@ void silc_channels_init(void)
   signal_add("channel destroyed", (SIGNAL_FUNC) sig_channel_destroyed);
   signal_add("server connected", (SIGNAL_FUNC) sig_connected);
   signal_add("server quit", (SIGNAL_FUNC) sig_server_quit);
-  signal_add("mime", (SIGNAL_FUNC) sig_mime);
 
   command_bind_silc("part", MODULE_NAME, (SIGNAL_FUNC) command_part);
   command_bind_silc("me", MODULE_NAME, (SIGNAL_FUNC) command_me);
@@ -1005,7 +990,6 @@ void silc_channels_deinit(void)
   signal_remove("channel destroyed", (SIGNAL_FUNC) sig_channel_destroyed);
   signal_remove("server connected", (SIGNAL_FUNC) sig_connected);
   signal_remove("server quit", (SIGNAL_FUNC) sig_server_quit);
-  signal_remove("mime", (SIGNAL_FUNC) sig_mime);
 
   command_unbind("part", (SIGNAL_FUNC) command_part);
   command_unbind("me", (SIGNAL_FUNC) command_me);

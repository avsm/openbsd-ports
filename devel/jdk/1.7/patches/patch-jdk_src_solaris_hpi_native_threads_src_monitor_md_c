$OpenBSD: patch-jdk_src_solaris_hpi_native_threads_src_monitor_md_c,v 1.1 2008/03/19 18:05:46 kurt Exp $
--- jdk/src/solaris/hpi/native_threads/src/monitor_md.c.orig	Tue Oct 30 05:04:03 2007
+++ jdk/src/solaris/hpi/native_threads/src/monitor_md.c	Thu Nov  8 08:40:22 2007
@@ -147,7 +147,7 @@ sysMonitorEnter(sys_thread_t *self, sys_mon_t *mid)
         mid->monitor_owner = self;
         mid->entry_count = 1;
         return SYS_OK;
-    } else if (err == EBUSY) { /* it's already locked */
+    } else if (err == EBUSY || err == EDEADLK) { /* it's already locked */
         if (mid->monitor_owner == self) {
             mid->entry_count++;
             return SYS_OK;

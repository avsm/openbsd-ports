$OpenBSD: patch-hotspot_src_share_vm_runtime_os_cpp,v 1.3 2009/01/04 23:25:16 kurt Exp $
--- hotspot/src/share/vm/runtime/os.cpp.orig	Thu Jul 17 03:40:34 2008
+++ hotspot/src/share/vm/runtime/os.cpp	Sat Aug  2 16:12:52 2008
@@ -81,7 +81,11 @@ char* os::iso8601_time(char* buffer, size_t buffer_len
   }
   // Save the results of localtime
   const struct tm time_struct = *time_struct_temp;
+#if defined(_ALLBSD_SOURCE)
+  const time_t zone = (time_t) time_struct_temp->tm_gmtoff;
+#else
   const time_t zone = timezone;
+#endif
 
   // If daylight savings time is in effect,
   // we are 1 hour East of our time zone

$OpenBSD: README,v 1.6 2011/03/03 14:05:48 ajacoutot Exp $

Using sane(7) under OpenBSD
===========================

First read ${TRUEPREFIX}/share/doc/sane-backends/PROBLEMS.

USB
---
Since USB scanning will be handled by libusb, you need to allow the
_saned user access to the corresponding USB endpoint. To do so, find
where your scanner is attached to using dmesg(8) then change the
ownerships accordingly.
ugenX = /dev/ugenX
uhubX = /dev/usbX

e.g.
$ dmesg | grep ugen
ugen0 at uhub1 port 1 "EPSON USB MFP" rev 1.10/1.00 addr 2
$ sudo chgrp _saned /dev/ugen0.* /dev/usb1

The reason we are changing the group and not the user is that it will
allow for multi-function devices to work for both printing and scanning
(e.g. by being owned by _cups:_saned).

To preserve your changes after a system update, use rc.local(8).
e.g. for a multi-function printer/scanner add the following lines:
chown _cups:_saned /dev/ugen0.* /dev/usb1

You can then grant users direct access to the scanner by adding them to
the _saned group.

SCSI
----
SANE only supports the generic SCSI uk(4) devices.
Make sure your user account has access to the scanner device node or you
will not be able to scan.

LOCKING
-------
Some backends (like sane-plustek(5)) use a lockfile for allowing
multiple access to one scanner. If using such a backend, you must
add yourself to the _saned group or you will not be able to scan.

NETWORK
-------
By default, the saned(8) daemon runs as _saned, so you need to allow the
_saned user access to the scanner device node.
If you're planning on using the SANE network daemon (saned) with
inetd(8) as opposed to starting it standalone from the provided rc.d(8)
script, add the following line in /etc/services:
sane-port	6566/tcp	saned	# SANE network scanner daemon

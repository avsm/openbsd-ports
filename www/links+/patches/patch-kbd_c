$OpenBSD: patch-kbd_c,v 1.2 2003/11/17 22:59:32 fgsch Exp $
--- kbd.c.orig	2003-10-10 02:52:57.000000000 -0300
+++ kbd.c	2003-11-17 19:09:11.000000000 -0300
@@ -386,10 +386,10 @@ void in_sock(struct itrm *itrm)
 		}
 		mem_free(param);
 		if (fg == 1) {
-			set_handlers(blockh, (void (*)(void *))unblock_itrm_x, NULL, (void (*)(void *))unblock_itrm_x, (void *)blockh);
+			set_handlers(blockh, (void (*)(void *))unblock_itrm_x, NULL, (void (*)(void *))unblock_itrm_x, (void *)(intptr_t)blockh);
 			/*block_itrm(itrm->ctl_in);*/
 		} else {
-			set_handlers(blockh, close_handle, NULL, close_handle, (void *)blockh);
+			set_handlers(blockh, close_handle, NULL, close_handle, (void *)(intptr_t)blockh);
 		}
 	}
 	to_je_ale_hnus:

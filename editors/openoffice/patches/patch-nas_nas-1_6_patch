$OpenBSD: patch-nas_nas-1_6_patch,v 1.3 2006/10/18 12:45:59 kurt Exp $
--- nas/nas-1.6.patch.orig.port	Fri Mar 10 10:59:50 2006
+++ nas/nas-1.6.patch	Tue Oct 17 22:42:40 2006
@@ -109,7 +109,7 @@
    */
   
   #ifndef WIN32
-! # if defined(__NetBSD__) || defined(__FreeBSD__)
+! # if defined(__NetBSD__) || defined(__FreeBSD__) || defined(__OpenBSD__)
   #  include <limits.h>
   #  define MAXSHORT SHRT_MAX
   #  define MINSHORT SHRT_MIN
@@ -497,7 +497,7 @@
   #include <sys/param.h>
   #include <assert.h>
   
-! #ifdef __NetBSD__
+! #if defined(__NetBSD__) || defined(__OpenBSD__)
 ! # include <sys/ioctl.h>
 ! # include <soundcard.h>
   #else
@@ -619,6 +619,23 @@
 *** misc/nas-1.6/server/Imakefile	2002-07-24 03:49:33.000000000 +0200
 --- misc/build/nas-1.6/server/Imakefile	2004-09-03 12:50:52.883257512 +0200
 ***************
+*** 60,66 ****
+          SYSLIBS =
+  #endif
+  
+! #ifdef NetBSDArchitecture
+          SYSLIBS = -lossaudio
+  #endif
+  
+--- 60,66 ----
+          SYSLIBS =
+  #endif
+  
+! #if defined(NetBSDArchitecture) || defined(OpenBSDArchitecture)
+          SYSLIBS = -lossaudio
+  #endif
+  
+***************
 *** 105,110 ****
 --- 105,113 ----
   # if defined(LinuxArchitecture)
@@ -763,3 +780,72 @@
       XtAppAddActions(appContext, actions, XtNumber(actions));
   
       if (argc == 3)
+*** misc/nas-1.6/doc/Imakefile	Sat May  8 20:47:19 1999
+--- misc/build/nas-1.6/doc/Imakefile	Sat Apr 15 14:51:40 2006
+***************
+*** 27,33 ****
+  #define IHaveSubdirs
+  #define PassCDebugFlags AuPassCDebugFlags
+  
+- SUBDIRS = man
+- 
+  MakeSubdirs($(SUBDIRS))
+  DependSubdirs($(SUBDIRS))
+--- 27,31 ----
+*** misc/nas-1.6/lib/audio/ConnSvr.c	Sat Feb 23 17:06:29 2002
+--- misc/build/nas-1.6/lib/audio/ConnSvr.c	Mon Oct 16 23:09:28 2006
+***************
+*** 54,60 ****
+  #define FIOSNBIO	FIONBIO
+  #endif /* WIN32 */
+  
+! #if defined(__FreeBSD__) || defined(__NetBSD__)
+  #include <sys/param.h>
+  #endif /* __FreeBSD__ */
+  #include <ctype.h>
+--- 54,60 ----
+  #define FIOSNBIO	FIONBIO
+  #endif /* WIN32 */
+  
+! #if defined(__FreeBSD__) || defined(__NetBSD__) || defined(__OpenBSD__)
+  #include <sys/param.h>
+  #endif /* __FreeBSD__ */
+  #include <ctype.h>
+*** misc/nas-1.6/server/dia/auevents.c	Sat Oct  6 17:19:46 2001
+--- misc/build/nas-1.6/server/dia/auevents.c	Mon Oct 16 23:10:40 2006
+***************
+*** 29,35 ****
+  # define		_BSD_SIGNALS
+  #endif
+  
+! #ifdef __NetBSD__
+  # include       <sys/types.h>
+  #endif
+  
+--- 29,35 ----
+  # define		_BSD_SIGNALS
+  #endif
+  
+! #if defined(__NetBSD__) || defined(__OpenBSD__)
+  # include       <sys/types.h>
+  #endif
+  
+*** misc/nas-1.6/server/dia/auservertype.h	Wed Jul 24 20:42:28 2002
+--- misc/build/nas-1.6/server/dia/auservertype.h	Mon Oct 16 23:10:20 2006
+***************
+*** 14,20 ****
+  # define SGI_SERVER
+  #endif						/* sgi */
+  
+! #if defined(__FreeBSD__) || defined(__NetBSD__) || defined(linux) || (defined(SVR4) && (defined(SYSV386) || defined(i386))) || defined(__CYGWIN__)
+  # define VOXWARE_SERVER
+  #endif                                          /* voxware */
+  
+--- 14,20 ----
+  # define SGI_SERVER
+  #endif						/* sgi */
+  
+! #if defined(__FreeBSD__) || defined(__NetBSD__) || defined(__OpenBSD__) || defined(linux) || (defined(SVR4) && (defined(SYSV386) || defined(i386))) || defined(__CYGWIN__)
+  # define VOXWARE_SERVER
+  #endif                                          /* voxware */
+  

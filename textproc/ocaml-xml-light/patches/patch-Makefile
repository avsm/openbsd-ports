$OpenBSD: patch-Makefile,v 1.1.1.1 2005/05/23 23:03:56 avsm Exp $
--- Makefile.orig	Sun Oct 12 11:16:12 2003
+++ Makefile	Tue May 24 00:01:50 2005
@@ -2,7 +2,7 @@
 # http://tech.motion-twin.com
 .SUFFIXES : .ml .mli .cmo .cmx .cmi .mll .mly
 
-INSTALLDIR=`ocamlc -where`
+INSTALLDIR=$(DESTDIR)/`ocamlc -where`
 CFLAGS=
 LFLAGS= -a
 LIBS=
@@ -11,9 +11,13 @@ all: xml-light.cma test.exe doc
 
 opt: xml-light.cmxa test_opt.exe
 
-install: all opt
-	cp xml-light.cmxa xml-light.a xml-light.cma xml.mli xmlParser.mli dtd.mli xml.cmi xmlParser.cmi dtd.cmi xml.cmx dtd.cmx xmlParser.cmx $(INSTALLDIR)
-
+install: all
+	mkdir -p $(INSTALLDIR)
+	cp xml-light.cma xml.mli xmlParser.mli dtd.mli xml.cmi xmlParser.cmi dtd.cmi $(INSTALLDIR)
+
+installopt: opt
+	cp xml-light.a xml-light.cmxa xml.cmx dtd.cmx xmlParser.cmx $(INSTALLDIR)
+
 doc:
 	mkdir doc
 	ocamldoc -sort -html -d doc xml.mli dtd.mli xmlParser.mli

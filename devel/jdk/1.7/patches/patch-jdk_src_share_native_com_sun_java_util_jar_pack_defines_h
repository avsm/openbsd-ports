$OpenBSD: patch-jdk_src_share_native_com_sun_java_util_jar_pack_defines_h,v 1.1 2008/03/19 18:05:46 kurt Exp $
--- jdk/src/share/native/com/sun/java/util/jar/pack/defines.h.orig	Tue Oct 30 05:03:36 2007
+++ jdk/src/share/native/com/sun/java/util/jar/pack/defines.h	Wed Nov  7 19:03:28 2007
@@ -32,6 +32,10 @@
 #include <unistd.h>
 #endif
 
+#ifndef NO_ZLIB
+#      include <zconf.h>
+#endif
+
 #ifndef FULL
 #define FULL 1 /* Adds <500 bytes to the zipped final product. */
 #endif
@@ -87,10 +91,12 @@ extern void assert_failed(const char*);
 // bytes and byte arrays
 
 typedef unsigned int uint;
+#ifdef NO_ZLIB
 #ifdef _LP64
 typedef unsigned int uLong; // Historical zlib, should be 32-bit.
 #else
 typedef unsigned long uLong;
+#endif
 #endif
 #ifdef _MSC_VER
 typedef LONGLONG        jlong;

$OpenBSD: patch-user_c,v 1.2 2007/11/19 11:44:33 martynas Exp $
--- user.c.orig	Mon Aug 20 16:27:13 2007
+++ user.c	Mon Nov 19 13:39:02 2007
@@ -132,7 +132,7 @@ user_t *user_find( irc_t *irc, char *nick )
 {
 	char key[512] = "";
 	
-	strncpy( key, nick, sizeof( key ) - 1 );
+	strlcpy( key, nick, sizeof( key ) );
 	if( nick_lc( key ) )
 		return( g_hash_table_lookup( irc->userhash, key ) );
 	else

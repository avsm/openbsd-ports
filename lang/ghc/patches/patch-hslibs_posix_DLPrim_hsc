More tedium 			-- commited to HEAD

$OpenBSD: patch-hslibs_posix_DLPrim_hsc,v 1.1.1.1 2003/05/29 16:38:31 avsm Exp $
--- hslibs/posix/DLPrim.hsc.orig	Fri Dec  6 14:43:33 2002
+++ hslibs/posix/DLPrim.hsc	Fri Dec  6 14:44:19 2002
@@ -90,8 +90,19 @@ packModuleFlags flags = foldl (\ s f -> 
 
 packOneModuleFlag :: ModuleFlags -> CInt
 packOneModuleFlag RTLD_LAZY = #const RTLD_LAZY
+
+#ifdef HAVE_RTLDNOW
 packOneModuleFlag RTLD_NOW = #const RTLD_NOW
+#else /* HAVE_RTLDNOW */
+packOneModuleFlag RTLD_NOW =  error "RTLD_NOW not available"
+#endif /* HAVE_RTLDNOW */
+
+#ifdef HAVE_RTLDGLOBAL
 packOneModuleFlag RTLD_GLOBAL = #const RTLD_GLOBAL
+#else /* HAVE_RTLDGLOBAL */
+packOneModuleFlag RTLD_GLOBAL = error "RTLD_GLOBAL not available"
+#endif
+
 #ifdef HAVE_RTLDLOCAL
 packOneModuleFlag RTLD_LOCAL = #const RTLD_LOCAL
 #else /* HAVE_RTLDLOCAL */

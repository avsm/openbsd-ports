$OpenBSD: patch-links_h,v 1.7 2003/06/12 13:47:44 brad Exp $
--- links.h.orig	Thu May 22 12:56:20 2003
+++ links.h	Wed Jun  4 08:57:15 2003
@@ -137,6 +137,8 @@ x #endif*/
 #define longlong long
 #endif
 
+#include <inttypes.h>
+
 #include <termios.h>
 
 #include "os_depx.h"
@@ -1027,6 +1029,7 @@ static inline int end_of_dir(unsigned ch
 
 int parse_url(unsigned char *, int *, unsigned char **, int *, unsigned char **, int *, unsigned char **, int *, unsigned char **, int *, unsigned char **, int *, unsigned char **);
 unsigned char *get_host_name(unsigned char *);
+unsigned char *get_protocol_name(unsigned char *);
 unsigned char *get_host_and_pass(unsigned char *);
 unsigned char *get_user_name(unsigned char *);
 unsigned char *get_pass(unsigned char *);
@@ -2986,7 +2989,8 @@ struct history {
 #define D_END		0
 #define D_CHECKBOX	1
 #define D_FIELD		2
-#define D_BUTTON	3
+#define D_FIELD_PASS	3
+#define D_BUTTON	4
 
 #define B_ENTER		1
 #define B_ESC		2
@@ -3844,6 +3848,7 @@ struct http_bugs {
 extern struct http_bugs http_bugs;
 
 extern unsigned char default_anon_pass[];
+extern int ftp_passive;
 
 /* listedit.c */
 
@@ -3914,5 +3919,30 @@ void save_bookmarks(void);
 
 /* Launches bookmark manager */
 void menu_bookmark_manager(struct terminal *, void *, struct session *);
+
+/* auth.h */
+
+struct http_auth_basic {
+        struct http_auth_basic *next;
+        struct http_auth_basic *prev;
+        int blocked;
+        int valid;
+        unsigned char *url;
+        int url_len;
+        unsigned char *realm;
+        unsigned char *uid;
+        unsigned char *passwd;
+};
+
+void init_auth();
+unsigned char *find_auth(unsigned char *);
+int add_auth_entry(unsigned char *, unsigned char *);
+void del_auth_entry(struct http_auth_basic *);
+void free_auth();
+unsigned char *base64_encode(unsigned char *);
+unsigned char *get_http_header_param(unsigned char *e, unsigned char * name);
+void do_auth_dialog(struct session *ses);
+
+int need_auth;
 
 #endif /* #ifndef _LINKS_H */

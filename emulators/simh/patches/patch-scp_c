$OpenBSD: patch-scp_c,v 1.10 2005/10/24 15:53:26 fgsch Exp $
--- scp.c.orig	Thu Sep 22 16:31:12 2005
+++ scp.c	Mon Oct 24 12:16:55 2005
@@ -628,7 +628,10 @@ while (stat != SCPE_EXIT) {             
     else if (sim_vm_read != NULL)                       /* sim routine? */
         cptr = (*sim_vm_read) (cbuf, CBUFSIZE, stdin);
     else cptr = read_line (cbuf, CBUFSIZE, stdin);      /* read command line */
-    if (cptr == NULL) continue;                         /* ignore EOF */
+    if (cptr == NULL) {
+	putchar('\n');
+	continue;					/* ignore EOF */
+    }
     if (*cptr == 0) continue;                           /* ignore blank */
     if (sim_log) fprintf (sim_log, "sim> %s\n", cptr);  /* log cmd */
     cptr = get_glyph (cptr, gbuf, 0);                   /* get command glyph */

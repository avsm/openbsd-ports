$OpenBSD: patch-base_src_client_WorkSpace_h,v 1.1 2002/08/28 22:23:29 todd Exp $
--- base/src/client/WorkSpace.h.orig	Mon Aug  5 20:07:37 2002
+++ base/src/client/WorkSpace.h	Wed Aug 28 14:26:39 2002
@@ -76,19 +76,25 @@ void ws_Revert(WorkSpace *);
 
 void ws_RestoreFiles(WorkSpace *, unsigned flags);
   
-#define WSE_FILTER   0x1u
-#define WSE_FILES    0x2u
-#define WSE_DIRS     0x4u
-#define WSE_SYMLINKS 0x8u
+#define WSE_FILTER   0x1u	/* Apply directory-level filters */
+#define WSE_FILES    0x2u	/* Looking for files only */
+#define WSE_DIRS     0x4u	/* Include subdirs */
+#define WSE_SYMLINKS 0x8u	/* Include symbolic links */
+#define WSE_NORMALIZE 0x10u	/* Make path relative to ws top dir */
 
-#define WSE_NORMAL      (WSE_FILES|WSE_SYMLINKS|WSE_FILTER)
-#define WSE_UNFILTERED  (WSE_FILES|WSE_SYMLINKS)
+#define WSE_STANDARD    (WSE_FILES|WSE_FILTER|WSE_NORMALIZE)
+#define WSE_UNFILTERED  (WSE_FILES|WSE_DIRS|WSE_SYMLINKS)
 
+/* Used to enumerate actual files, as opposed to WsEntity objects. */
 void ws_EnumeratePath(WorkSpace *, StrVec *names, const char *path, 
 		      unsigned flags, 
 		      OC_bool (*filter)(WorkSpace *, const char *));
 
-StrVec *ws_Enumerate(WorkSpace *, unsigned flags, OC_bool (*fn)(WorkSpace *, const char *));
+/* Used to enumerate the WsEntity objects, as opposed to actual
+   files. The 'regexpVec' argument is a list of regular expressions
+   against which to filter the WsEntities (based on their
+   cur_fsName). */
+StrVec *ws_EnumerateWsEnts(WorkSpace *, StrVec *regexpVec);
 
 void ws_Commit(WorkSpace *ws, StrVec *names);
 void ws_Update(WorkSpace *ws);

$OpenBSD: patch-src_libaudcore_audstrings_c,v 1.1 2010/12/19 18:17:55 shadchin Exp $
--- src/libaudcore/audstrings.c.orig	Thu Aug 26 05:04:25 2010
+++ src/libaudcore/audstrings.c	Sat Dec  4 15:49:51 2010
@@ -230,8 +230,7 @@ uri_to_display_dirname(const gchar * uri)
     return dirname;
 }
 
-#if defined(__GLIBC__) && (__GLIBC__ >= 2)
-#define HAVE_EXECINFO 1
+#if defined(__GLIBC__) && (__GLIBC__ >= 2) && defined(HAVE_EXECINFO_H)
 #include <execinfo.h>
 #endif
 
@@ -258,7 +257,7 @@ str_assert_utf8(const gchar * str)
 
     /* already UTF-8? */
     if (!g_utf8_validate(str, -1, NULL)) {
-#ifdef HAVE_EXECINFO
+#ifdef HAVE_EXECINFO_H
 		gint i, nsymbols;
 		const gint nsymmax = 50;
 		void *addrbuf[nsymmax];

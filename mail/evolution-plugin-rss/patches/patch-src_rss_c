$OpenBSD: patch-src_rss_c,v 1.9 2011/04/06 21:03:33 ajacoutot Exp $

GtkFunction -> GSourceFunc: fix build with newer glib2/gtk+2

--- src/rss.c.orig	Sat Jan 29 15:00:49 2011
+++ src/rss.c	Wed Apr  6 22:46:02 2011
@@ -877,7 +877,7 @@ network_timeout(void)
 
 	nettime_id = g_timeout_add (
 				(guint)(timeout)*1000,
-				(GtkFunction) timeout_soup,
+				(GSourceFunc) timeout_soup,
 				0);
 }
 
@@ -4404,7 +4404,7 @@ custom_fetch_feed(gpointer key, gpointer value, gpoint
 			}
 			time_id = g_timeout_add (
 					ttl * 60 * 1000 * ttl_multiply,
-					(GtkFunction) custom_update_articles,
+					(GSourceFunc) custom_update_articles,
 					cdata);
 			g_hash_table_replace(custom_timeout,
 				g_strdup(lookup_key(key)),
@@ -4614,7 +4614,7 @@ void org_gnome_cooly_rss_startup(void *ep, ESEventTarg
 		//as I don't know how to set this I'll setup a 10 secs timeout
 		//and return false for disableation
 		g_timeout_add (3 * 1000,
-			(GtkFunction) update_articles,
+			(GSourceFunc) update_articles,
 			0);
 	}
 	timeout = gconf_client_get_float(
@@ -4623,7 +4623,7 @@ void org_gnome_cooly_rss_startup(void *ep, ESEventTarg
 			NULL);
 	if (gconf_client_get_bool (rss_gconf, GCONF_KEY_REP_CHECK, NULL)) {
 		rf->rc_id = g_timeout_add (60 * 1000 * timeout,
-				(GtkFunction) update_articles,
+				(GSourceFunc) update_articles,
 				(gpointer)1);
 	}
 	custom_feed_timeout();

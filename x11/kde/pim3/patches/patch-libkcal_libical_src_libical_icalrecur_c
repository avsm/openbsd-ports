$OpenBSD: patch-libkcal_libical_src_libical_icalrecur_c,v 1.1 2005/12/01 22:28:27 espie Exp $
--- libkcal/libical/src/libical/icalrecur.c.orig	Tue Nov 22 19:31:50 2005
+++ libkcal/libical/src/libical/icalrecur.c	Tue Nov 22 19:32:17 2005
@@ -1889,7 +1889,7 @@ static int expand_year_days(icalrecur_it
 
 
         for(i=pvl_head(days);i!=0;i=pvl_next(i)){
-            short day = (short)(intptr_t)pvl_data(i);
+            short day = (short)(long)pvl_data(i);
             impl->days[days_index++] = day;
         }
 
@@ -1964,7 +1964,7 @@ static int expand_year_days(icalrecur_it
         pvl_list days = expand_by_day(impl,year);
 
         for(itr=pvl_head(days);itr!=0;itr=pvl_next(itr)){
-            short day = (short)(intptr_t)pvl_data(itr);
+            short day = (short)(long)pvl_data(itr);
             struct icaltimetype tt; 
             
             tt = icaltime_from_day_of_year(day,year);
@@ -1991,7 +1991,7 @@ static int expand_year_days(icalrecur_it
         pvl_list days = expand_by_day(impl,year);
 
         for(itr=pvl_head(days);itr!=0;itr=pvl_next(itr)){
-            short day = (short)(intptr_t)pvl_data(itr);
+            short day = (short)(long)pvl_data(itr);
             struct icaltimetype tt; 
             int i;
             
@@ -2023,7 +2023,7 @@ static int expand_year_days(icalrecur_it
         pvl_list days = expand_by_day(impl,year);
 
         for(itr=pvl_head(days);itr!=0;itr=pvl_next(itr)){
-            short day = (short)(intptr_t)pvl_data(itr);
+            short day = (short)(long)pvl_data(itr);
             struct icaltimetype tt; 
             int i;
             

$OpenBSD: patch-src_tea_config_c,v 1.3 2008/07/15 14:22:16 landry Exp $
--- src/tea_config.c.orig	Tue Jul  8 10:29:45 2008
+++ src/tea_config.c	Tue Jul  8 12:18:54 2008
@@ -591,7 +591,6 @@ void tea_done (void)
   unlink (confile.tmp_file);
   g_free (confile.last_version);
   calendar_done ();
-  confile_free ();
   spell_checker_done ();
   g_free (last_dir);
 
@@ -992,7 +991,7 @@ void confile_reload (void)
   confile.cm_pack = ht_get_char_value ("cm_pack", "zip -j -q -9 %s.zip %s");
   confile.editor_font = ht_get_char_value ("editor_font", "Monospace 12");
 
-  confile.ext_pic_editor = ht_get_char_value ("ext_pic_editor", "gimp-remote-2.0 -n %s&");
+  confile.ext_pic_editor = ht_get_char_value ("ext_pic_editor", "gimp-remote -n %s&");
   confile.ext_pic_viewer = ht_get_char_value ("ext_pic_viewer", "display %s&");
   confile.date_time = ht_get_char_value ("date_time", "%d/%m/%Y %T");
   confile.date_time_ver = ht_get_char_value ("date_time_ver", "%Y-%m-%d-%T");
@@ -1115,9 +1114,9 @@ void confile_reload (void)
   confile.autoclose_tags = ht_get_int_value ("autoclose_tags", 0);
 
   confile.rtf_enc = ht_get_char_value ("rtf_enc", "CP1251");
-  confile.def_filesave_charset = ht_get_char_value ("def_filesave_charset", "UTF-8");
+  confile.def_filesave_charset = ht_get_char_value ("def_filesave_charset", "autodetect");
 
-  confile.default_charset = ht_get_char_value ("default_charset", "UTF-8");
+  confile.default_charset = ht_get_char_value ("default_charset", "autodetect");
 
   confile.main_wnd_show_full_path = ht_get_int_value ("main_wnd_show_full_path", 1);
   confile.do_backup = ht_get_int_value ("do_backup", 0);
@@ -1353,4 +1352,4 @@ GList* get_color_scheme_ids (void)
   return NULL;
 
 #endif
-}
\ No newline at end of file
+}

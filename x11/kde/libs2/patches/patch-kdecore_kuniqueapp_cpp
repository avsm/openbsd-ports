$OpenBSD: patch-kdecore_kuniqueapp_cpp,v 1.2 2002/04/08 17:59:57 espie Exp $
--- kdecore/kuniqueapp.cpp.orig	Mon Apr  8 19:49:32 2002
+++ kdecore/kuniqueapp.cpp	Mon Apr  8 19:51:31 2002
@@ -153,7 +153,7 @@ KUniqueApplication::start()
            if (QCString(getenv("DISPLAY")).isEmpty())
            {
               kdError() << "KUniqueApplication: Can't determine DISPLAY. Aborting." << endl;
-              result = -1; // Error
+              result = 1; // Error
               ::write(fd[1], &result, 1);
               ::exit(255);
            }
@@ -164,7 +164,7 @@ KUniqueApplication::start()
            if (regName.isEmpty())
            {
               kdError() << "KUniqueApplication: Can't setup DCOP communication." << endl;
-              result = -1;
+              result = 2;
               delete dc;	// Clean up DCOP commmunication
               ::write(fd[1], &result, 1);
               ::exit(255);
@@ -241,7 +241,7 @@ KUniqueApplication::start()
      ::close(fd[0]);
 
      if (result != 0)
-        ::exit(result); // Error occured in child.
+        ::exit(255); // Error occured in child.
 
      dc = new DCOPClient();
      if (!dc->attach())

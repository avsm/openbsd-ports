$OpenBSD: patch-jdk_make_common_Defs_gmk,v 1.4 2009/05/23 03:03:25 kurt Exp $
--- jdk/make/common/Defs.gmk.orig	Fri May  8 03:34:14 2009
+++ jdk/make/common/Defs.gmk	Mon May 18 11:12:58 2009
@@ -181,6 +181,36 @@ ifdef OPENJDK
   endif
 endif # OPENJDK
 
+ifneq ($(PLATFORM), windows)
+  ifdef ALT_X11_PATH
+    X11_PATH = $(ALT_X11_PATH)
+  else
+    ifneq ($(OS_VENDOR), NetBSD)
+      X11_PATH = /usr/X11R6
+    else
+      X11_PATH = /usr/X11R7
+    endif
+  endif 
+
+  ifdef ALT_PACKAGE_PATH
+    PACKAGE_PATH = $(ALT_PACKAGE_PATH)
+  else
+    ifeq ($(PLATFORM), linux)
+      PACKAGE_PATH = /usr
+    else
+      ifeq ($(OS_VENDOR), Apple)
+        PACKAGE_PATH = /opt/local
+      else
+	ifeq ($(OS_NAME), netbsd)
+	  PACKAGE_PATH = /usr/pkg
+	else
+          PACKAGE_PATH = /usr/local
+	endif
+      endif
+    endif
+  endif
+endif
+
 #
 # Get platform definitions
 #
@@ -216,6 +246,7 @@ DEVTOOLS_FT_DIR_EXISTS = $(shell \
 
   ifdef ALT_FREETYPE_LIB_PATH
     FREETYPE_LIB_PATH = $(ALT_FREETYPE_LIB_PATH)
+    USING_SYSTEM_FT_LIB=true
   else
     ifeq ($(DEVTOOLS_FT_DIR_EXISTS), true)
       FREETYPE_LIB_PATH = $(DEVTOOLS_FT_DIR)/lib
@@ -278,6 +309,10 @@ ifdef PROGRAM
 
   ifeq ($(PLATFORM), linux)
     LDLIBS_COMMON = -ldl
+  endif
+
+  ifeq ($(PLATFORM), bsd)
+    LDLIBS_COMMON = -pthread
   endif
 
 endif # PROGRAM

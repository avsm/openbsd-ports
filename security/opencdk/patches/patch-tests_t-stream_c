$OpenBSD: patch-tests_t-stream_c,v 1.2 2004/05/08 06:42:59 sturm Exp $
--- tests/t-stream.c.orig	2003-10-31 08:11:49.000000000 +0100
+++ tests/t-stream.c	2004-04-25 08:57:39.000000000 +0200
@@ -20,6 +20,7 @@
 
 #include <stdio.h>
 #include <sys/stat.h>
+#include <stdlib.h>
 #include <string.h>
 #include <errno.h>
 #include <time.h>
@@ -289,7 +290,7 @@ get_sig_time (unsigned long timestamp)
   static char buf[128];
   struct tm * tmbuf;
   
-  tmbuf = localtime (&timestamp);
+  tmbuf = localtime ((const time_t *)&timestamp);
   sprintf (buf, "%04d-%02d-%02d",
            tmbuf->tm_year+1900, tmbuf->tm_mon+1, tmbuf->tm_mday);
   return buf;

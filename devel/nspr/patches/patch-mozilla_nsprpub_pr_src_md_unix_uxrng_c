$OpenBSD: patch-mozilla_nsprpub_pr_src_md_unix_uxrng_c,v 1.2 2010/03/30 11:47:33 jasper Exp $
--- mozilla/nsprpub/pr/src/md/unix/uxrng.c.orig	Sat May  2 01:08:05 2009
+++ mozilla/nsprpub/pr/src/md/unix/uxrng.c	Mon Feb  8 16:00:07 2010
@@ -132,7 +132,11 @@ static PRCallOnceType coOpenDevURandom;
 
 static PRStatus OpenDevURandom( void )
 {
+#if defined(OPENBSD)
+    fdDevURandom = open( "/dev/arandom", O_RDONLY );
+#else
     fdDevURandom = open( "/dev/urandom", O_RDONLY );
+#endif
     return((-1 == fdDevURandom)? PR_FAILURE : PR_SUCCESS );
 } /* end OpenDevURandom() */
 

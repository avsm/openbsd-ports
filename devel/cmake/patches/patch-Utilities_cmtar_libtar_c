$OpenBSD: patch-Utilities_cmtar_libtar_c,v 1.1.1.1 2006/07/20 09:23:13 espie Exp $
--- Utilities/cmtar/libtar.c.orig	Mon Jul  3 13:25:17 2006
+++ Utilities/cmtar/libtar.c	Mon Jul  3 13:25:51 2006
@@ -44,7 +44,7 @@
 # define cm_zlib_gzwrite gzwrite
 
 #else
-# include <cmzlib/zlib.h>
+# include <zlib.h>
 #endif
 #endif
 
@@ -116,7 +116,7 @@ int libtar_gzopen(void* call_data, const
     }
 #endif
 
-  gzf->GZFile = cm_zlib_gzdopen(fd, gzoflags);
+  gzf->GZFile = gzdopen(fd, gzoflags);
   if (!gzf->GZFile)
   {
     errno = ENOMEM;
@@ -129,19 +129,19 @@ int libtar_gzopen(void* call_data, const
 int libtar_gzclose(void* call_data)
 {
   struct gzStruct* gzf = (struct gzStruct*)call_data;
-  return cm_zlib_gzclose(gzf->GZFile);
+  return gzclose(gzf->GZFile);
 }
 
 ssize_t libtar_gzread(void* call_data, void* buf, size_t count)
 {
   struct gzStruct* gzf = (struct gzStruct*)call_data;
-  return cm_zlib_gzread(gzf->GZFile, buf, count);
+  return gzread(gzf->GZFile, buf, count);
 }
 
 ssize_t libtar_gzwrite(void* call_data, const void* buf, size_t count)
 {
   struct gzStruct* gzf = (struct gzStruct*)call_data;
-  return cm_zlib_gzwrite(gzf->GZFile, (void*)buf, count);
+  return gzwrite(gzf->GZFile, (void*)buf, count);
 }
 
 tartype_t gztype = { 

$OpenBSD: patch-makei18n_sh,v 1.2 2005/10/18 14:12:35 naddy Exp $
--- makei18n.sh.orig	Sun Oct 16 23:04:46 2005
+++ makei18n.sh	Sun Oct 16 23:05:42 2005
@@ -2,40 +2,40 @@ APP_NAME="bittorrent"
 LANGUAGES='af ar bg ca cs da de es es_MX eo et fi fr ga gr he_IL hr hu hy it ja ka ko lt ms nl nb_NO pl pt pt_BR ro ru sk sl sq sv th tr uk vi zh_CN zh_TW'
 MESSAGES_PO="messages.pot"
 
-rm -f $APP_NAME.lis
-rm -f *~
+#rm -f $APP_NAME.lis
+#rm -f *~
 
 # create .pot file with most important strings first so that people
 # who start but don't finish translations end up translating the most
 # important parts
-ls bittorrent.py maketorrent.py >> $APP_NAME.lis
-ls BitTorrent/GUI.py           >> $APP_NAME.lis
-ls BitTorrent/TorrentQueue.py  >> $APP_NAME.lis
-ls BitTorrent/NewVersion.py    >> $APP_NAME.lis
-ls BitTorrent/defaultargs.py   >> $APP_NAME.lis
-ls *py                         >> $APP_NAME.lis
+#ls bittorrent.py maketorrent.py >> $APP_NAME.lis
+#ls BitTorrent/GUI.py           >> $APP_NAME.lis
+#ls BitTorrent/TorrentQueue.py  >> $APP_NAME.lis
+#ls BitTorrent/NewVersion.py    >> $APP_NAME.lis
+#ls BitTorrent/defaultargs.py   >> $APP_NAME.lis
+#ls *py                         >> $APP_NAME.lis
 # find everything else
-find . -name \*.py -type f | egrep -v '/(build)|(dist)|(test)/' >> $APP_NAME.lis
+#find . -name \*.py -type f | egrep -v '/(build)|(dist)|(test)/' >> $APP_NAME.lis
 
-xgettext -f $APP_NAME.lis -L Python -o -                        |\
-    sed -e 's/CHARSET/UTF-8/'                                   |\
-    sed -e 's/SOME DESCRIPTIVE TITLE./BitTorrent/'              |\
-    sed -e 's/YEAR/2005/'                                       |\
-    sed -e "s/THE PACKAGE'S COPYRIGHT HOLDER/BitTorrent, Inc./" |\
-    sed -e 's/PACKAGE/BitTorrent/'                              |\
-    sed -e 's/VERSION/4.2/'                                     |\
-    sed -e 's/FIRST AUTHOR/Matt Chisholm/'                      |\
-    sed -e 's/EMAIL@ADDRESS/matt (dash) translations (at) bittorrent (dot) com/' |\
-    sed -e 's/FULL NAME/Matt Chisholm/' > $MESSAGES_PO.nonunique
+#xgettext -f $APP_NAME.lis -L Python -o -                        |\
+#    sed -e 's/CHARSET/UTF-8/'                                   |\
+#    sed -e 's/SOME DESCRIPTIVE TITLE./BitTorrent/'              |\
+#    sed -e 's/YEAR/2005/'                                       |\
+#    sed -e "s/THE PACKAGE'S COPYRIGHT HOLDER/BitTorrent, Inc./" |\
+#    sed -e 's/PACKAGE/BitTorrent/'                              |\
+#    sed -e 's/VERSION/4.2/'                                     |\
+#    sed -e 's/FIRST AUTHOR/Matt Chisholm/'                      |\
+#    sed -e 's/EMAIL@ADDRESS/matt (dash) translations (at) bittorrent (dot) com/' |\
+#    sed -e 's/FULL NAME/Matt Chisholm/' > $MESSAGES_PO.nonunique
 
 
-msguniq $MESSAGES_PO.nonunique > $MESSAGES_PO
-rm -f $MESSAGES_PO.nonunique
+#msguniq $MESSAGES_PO.nonunique > $MESSAGES_PO
+#rm -f $MESSAGES_PO.nonunique
 
 for lang in $LANGUAGES ; do 
     echo "making $lang"
     mkdir -p locale/$lang/LC_MESSAGES
-    msgmerge --no-fuzzy-matching po/$lang.po $MESSAGES_PO \
+    msgmerge po/$lang.po $MESSAGES_PO \
         | egrep -v '^#~' \
         > locale/$lang/LC_MESSAGES/$APP_NAME.po
     msgfmt -o locale/$lang/LC_MESSAGES/$APP_NAME.mo \

$OpenBSD: patch-src_corelib_io_qfsfileengine_cpp,v 1.2 2007/03/17 17:58:17 espie Exp $
--- src/corelib/io/qfsfileengine.cpp.orig	Wed Feb 21 10:58:42 2007
+++ src/corelib/io/qfsfileengine.cpp	Sat Mar 17 10:47:27 2007
@@ -481,7 +481,7 @@ qint64 QFSFileEngine::read(char *data, qint64 len)
                         int readByte = 0;
                         do {
                             readByte = fgetc(d->fh);
-                        } while (readByte == -1 && errno == EINTR);
+                        } while (readByte == -1 && !feof(d->fh) && errno == EINTR);
                         if (readByte != -1) {
                             *data = uchar(readByte);
                             readBytes += 1;

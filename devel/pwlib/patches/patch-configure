$OpenBSD: patch-configure,v 1.3 2008/03/15 17:38:07 ajacoutot Exp $
--- configure.orig	Fri Oct 19 08:22:39 2007
+++ configure	Mon Mar  3 12:14:54 2008
@@ -2163,7 +2163,7 @@ case "$target_cpu" in
    x86 | i686 | i586 | i486 | i386 ) MACHTYPE=x86
                    ;;
 
-   x86_64)	   MACHTYPE=x86_64 ;
+   x86_64|amd64)	   MACHTYPE=x86_64 ;
 		   P_64BIT=1 ;
                    LIB64=1 ;
 		   ;;
@@ -2175,6 +2175,11 @@ case "$target_cpu" in
    sparc )         MACHTYPE=sparc ;
 		   ;;
 
+   sparc64 )       MACHTYPE=sparc ;
+		   P_64BIT=1 ;
+                   LIB64=1 ;
+		   ;;
+
    powerpc )       MACHTYPE=ppc ;
 		   ;;
 
@@ -4754,8 +4759,12 @@ else
 fi
 
 if test ${HAS_PTHREADS} = yes ; then
-  ENDLDLIBS="$ENDLDLIBS -lpthread"
-  STDCCFLAGS="$STDCCFLAGS -D_REENTRANT"
+  if test ${OSTYPE} = OpenBSD ; then
+    ENDLDLIBS="$ENDLDLIBS -pthread"
+  else
+    ENDLDLIBS="$ENDLDLIBS -lpthread"
+  fi
+    STDCCFLAGS="$STDCCFLAGS -D_REENTRANT"
 else
   if test ${OSTYPE} = FreeBSD ; then
     HAS_PTHREADS=yes
@@ -5691,19 +5700,9 @@ fi
 
 
 
-if test "x$LIB64" != "x" ; then
-
 cat >>confdefs.h <<_ACEOF
-#define P_DEFAULT_PLUGIN_DIR "${INSTALLPREFIX}/lib64/pwlib"
-_ACEOF
-
-else
-
-cat >>confdefs.h <<_ACEOF
 #define P_DEFAULT_PLUGIN_DIR "${INSTALLPREFIX}/lib/pwlib"
 _ACEOF
-
-fi
 
 
 

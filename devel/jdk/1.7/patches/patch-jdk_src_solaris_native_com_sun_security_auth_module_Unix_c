$OpenBSD: patch-jdk_src_solaris_native_com_sun_security_auth_module_Unix_c,v 1.1 2008/03/19 18:05:46 kurt Exp $
--- jdk/src/solaris/native/com/sun/security/auth/module/Unix.c.orig	Tue Oct 30 05:04:04 2007
+++ jdk/src/solaris/native/com/sun/security/auth/module/Unix.c	Thu Nov  8 09:36:35 2007
@@ -36,6 +36,12 @@
 #include <stdlib.h>
 #include <string.h>
 
+// hack in the non-thread safe version and fix later.
+#ifdef __OpenBSD__
+#define getpwuid_r(uid, res_buf,  pwd_buf, bufsize, result) \
+    (*result = getpwuid(uid))
+#endif
+
 JNIEXPORT void JNICALL
 Java_com_sun_security_auth_module_UnixSystem_getUnixInfo
                                                 (JNIEnv *env, jobject obj) {

--- render/font.c.orig	Tue Oct 17 14:36:32 2006
+++ render/font.c	Tue Oct 17 14:44:29 2006
@@ -90,6 +90,8 @@
     FcResult res;
     gint tint;
 #ifdef USE_PANGO
+    PangoFontMetrics *metrics;
+    gchar *locale, *p;
     guchar *tmp_string = NULL;
     gint tmp_int;
 #endif /* USE_PANGO */
@@ -135,14 +137,12 @@
     }
 
     /* based on gtkmain.c gtk_get_default_language() */
-    gchar *locale, *p;
     locale = g_strdup(setlocale(LC_CTYPE, NULL));
     if ((p = strchr(locale, '.')))
         *p = '\0';
     if ((p = strchr(locale, '@')))
         *p = '\0';
-    PangoFontMetrics *metrics = 
-        pango_context_get_metrics(context, out->pango_font_description,
+    metrics = pango_context_get_metrics(context, out->pango_font_description,
                                   pango_language_from_string(locale));
     out->pango_ascent = pango_font_metrics_get_ascent(metrics);
     out->pango_descent = pango_font_metrics_get_descent(metrics);

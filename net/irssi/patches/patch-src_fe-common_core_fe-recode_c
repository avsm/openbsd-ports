$OpenBSD: patch-src_fe-common_core_fe-recode_c,v 1.1 2007/05/16 19:29:11 martynas Exp $
--- src/fe-common/core/fe-recode.c.orig	Wed Apr 25 21:13:56 2007
+++ src/fe-common/core/fe-recode.c	Wed May 16 16:20:20 2007
@@ -182,8 +182,8 @@ static void read_settings(void)
 		g_free(term_charset);
 #if defined (HAVE_NL_LANGINFO) && defined(CODESET)
 		term_charset = is_valid_charset(old_term_charset) ? g_strdup(old_term_charset) : 
-			       *nl_langinfo(CODESET) != '\0' ? g_strdup(nl_langinfo(CODESET)) : 
-			       "ISO8859-1";
+			       ((*nl_langinfo(CODESET) != '\0') && (strcmp(nl_langinfo(CODESET), "646") != 0)) ?
+			       g_strdup(nl_langinfo(CODESET)) : "ISO8859-1";
 #else
 		term_charset = is_valid_charset(old_term_charset) ? g_strdup(old_term_charset) : "ISO8859-1";
 #endif		

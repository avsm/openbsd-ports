$OpenBSD: patch-plugins_configure,v 1.3 2010/05/31 06:31:39 ajacoutot Exp $
--- plugins/configure.orig	Thu May 27 08:52:49 2010
+++ plugins/configure	Mon May 31 07:28:46 2010
@@ -2830,6 +2830,10 @@ fi
                  opal_release_flags="-O3 -DSOLARIS"
                  opal_debug_flags="-g -D_DEBUG -DSOLARIS"
                ;;
+               openbsd*)
+                 opal_release_flags=""
+                 opal_debug_flags="-g3 -ggdb -O0 -D_DEBUG"
+               ;;
                *)
                  opal_release_flags="-Os"
                  opal_debug_flags="-g3 -ggdb -O0 -D_DEBUG"
@@ -5347,7 +5351,7 @@ $as_echo "#define PLUGIN_CODEC_DLL_EXPORTS 1" >>confde
 
         *)
           STDCCFLAGS="$STDCCFLAGS -fPIC"
-          LDSO='-shared -Wl,-soname,$(SONAME)'
+          LDSO='-shared -fPIC -Wl,-soname,$(SONAME)'
           PLUGINEXT=so
           for ac_header in sys/time.h sys/file.h netinet/in.h
 do :

$OpenBSD: patch-ld_configure_tgt,v 1.8 2003/06/27 02:47:16 kevlo Exp $
--- ld/configure.tgt.orig	Mon Oct 28 15:58:12 2002
+++ ld/configure.tgt	Tue Jun 24 10:32:30 2003
@@ -70,12 +70,15 @@
 			tdir_sun4=sparc-sun-sunos4
 			;;
 sparc*-*-lynxos*)	targ_emul=sparclynx ;;
-sparc64-*-netbsd* | sparc64-*-openbsd*)
-			targ_emul=elf64_sparc
+sparc64-*-netbsd*)	targ_emul=elf64_sparc
 			targ_extra_emuls="elf32_sparc"
 			;;
+sparc64-*-openbsd*)	targ_emul=elf64_sparc ;;
 sparc*-*-netbsd*elf*)	targ_emul=elf32_sparc ;;
 sparc*-*-netbsd*)	targ_emul=sparcnbsd ;;
+sparc-*-openbsd[0-2].* | sparc-*-openbsd3.[0-1])
+			targ_emul=sparcobsd ;;
+sparc*-*-openbsd*)      targ_emul=elf32_sparc ;;
 sparc-*-solaris2.[0-6] | sparc-*-solaris2.[0-6].*)
 			targ_emul=elf32_sparc ;;
 sparc-*-solaris2*)	targ_emul=elf32_sparc
@@ -169,6 +172,14 @@
 i[3456]86-*-netbsd*)	targ_emul=i386nbsd
 			targ_extra_emuls=elf_i386
 			;;
+i[3456]86-*-openbsd[0-2].* | i[3456]86-*-openbsd3.[0-2])
+			targ_emul=i386obsd ;;
+i[3456]86-*-openbsd*)	targ_emul=elf_i386 ;;
+x86_64-*-openbsd*)	targ_emul=elf_x86_64
+			targ_extra_emuls="elf_x86_64 elf_i386"
+			tdir_elf_i386=`echo ${targ_alias} \
+			    | sed -e 's/x86_64/i386/'`
+			;;
 x86_64-*-netbsd*)	targ_emul=elf_x86_64
 			targ_extra_emuls="elf_i386 i386nbsd"
 			tdir_elf_i386=`echo ${targ_alias} | \
@@ -229,6 +240,10 @@
 			targ_extra_emuls="armelfb_nbsd armelf armnbsd" ;;
 arm-*-netbsd*)		targ_emul=armnbsd;
 			targ_extra_emuls="armelf armelf_nbsd armelfb_nbsd"  ;;
+armeb-*-openbsdelf*)	targ_emul=armelfb_obsd;
+			targ_extra_emuls="armelf_obsd" ;;
+arm-*-openbsdelf*)	targ_emul=armelf_obsd;
+			targ_extra_emuls="armelfb_obsd" ;;
 arm-*-openbsd*)		targ_emul=armnbsd ;;
 arm-*-rtems*)		targ_emul=armelf ;;
 arm-*-elf)		targ_emul=armelf ;;
@@ -340,6 +355,7 @@
 m68*-*-netbsdaout* | m68*-*-netbsd*)
 			targ_emul=m68knbsd
 			targ_extra_emuls="m68kelfnbsd m68k4knbsd" ;;
+m68*-*-openbsd*)	targ_emul=m68kobsd ;;
 m68*-*-psos*)		targ_emul=m68kpsos ;;
 m68*-*-rtemscoff*)	targ_emul=m68kcoff ;;
 m68*-*-rtems*)		targ_emul=m68kelf ;;
@@ -375,6 +391,8 @@
 mips*-*-netbsd*)	targ_emul=elf32bmip
 			targ_extra_emuls="elf32lmip"
 			;;
+mips*el-*-openbsd*)	targ_emul=elf32lmip ;;
+mips*-*-openbsd*)	targ_emul=elf32bmip ;;
 mips*-*-bsd*)		targ_emul=mipsbig ;;
 mips*vr4300el-*-elf*)	targ_emul=elf32l4300 ;;
 mips*vr4300-*-elf*)	targ_emul=elf32b4300 ;;

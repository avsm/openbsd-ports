--- vfs/vfs.c.orig	Sun Jan 16 01:26:28 2000
+++ vfs/vfs.c	Sun Jan 16 01:26:50 2000
@@ -1274,7 +1274,7 @@ char *mc_def_getlocalcopy (char *filenam
     fdin = mc_open (filename, O_RDONLY);
     if (fdin == -1)
         return NULL;
-    tmp = tmpnam(NULL);
+    tmp = mkstemp(NULL);
     fdout = creat (tmp, 0600);
     if (fdout == -1) {
         mc_close (fdin);

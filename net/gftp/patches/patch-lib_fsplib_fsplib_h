$OpenBSD: patch-lib_fsplib_fsplib_h,v 1.1 2007/11/06 12:14:18 ajacoutot Exp $
--- lib/fsplib/fsplib.h.orig	Tue Nov  6 13:07:24 2007
+++ lib/fsplib/fsplib.h	Tue Nov  6 13:08:21 2007
@@ -1,6 +1,7 @@
 #ifndef _FSPLIB_H
 #define _FSPLIB_H 1
 #include <time.h>
+#include <stddef.h>
 /* The FSP v2 protocol support library - public interface */
 
 /*
@@ -137,6 +138,13 @@ typedef struct FSP_FILE {
 		      int bufpos;                /* position in buffer */
 		      unsigned int pos;          /* position of next packet */
 } FSP_FILE;
+
+
+typedef union dirent_workaround {
+      struct dirent dirent;
+      char fill[offsetof (struct dirent, d_name) + MAXNAMLEN + 1];
+} dirent_workaround;
+ 
 
 /* function prototypes */
 

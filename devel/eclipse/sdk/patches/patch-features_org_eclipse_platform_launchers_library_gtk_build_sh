$OpenBSD: patch-features_org_eclipse_platform_launchers_library_gtk_build_sh,v 1.2 2006/07/07 01:48:55 kurt Exp $
--- features/org.eclipse.platform.launchers/library/gtk/build.sh.orig	Fri Jun  2 13:32:05 2006
+++ features/org.eclipse.platform.launchers/library/gtk/build.sh	Tue Jun  6 23:27:22 2006
@@ -71,6 +71,23 @@ case $OS in
 				;;
 		esac
 		;;
+	"OpenBSD")
+		makefile="make_openbsd.mak"
+		defaultOS="openbsd"
+		case $MODEL in
+			"amd64")
+				defaultOSArch="x86_64"
+				OUTPUT_DIR="../../bin/$defaultWS/$defaultOS/$defaultOSArch"
+				;;
+			"i386")
+				defaultOSArch="x86"
+				OUTPUT_DIR="../../bin/$defaultWS/$defaultOS/$defaultOSArch"
+				;;
+			*)
+				echo "*** Unknown MODEL <${MODEL}>"
+				;;
+		esac
+		;;
 	"SunOS")
 		makefile="make_solaris.mak"
 		defaultOS="solaris"
@@ -129,11 +146,11 @@ export OUTPUT_DIR PROGRAM_OUTPUT DEFAULT
 # If the OS is supported (a makefile exists)
 if [ "$makefile" != "" ]; then
 	if [ "$extraArgs" != "" ]; then
-		make -f $makefile $extraArgs
+		gmake -f $makefile $extraArgs
 	else
 		echo "Building $OS launcher. Defaults: -os $DEFAULT_OS -arch $DEFAULT_OS_ARCH -ws $DEFAULT_WS"
-		make -f $makefile clean
-		make -f $makefile all
+		gmake -f $makefile clean
+		gmake -f $makefile all
 	fi
 else
 	echo "Unknown OS ($OS) -- build aborted"

$OpenBSD: patch-base_g_py,v 1.1 2009/02/02 10:47:11 ajacoutot Exp $

Fix for:
CVE-2008-2940
CVE-2008-2941

--- base/g.py.orig	Fri Oct 12 23:03:17 2007
+++ base/g.py	Mon Feb  2 10:50:44 2009
@@ -132,8 +132,9 @@ class Config(dict):
         self.__setitem__(sect, val)
 
 # Config file: directories and ports
-prop.sys_config_file = '/etc/hp/hplip.conf'
+prop.sys_config_file = '${SYSCONFDIR}/hp/hplip.conf'
 prop.user_dir = os.path.expanduser('~/.hplip')
+prop.alerts_config_file = '${SYSCONFDIR}/hp/alerts.conf'
 
 os.umask(0037)
 try:
@@ -154,6 +155,7 @@ if not os.path.exists(prop.user_config_file):
     
 sys_cfg = Config(prop.sys_config_file, True)
 user_cfg = Config(prop.user_config_file)
+alerts_cfg = Config(prop.alerts_config_file)
 
 
 # Language settings

$OpenBSD: patch-Http_cpp,v 1.2 2009/01/28 15:14:55 sthen Exp $
--- Http.cpp.orig	Thu Oct 23 09:51:17 2008
+++ Http.cpp	Wed Jan 28 14:23:33 2009
@@ -60,7 +60,7 @@ static bool parseUri( const char * uri,
   if ( strncmp(uri,"http://",strlen("http://"))==0 ) {
     uri += strlen("http://");
   }
-  strcpy(outHost,uri);
+  strlcpy(outHost,uri,strlen(uri));
   char* e = strchr(outHost,'/');
   *outPort = 80;
 
@@ -72,7 +72,7 @@ static bool parseUri( const char * uri,
     *e = '\0';
     *outPort=atoi(e+1);
   }
-  strcpy( outPath, strchr(uri,'/') );
+  strlcpy( outPath, strchr(uri,'/'), strlen(strchr(uri,'/')));
   fprintf(stderr,"Http::get host=%s port=%d file=%s\n",outHost,*outPort,outPath);
   return true;
 }
@@ -103,7 +103,6 @@ bool Http::get( const char* uri,
   }
 
   fclose ( m_file );
-  free( host );
   return m_size > 0;
 }
 

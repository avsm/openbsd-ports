$OpenBSD: patch-j2se_make_common_Defs_gmk,v 1.6 2007/06/27 21:51:09 kurt Exp $
--- j2se/make/common/Defs.gmk.orig	Thu May 17 16:56:22 2007
+++ j2se/make/common/Defs.gmk	Thu May 17 16:59:46 2007
@@ -610,9 +610,14 @@ JAVAC_CMD 	   = $(JAVAC) $(JAVAC_VMFLAGS_J) $(JAVACFLA
 # variable in $(BUILDDIR)/java/GNUmakefile.
 #
 JAVA_BOOT      = $(BOOTDIR)/bin/java -Xbootclasspath/p:$(BUILDDIR)/sun/javac/javac/gjc.jar
-JAVAC_BOOT     = $(BOOTDIR)/bin/javac -J-Xbootclasspath/p:$(BUILDDIR)/sun/javac/javac/gjc.jar -Xbootclasspath/p:$(BUILDDIR)/sun/javac/javac/collect.jar -target jsr14
-JAVAC_BOOT_CMD = $(JAVAC_BOOT) $(JAVAC_BOOT_FLAGS) $(JAVACFLAGS) $(LANGUAGE_VERSION)
+ifndef ALT_BOOTSTRAP
+JAVAC_BOOT	= $(BOOTDIR)/bin/javac -J-Xbootclasspath/p:$(BUILDDIR)/sun/javac/javac/gjc.jar -Xbootclasspath/p:$(BUILDDIR)/sun/javac/javac/collect.jar -target jsr14
 JAVAH_BOOT_CMD = $(BOOTDIR)/bin/javah -J-Xbootclasspath/p:$(BUILDDIR)/sun/javac/javac/gjc.jar
+else
+JAVAC_BOOT     = $(BOOTDIR)/bin/javac -classpath $(BUILDDIR)/sun/javac/javac/gjc.jar:$(BUILDDIR)/sun/javac/javac/collect.jar -target 1.4
+JAVAH_BOOT_CMD = $(BOOTDIR)/bin/javah -classpath $(ALT_BOOTDIR2)/jre/lib/glibj.zip:$(BUILDDIR)/sun/javac/javac/gjc.jar
+endif
+JAVAC_BOOT_CMD = $(JAVAC_BOOT) $(JAVAC_BOOT_FLAGS) $(JAVACFLAGS) $(LANGUAGE_VERSION)
 
 # Setting USEBOOTENV in the environment allows using the boot environment
 # for all targets - very useful to allow a merge to proceed while debugging

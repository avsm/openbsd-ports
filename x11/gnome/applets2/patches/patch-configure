$OpenBSD: patch-configure,v 1.2 2003/06/12 20:12:55 marcm Exp $
--- configure.orig	Mon Mar 10 09:45:40 2003
+++ configure	Mon May 26 23:07:27 2003
@@ -5919,7 +5919,7 @@ else
     hardcode_shlibpath_var=no
     if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
       archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $linker_flags'
-      hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
+      hardcode_libdir_flag_spec='${wl}-R$libdir'
       export_dynamic_flag_spec='${wl}-E'
     else
       case "$host_os" in
@@ -5929,7 +5929,7 @@ else
         ;;
       *)
         archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $linker_flags'
-        hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
+        hardcode_libdir_flag_spec='${wl}-R$libdir'
         ;;
       esac
     fi
@@ -11342,6 +11342,15 @@ fi
   *solaris*)
 	build_battstat_applet=no
 	;;
+  *openbsd*)
+	case $host_cpu in
+	  i386 | powerpc)
+	  build_battstat_applet=yes
+	  ;;
+	*)
+	  build_battstat_applet=no
+	  ;;
+	esac
 esac
 
 

--- admin/ltcf-cxx.sh.orig	Sat Sep  9 18:59:52 2000
+++ admin/ltcf-cxx.sh	Sun Oct  1 00:05:44 2000
@@ -107,7 +107,7 @@ if { ac_try='${CC-c++} -E conftest.$ac_e
     # linker, instead of GNU ld.  If possible, this setting should
     # overridden to take advantage of the native linker features on
     # the platform it is being used on.
-    archive_cmds='$CC -shared $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $lib'
+    archive_cmds='$CC $pic_flag -shared $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $lib'
   fi
 
   # Commands to make compiler produce verbose output that lists
@@ -338,6 +338,12 @@ case "$host_os" in
       # FIXME: insert proper C++ library support
       ld_shlibs=no
     fi
+    ;;
+  openbsd*)
+      ld_shlibs=yes
+      hardcode_libdir_flag_spec='-R$libdir'
+      hardcode_direct=yes
+      hardcode_shlibpath_var=no
     ;;
   osf3*)
     if test "$with_gcc" = yes && test "$with_gnu_ld" = no; then

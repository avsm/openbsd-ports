$OpenBSD: patch-chrome_app_chrome_dll_main_cc,v 1.1 2010/12/13 09:51:45 espie Exp $
--- chrome/app/chrome_dll_main.cc.orig	Tue Mar 30 07:29:03 2010
+++ chrome/app/chrome_dll_main.cc	Sun Nov 28 00:11:30 2010
@@ -62,7 +62,7 @@
 #include "base/nss_util.h"
 #endif
 
-#if defined(OS_LINUX)
+#if defined(OS_NIX)
 #include "chrome/browser/renderer_host/render_sandbox_host_linux.h"
 #include "chrome/browser/zygote_host_linux.h"
 #endif
@@ -253,6 +253,7 @@ static void SetUpGLibLogHandler() {
   }
 }
 
+#if defined(OS_LINUX)
 static void AdjustLinuxOOMScore(const std::string& process_type) {
   const int kMiscScore = 7;
   const int kPluginScore = 10;
@@ -285,6 +286,7 @@ static void AdjustLinuxOOMScore(const std::string& pro
   if (score > -1)
     base::AdjustOOMScore(base::GetCurrentProcId(), score);
 }
+#endif  // defined(OS_LINUX)
 #endif  // defined(OS_POSIX) && !defined(OS_MACOSX)
 
 // Register the invalid param handler and pure call handler to be able to
@@ -764,7 +766,7 @@ int ChromeMain(int argc, char** argv) {
     NOTIMPLEMENTED();
 #endif
   } else if (process_type.empty()) {
-#if defined(OS_LINUX)
+#if defined(OS_NIX)
     const char* sandbox_binary = NULL;
     struct stat st;
 
@@ -802,7 +804,7 @@ int ChromeMain(int argc, char** argv) {
     // gtk_init() can change |argc| and |argv|.
     gtk_init(&argc, &argv);
     SetUpGLibLogHandler();
-#endif  // defined(OS_LINUX)
+#endif  // defined(OS_NIX)
 
     rv = BrowserMain(main_params);
   } else {

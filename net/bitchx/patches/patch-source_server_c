$OpenBSD: patch-source_server_c,v 1.2 2009/03/24 21:43:10 naddy Exp $
--- source/server.c.orig	Mon Jan  8 07:24:22 2001
+++ source/server.c	Tue Mar 24 22:41:56 2009
@@ -144,7 +144,7 @@ void	close_server (int cs_index, char *message)
 			if (x_debug & DEBUG_OUTBOUND)
 				yell("Closing server %d because [%s]",
 					   cs_index, message ? message : empty_string);
-			snprintf(buffer, BIG_BUFFER_SIZE, "QUIT :%s\n", message);
+			snprintf(buffer, sizeof buffer, "QUIT :%s\n", message);
 #ifdef HAVE_SSL
 			if (get_server_ssl(cs_index))
 				SSL_write(server_list[cs_index].ssl_fd, buffer, strlen(buffer));

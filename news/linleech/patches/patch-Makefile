$OpenBSD: patch-Makefile,v 1.1.1.1 2000/07/11 10:20:25 espie Exp $
--- Makefile.orig	Wed Dec 30 17:54:52 1998
+++ Makefile	Tue Jul 11 12:05:55 2000
@@ -1,14 +1,13 @@
-CC=gcc
-CFLAGS=-O2
-OBJS=objs/linleech_main.o objs/linleech_slang.o \
-     objs/linleech_socket.o objs/regex.o
+CC=		gcc
+CFLAGS=			-O2 -I${PREFIX}/include
+LDFLAGS=	-L${PREFIX}/lib
+OBJS=		linleech_main.o linleech_slang.o linleech_socket.o regex.o
+VPATH=		src
 
-all:
-	$(CC) $(CFLAGS) -c src/linleech_main.c -o objs/linleech_main.o
-	$(CC) $(CFLAGS) -c src/linleech_slang.c -o objs/linleech_slang.o
-	$(CC) $(CFLAGS) -c src/linleech_socket.c -o objs/linleech_socket.o
-	$(CC) $(CFLAGS) -c src/regex.c -o objs/regex.o
-	$(CC) $(OBJS) -o linleech -lslang
+all: linleech
+
+linleech: ${OBJS}
+	${CC} -o $@ ${OBJS} ${LDFLAGS} -lslang
 
 clean:
-	rm -f $(OBJS) linleech
+	rm -f ${OBJS} linleech core

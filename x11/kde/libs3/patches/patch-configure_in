$OpenBSD: patch-configure_in,v 1.15 2004/10/19 00:25:27 espie Exp $
--- configure.in.orig	Fri Oct  8 15:52:11 2004
+++ configure.in	Wed Oct 13 15:40:52 2004
@@ -500,7 +500,7 @@ dnl --------
 
 kde_safe_LIBS="$LIBS"
 LIBS="$LIBS $all_libraries $X_EXTRA_LIBS"
-AC_CHECK_FUNCS([inet_ntop inet_pton getpeername getsockname getsockopt gethostbyname2_r gethostbyname_r gethostbyname2 if_nametoindex getprotobyname_r getservbyname_r])
+AC_CHECK_FUNCS([inet_ntop inet_pton getpeername getsockname getsockopt gethostbyname2_r gethostbyname_r gethostbyname2 if_nametoindex getprotobyname_r getservbyname_r getservbyport_r])
 LIBS="$kde_safe_LIBS"
 AC_CHECK_HEADERS([netinet/in.h net/if.h],,,
 [#include <sys/types.h>
@@ -984,6 +984,13 @@ if test "$path_su" = "no"; then
     AC_MSG_WARN(su was not found)
 else
     AC_DEFINE_UNQUOTED(__PATH_SU, "$path_su", [path to su])
+fi
+dnl Check for sudo
+AC_PATH_PROG(path_sudo, "sudo", "no")
+if test "$path_sudo" = "no"; then
+    AC_MSG_WARN(sudo was not found)
+else
+    AC_DEFINE_UNQUOTED(__PATH_SUDO, "$path_sudo", [path to sudo])
 fi
 
 dnl Check for POSIX.1b scheduling

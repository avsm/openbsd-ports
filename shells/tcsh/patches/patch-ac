--- sh.h.orig	Sat Aug 21 12:49:57 1999
+++ sh.h	Sat Aug 21 12:51:38 1999
@@ -279,7 +279,7 @@
  * redefines malloc(), so we define the following
  * to avoid it.
  */
-# if defined(linux) || defined(sgi) || defined(_OSD_POSIX)
+# if defined(linux) || defined(sgi) || defined(_OSD_POSIX) || defined(__FreeBSD__) || defined(__OpenBSD__)
 #  define NO_FIX_MALLOC
 #  include <stdlib.h>
 # else /* linux */

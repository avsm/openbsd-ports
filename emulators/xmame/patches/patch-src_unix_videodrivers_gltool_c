$OpenBSD: patch-src_unix_videodrivers_gltool_c,v 1.3 2002/01/10 02:09:53 naddy Exp $
--- src/unix/video-drivers/gltool.c.orig	Mon Jul  2 02:03:49 2001
+++ src/unix/video-drivers/gltool.c	Tue Jan  1 19:21:13 2002
@@ -357,7 +357,7 @@ void * LIBAPIENTRY getGLProcAddressHelpe
 
   if (disp__glXGetProcAddress == NULL && __firstAccess)
   {
-      disp__glXGetProcAddress = (procPtr) dlsym (libHandleGL, "glXGetProcAddressARB");
+      disp__glXGetProcAddress = (procPtr) dlsym (libHandleGL, SYMBOL_PREFIX "glXGetProcAddressARB");
 
       if (disp__glXGetProcAddress != NULL && verbose)
       {
@@ -367,7 +367,7 @@ void * LIBAPIENTRY getGLProcAddressHelpe
 
       if (disp__glXGetProcAddress == NULL)
       {
-	disp__glXGetProcAddress = (procPtr) dlsym (libHandleGL, "glXGetProcAddressEXT");
+	disp__glXGetProcAddress = (procPtr) dlsym (libHandleGL, SYMBOL_PREFIX "glXGetProcAddressEXT");
 
 	if (disp__glXGetProcAddress != NULL && verbose)
 	{
@@ -378,7 +378,7 @@ void * LIBAPIENTRY getGLProcAddressHelpe
 
       if (disp__glXGetProcAddress == NULL)
       {
-	disp__glXGetProcAddress = (procPtr) dlsym (libHandleGL, "glXGetProcAddress");
+	disp__glXGetProcAddress = (procPtr) dlsym (libHandleGL, SYMBOL_PREFIX "glXGetProcAddress");
 
 	if (disp__glXGetProcAddress != NULL && verbose)
 	{
@@ -394,7 +394,7 @@ void * LIBAPIENTRY getGLProcAddressHelpe
 	fflush (NULL);
 	if (libHandleGLX != NULL)
 	{
-	  disp__glXGetProcAddress = (procPtr) dlsym (libHandleGLX, "glXGetProcAddressARB");
+	  disp__glXGetProcAddress = (procPtr) dlsym (libHandleGLX, SYMBOL_PREFIX "glXGetProcAddressARB");
 
 	  if (disp__glXGetProcAddress != NULL && verbose)
 	  {
@@ -404,7 +404,7 @@ void * LIBAPIENTRY getGLProcAddressHelpe
 
 	  if (disp__glXGetProcAddress == NULL)
 	  {
-	    disp__glXGetProcAddress = (procPtr) dlsym (libHandleGLX, "glXGetProcAddressEXT");
+	    disp__glXGetProcAddress = (procPtr) dlsym (libHandleGLX, SYMBOL_PREFIX "glXGetProcAddressEXT");
 
 	    if (disp__glXGetProcAddress != NULL && verbose)
 	    {
@@ -415,7 +415,7 @@ void * LIBAPIENTRY getGLProcAddressHelpe
 
 	  if (disp__glXGetProcAddress == NULL)
 	  {
-	    disp__glXGetProcAddress = (procPtr) dlsym (libHandleGLX, "glXGetProcAddress");
+	    disp__glXGetProcAddress = (procPtr) dlsym (libHandleGLX, SYMBOL_PREFIX "glXGetProcAddress");
 
 	    if (disp__glXGetProcAddress != NULL && verbose)
 	    {
@@ -541,7 +541,7 @@ void LIBAPIENTRY fetch_GL_FUNCS (const c
   if(!loadGLLibrary (libGLName, libGLUName))
   	return;
 
-  #define GET_GL_PROCADDRESS(a) getGLProcAddressHelper (libGLName, libGLUName, (a), NULL, 1, 0);
+  #define GET_GL_PROCADDRESS(a) getGLProcAddressHelper (libGLName, libGLUName, (SYMBOL_PREFIX a), NULL, 1, 0);
 
   #include "gl-disp-fetch.hc"
   #include "glu-disp-fetch.hc"

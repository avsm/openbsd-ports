$OpenBSD: patch-scp_c,v 1.12 2007/05/10 21:01:15 matthieu Exp $
--- scp.c.orig	Tue Jan 30 10:54:12 2007
+++ scp.c	Tue May  8 21:33:31 2007
@@ -657,7 +657,10 @@ while (stat != SCPE_EXIT) {                           
     else if (sim_vm_read != NULL)                       /* sim routine? */
         cptr = (*sim_vm_read) (cbuf, CBUFSIZE, stdin);
     else cptr = read_line (cbuf, CBUFSIZE, stdin);      /* read command line */
-    if (cptr == NULL) continue;                         /* ignore EOF */
+    if (cptr == NULL) {
+	putchar('\n');
+	continue;					/* ignore EOF */
+    }
     if (*cptr == 0) continue;                           /* ignore blank */
     if (sim_log) fprintf (sim_log, "sim> %s\n", cptr);  /* log cmd */
     cptr = get_glyph (cptr, gbuf, 0);                   /* get command glyph */

*** mgdiff.c.orig	Thu May 21 21:14:35 1998
--- mgdiff.c	Thu May 21 21:16:57 1998
***************
*** 1110,1116 ****
  	 */
      case 3:
  	if (strcmp (argv[1], "-") == 0) {
! 	    tempfname = tempnam (NULL, "mgdif");
  	    str_fnamel = strdup (tempfname);
  	    str_snamel = strdup (user_filename);
  	    if (!copy_to_file (stdin, tempfname)) {
--- 1110,1118 ----
  	 */
      case 3:
  	if (strcmp (argv[1], "-") == 0) {
! 	    char xxx[20];
! 	    sprintf(tempfname, "mgdif.XXXXXXXX");
! 	    close(mkstemp (tempfname));
  	    str_fnamel = strdup (tempfname);
  	    str_snamel = strdup (user_filename);
  	    if (!copy_to_file (stdin, tempfname)) {
***************
*** 1131,1137 ****
  	}
  
  	if (strcmp (argv[2], "-") == 0) {
! 	    tempfname = tempnam (NULL, "mgdif");
  	    str_fnamer = strdup (tempfname);
  	    str_snamer = strdup (user_filename);
  	    if (!copy_to_file (stdin, tempfname)) {
--- 1133,1141 ----
  	}
  
  	if (strcmp (argv[2], "-") == 0) {
! 	   char xxx[20];
!             sprintf(tempfname, "mgdif.XXXXXXXX");
!             close(mkstemp (tempfname));
  	    str_fnamer = strdup (tempfname);
  	    str_snamer = strdup (user_filename);
  	    if (!copy_to_file (stdin, tempfname)) {

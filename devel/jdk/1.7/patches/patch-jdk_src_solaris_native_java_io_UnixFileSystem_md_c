$OpenBSD: patch-jdk_src_solaris_native_java_io_UnixFileSystem_md_c,v 1.4 2011/01/11 15:47:50 kurt Exp $
--- jdk/src/solaris/native/java/io/UnixFileSystem_md.c.orig	Fri Aug 13 03:22:13 2010
+++ jdk/src/solaris/native/java/io/UnixFileSystem_md.c	Tue Oct 26 11:01:50 2010
@@ -41,6 +41,12 @@
 #include "java_io_FileSystem.h"
 #include "java_io_UnixFileSystem.h"
 
+#if defined(_ALLBSD_SOURCE)
+#define dirent64 dirent
+#define readdir64_r readdir_r
+#define stat64 stat
+#define statvfs64 statvfs
+#endif
 
 /* -- Field IDs -- */
 
@@ -139,7 +145,6 @@ Java_java_io_UnixFileSystem_checkAccess(JNIEnv *env, j
     } END_PLATFORM_STRING(env, path);
     return rv;
 }
-
 
 JNIEXPORT jboolean JNICALL
 Java_java_io_UnixFileSystem_setPermission(JNIEnv *env, jobject this,

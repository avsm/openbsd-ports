$OpenBSD: patch-cupshelpers_py,v 1.2 2008/06/12 21:51:43 ajacoutot Exp $
--- cupshelpers.py.orig	Thu Apr  3 17:54:02 2008
+++ cupshelpers.py	Tue Apr  8 15:23:21 2008
@@ -19,7 +19,7 @@
 ## Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
 
 import cups, pprint, os, tempfile, re
-from rhpl.translate import _, N_
+from gettext import gettext as _
 import locale
 from debug import *
 
@@ -519,7 +519,7 @@ def missingPackagesAndExecutables(ppd):
 
     # First, a local function.  How to check that something exists
     # in a path:
-    def pathcheck (name, path="/usr/bin:/bin"):
+    def pathcheck (name, path="/usr/bin:/bin:${PREFIX}/bin:${LOCALBASE}/bin"):
         # Strip out foomatic '%'-style place-holders.
         p = name.find ('%')
         if p != -1:
@@ -614,7 +614,7 @@ def missingPackagesAndExecutables(ppd):
                     continue
 
                 exepath = pathcheck (exe,
-                                     "/usr/lib/cups/filter:"
+                                     "${PREFIX}/libexec/cups/filter:"
                                      "/usr/lib64/cups/filter")
 
     if exe and not exepath:

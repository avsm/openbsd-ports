$OpenBSD: patch-Configure,v 1.10 2007/01/07 18:25:43 sturm Exp $
--- Configure.orig	Fri Nov 10 00:01:15 2006
+++ Configure	Sun Jan  7 17:36:58 2007
@@ -331,7 +331,7 @@ d_msghdr_msg_flags=''
 d_nls=''
 d_open3=''
 d_poll=''
-d_portable=''
+d_portable='define'
 d_posix_memalign=''
 d_pread=''
 d_preadv=''
@@ -1126,7 +1126,7 @@ for file in $*; do
 			dir=`expr X$file : 'X\(.*\)/'`
 			file=`expr X$file : 'X.*/\(.*\)'`
 			./mkdirp $dir
-			sh <"$SRC/$dir/$file"
+			cd $dir && sh $SRC/$dir/$file
 			;;
 		*)
 			sh <"$SRC/$file"
@@ -5933,8 +5933,7 @@ eval $setvar
 echo " "
 case "$d_sqlite" in
 "$undef") sqlite="$undef";;
-*) sqlite="$define";;
-esac
+*) sqlite="$define"
 echo "Checking how we can gather information about SQLite..." >&4
 if pkg-config sqlite3 --cflags >/dev/null 2>&1; then
 	sqliteconfig="pkg-config sqlite3"
@@ -5948,6 +5947,8 @@ else
 	modver=''
 fi
 echo "(I'll use '$sqliteconfig' to gather that information.)"
+;;
+esac
 
 sqlitecflags=""
 sqliteldflags=""
@@ -8664,15 +8665,6 @@ If you'd like to make any changes to the
 to configure things, do it as a shell escape now (e.g. !vi config.sh).
 
 EOM
-	rp="Press return or use a shell escape to edit config.sh:"
-	. UU/myread
-	nostick=''
-	case "$ans" in
-	'') ;;
-	*) : in case they cannot read
-		sh 1>&4 -c "$ans";;
-	esac
-	;;
 esac
 
 : if this fails, just run all the .SH files by hand

$OpenBSD: patch-src_admin_c,v 1.1 2004/02/02 19:32:37 fgsch Exp $
--- src/admin.c.orig	2004-01-31 20:23:33.000000000 +0100
+++ src/admin.c	2004-01-31 20:30:32.000000000 +0100
@@ -180,7 +180,7 @@ xmlDocPtr admin_build_sourcelist(char *c
         snprintf(buf, sizeof(buf)-1, "%ld", source->listeners);
         xmlNewChild(srcnode, NULL, "listeners", buf);
         memset(buf, '\000', sizeof(buf));
-        snprintf(buf, sizeof(buf)-1, "%ld", now - source->con->con_time);
+        snprintf(buf, sizeof(buf), "%ld", (long int)(now - source->con->con_time));
         xmlNewChild(srcnode, NULL, "Connected", buf);
         xmlNewChild(srcnode, NULL, "Format", 
             source->format->format_description);
@@ -527,7 +527,7 @@ static void command_show_listeners(clien
             xmlNewChild(listenernode, NULL, "UserAgent", "Unknown");
         }
         memset(buf, '\000', sizeof(buf));
-        snprintf(buf, sizeof(buf)-1, "%ld", now - current->con->con_time);
+        snprintf(buf, sizeof(buf), "%ld", (long int)(now - current->con->con_time));
         xmlNewChild(listenernode, NULL, "Connected", buf);
         memset(buf, '\000', sizeof(buf));
         snprintf(buf, sizeof(buf)-1, "%lu", current->con->id);

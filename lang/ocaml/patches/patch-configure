$OpenBSD: patch-configure,v 1.7 2005/05/09 13:50:41 avsm Exp $
--- configure.orig	Mon Jan 24 15:22:46 2005
+++ configure	Wed Mar 23 13:32:24 2005
@@ -563,6 +563,7 @@ case "$host" in
   alpha*-*-freebsd*)            arch=alpha; system=freebsd;;
   alpha*-*-netbsd*)             arch=alpha; system=netbsd;;
   alpha*-*-openbsd*)            arch=alpha; system=openbsd;;
+  amd64-*-openbsd*)		arch=amd64; system=openbsd;;
   sparc*-*-sunos4.*)            arch=sparc; system=sunos;;
   sparc*-*-solaris2.*)          arch=sparc; system=solaris;;
   sparc*-*-*bsd*)               arch=sparc; system=bsd;;
@@ -579,6 +580,7 @@ case "$host" in
   hppa*-*-linux*)		arch=hppa; system=linux;;
   powerpc-*-linux*)             arch=power; model=ppc; system=elf;;
   powerpc-*-netbsd*)            arch=power; model=ppc; system=bsd;;
+  powerpc-*-openbsd*)           arch=power; model=ppc; system=bsd;;
   powerpc-*-rhapsody*)          arch=power; model=ppc; system=rhapsody;;
   powerpc-*-darwin*)            arch=power; model=ppc; system=rhapsody;;
   arm*-*-linux*)                arch=arm; system=linux;;
@@ -651,8 +653,12 @@ esac
 cc_profile='-pg'
 case "$arch,$model,$system" in
   alpha,*,digital) profiling='prof';;
+  alpha,*,openbsd) profiling='prof';;
   i386,*,linux_elf) profiling='prof';;
   i386,*,bsd_elf) profiling='prof';;
+  amd64,*,openbsd) profiling='prof';;
+  power,*,bsd) profiling='prof';;
+  sparc,*,bsd) profiling='prof';;
   sparc,*,solaris)
     profiling='prof'
     case "$nativecc" in gcc*) ;; *) cc_profile='-xpg';; esac;;
@@ -683,10 +689,6 @@ case "$host" in
           echo "objcopy and nm found in $d"
           if test `$d/objcopy --help | grep -s -c 'redefine-sym'` -eq 0; then
             echo "$d/objcopy does not support option --redefine-sym, discarded"
-            continue;
-          fi
-          if test `$d/nm --version | grep -s -c 'GNU nm'` -eq 0; then
-            echo "$d/nm is not from GNU binutils, discarded"
             continue;
           fi
           binutils_objcopy="$d/objcopy"

$OpenBSD: patch-libatalk_compat_getusershell_c,v 1.1 2003/08/22 11:18:19 naddy Exp $
--- libatalk/compat/getusershell.c.orig	Mon Aug 18 11:31:02 2003
+++ libatalk/compat/getusershell.c	Mon Aug 18 11:46:12 2003
@@ -121,7 +121,7 @@ initshells()
 	}
 	sp = shells;
 	cp = strings;
-	while (fgets(cp, MAXPATHLEN + 1, fp) != NULL) {
+	while (fgets(cp, MAXPATHLEN, fp) != NULL) {
 		while (*cp != '#' && *cp != '/' && *cp != '\0')
 			cp++;
 		if (*cp == '#' || *cp == '\0')

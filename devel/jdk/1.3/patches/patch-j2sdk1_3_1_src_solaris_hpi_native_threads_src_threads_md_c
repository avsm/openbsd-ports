$OpenBSD: patch-j2sdk1_3_1_src_solaris_hpi_native_threads_src_threads_md_c,v 1.1 2005/06/03 17:27:54 kurt Exp $
--- j2sdk1.3.1/src/solaris/hpi/native_threads/src/threads_md.c.orig	Mon Nov  8 11:41:54 2004
+++ j2sdk1.3.1/src/solaris/hpi/native_threads/src/threads_md.c	Mon Nov  8 11:45:53 2004
@@ -77,11 +77,17 @@ static thread_key_t tid_key = (thread_ke
 #ifdef __linux__
 thread_key_t intrJmpbufkey;
 static sigset_t squm = {{sigmask(SIGUSR1), 0, 0, 0}};
+#elif defined(__OpenBSD__)
+thread_key_t sigusr1Jmpbufkey;
+sigset_t sigusr1Mask = sigmask(SIGUSR1);
+static sigset_t squm = sigmask(SIGUSR1);
 #else
 thread_key_t sigusr1Jmpbufkey;
 sigset_t sigusr1Mask = {{sigmask(SIGUSR1), 0, 0, 0}};
+static sigset_t squm = {{sigmask(SIGUSR1), 0, 0, 0}};
 #endif
 
+
 /*
  * Thread C stack overflow check
  *
@@ -148,10 +154,6 @@ sysThreadCheckStack() 
 	return 0;
     }
 }
-
-#ifndef __linux__
-static sigset_t squm = {{sigmask(SIGUSR1), 0, 0, 0}};
-#endif
 
 
 /* 

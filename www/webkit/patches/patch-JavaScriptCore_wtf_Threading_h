$OpenBSD: patch-JavaScriptCore_wtf_Threading_h,v 1.2 2009/03/08 20:00:41 landry Exp $

Sparc64 definitely doesn't like __gnu_cxx::__atomic_add.
--- JavaScriptCore/wtf/Threading.h.orig	Sun Jan 25 03:24:37 2009
+++ JavaScriptCore/wtf/Threading.h	Sun Feb 22 22:38:46 2009
@@ -197,7 +197,7 @@ inline int atomicDecrement(int volatile* addend) { ret
 inline void atomicIncrement(int volatile* addend) { OSAtomicIncrement32Barrier(const_cast<int*>(addend)); }
 inline int atomicDecrement(int volatile* addend) { return OSAtomicDecrement32Barrier(const_cast<int*>(addend)); }
 
-#elif COMPILER(GCC)
+#elif COMPILER(GCC) && !PLATFORM(SPARC64)
 #define WTF_USE_LOCKFREE_THREADSAFESHARED 1
 
 inline void atomicIncrement(int volatile* addend) { __gnu_cxx::__atomic_add(addend, 1); }

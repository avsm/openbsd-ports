$OpenBSD: patch-cpu_flag_ctrl_pro_cc,v 1.1 2001/02/02 16:59:08 todd Exp $
--- cpu/flag_ctrl_pro.cc.orig	Sat Mar 25 21:39:08 2000
+++ cpu/flag_ctrl_pro.cc	Tue Oct 31 12:30:40 2000
@@ -40,11 +40,11 @@ BX_CPU_C::write_flags(Bit16u flags, Bool
 #if 0
 // +++
 if (BX_CPU_THIS_PTR eflags.tf==0 && (flags&0x0100))
-  fprintf(stderr, "TF 0->1\n");
+  bio->printf("TF 0->1\n");
 else if (BX_CPU_THIS_PTR eflags.tf && !(flags&0x0100))
-  fprintf(stderr, "TF 1->0\n");
+  bio->printf("TF 1->0\n");
 else if (BX_CPU_THIS_PTR eflags.tf && (flags&0x0100))
-  fprintf(stderr, "TF 1->1\n");
+  bio->printf("TF 1->1\n");
 #endif
 
   BX_CPU_THIS_PTR eflags.tf = (flags >> 8) & 0x01;
@@ -84,11 +84,11 @@ BX_CPU_C::write_eflags(Bit32u eflags_raw
 #if 0
 // +++
 if (BX_CPU_THIS_PTR eflags.tf==0 && (eflags_raw&0x0100))
-  fprintf(stderr, "TF 0->1\n");
+  bio->printf("TF 0->1\n");
 else if (BX_CPU_THIS_PTR eflags.tf && !(eflags_raw&0x0100))
-  fprintf(stderr, "TF 1->0\n");
+  bio->printf("TF 1->0\n");
 else if (BX_CPU_THIS_PTR eflags.tf && (eflags_raw&0x0100))
-  fprintf(stderr, "TF 1->1\n");
+  bio->printf("TF 1->1\n");
 #endif
 
   BX_CPU_THIS_PTR eflags.tf = (eflags_raw >> 8) & 0x01;
@@ -110,7 +110,7 @@ else if (BX_CPU_THIS_PTR eflags.tf && (e
     BX_CPU_THIS_PTR eflags.vm = (eflags_raw >> 17) & 0x01;
 #if BX_SUPPORT_V8086_MODE == 0
     if (BX_CPU_THIS_PTR eflags.vm)
-      bx_panic("write_eflags: VM bit set: BX_SUPPORT_V8086_MODE==0\n");
+      bio->panic("write_eflags: VM bit set: BX_SUPPORT_V8086_MODE==0\n");
 #endif
     }
   if (change_RF) {

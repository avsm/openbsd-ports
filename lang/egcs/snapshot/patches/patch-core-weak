--- gcc/config/openbsd.h.orig	Sun Feb 28 19:18:16 1999
+++ gcc/config/openbsd.h	Sun Feb 28 19:17:56 1999
@@ -299,3 +299,9 @@
 /* Otherwise, since we support weak, gthr.h erroneously tries to use
    #pragma weak.  */
 #define GTHREAD_USE_WEAK 0
+
+/* bug work around: we don't want to support #pragma weak, but the current
+   code layout needs HANDLE_PRAGMA_WEAK asserted for __attribute((weak)) to
+   work.  On the other hand, we don't define HANDLE_PRAGMA_WEAK directly,
+   as this depends on a few other details as well...  */
+#define HANDLE_SYSV_PRAGMA

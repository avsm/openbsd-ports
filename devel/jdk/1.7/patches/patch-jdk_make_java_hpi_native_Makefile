$OpenBSD: patch-jdk_make_java_hpi_native_Makefile,v 1.3 2011/01/11 15:47:50 kurt Exp $
--- jdk/make/java/hpi/native/Makefile.orig	Fri Aug 13 03:21:37 2010
+++ jdk/make/java/hpi/native/Makefile	Mon Oct 25 18:15:45 2010
@@ -73,16 +73,25 @@ OTHER_CPPFLAGS += -DUSE_PTHREADS
 ifeq ($(MOOT_PRIORITIES),true)
 OTHER_CPPFLAGS += -DMOOT_PRIORITIES
 endif
+ifeq ($(PLATFORM), bsd)
+LIBPOSIX4      =
+OTHER_LDLIBS   += -pthread
+else
 LIBPOSIX4	= -lposix4
 OTHER_LDLIBS   += -lpthread $(LIBPOSIX4)
 endif
+endif
 
+ifneq ($(PLATFORM), bsd)
 HAVE_GETHRVTIME=true
+endif
 ifeq ($(HAVE_GETHRVTIME),true)
 OTHER_CPPFLAGS += -DHAVE_GETHRVTIME
 endif
 
+ifneq ($(OS_VENDOR), OpenBSD)
 HAVE_FILIOH=true
+endif
 ifeq ($(HAVE_FILIOH),true)
 OTHER_CPPFLAGS += -DHAVE_FILIOH
 endif

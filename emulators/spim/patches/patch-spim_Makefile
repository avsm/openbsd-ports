$OpenBSD: patch-spim_Makefile,v 1.1 2005/10/13 09:06:54 kevlo Exp $
--- spim/Makefile.orig	Sun Aug 28 20:58:14 2005
+++ spim/Makefile	Thu Oct 13 17:00:45 2005
@@ -45,17 +45,19 @@
 CPU_DIR = ../CPU
 VPATH = src:$(CPU_DIR)
 
+PREFIX = /usr/local
+
 # Full path for directory that will hold the exception handler file:
-EXCEPTION_DIR = ../CPU
+EXCEPTION_DIR = $(PREFIX)/share/spim
 
 # Path of directory that contains SPIM tests:
 TEST_DIR = ../Tests
 
 # Full path for the directory that will hold the executable files:
-BIN_DIR = /usr/unsup/bin
+BIN_DIR = $(PREFIX)/bin
 
 # Full path for the directory that will hold the man files:
-MAN_DIR = /usr/unsup/man
+MAN_DIR = $(PREFIX)/man/man1
 
 
 # Full path for the exception handler file:
@@ -95,7 +97,7 @@ CFLAGS = -I. -I$(CPU_DIR) $(DEFINES) -g 
 YFLAGS = -d --file-prefix=y
 YCFLAGS =
 LDFLAGS = -lm
-CSH = bash
+CSH = sh
 
 # lex.yy.c is usually compiled with -O to speed it up.
 
@@ -175,9 +177,7 @@ clean:
 	rm -f spim spim.exe *.o TAGS test.out lex.yy.c y.tab.c y.tab.h y.output
 
 install: spim
-	install -c -s  spim $(BIN_DIR)
-	install -c -m 0444 exceptions.s $(EXCEPTION_DIR)
-	install -c -m 0444 spim.man $(MAN_DIR)
+	install -c -m 0444 ../Documentation/spim.man $(MAN_DIR)/spim.1
 
 very-clean: clean
 	rm -f configuration

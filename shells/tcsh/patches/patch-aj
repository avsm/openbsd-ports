--- sh.print.c  1996/04/26 19:20:06     3.8
+++ sh.print.c  1997/09/20 22:47:21
@@ -196,6 +196,7 @@
 {
     register int unit;
     static int interrupted = 0;
+    size_t sz;

     /* int lmode; */

@@ -223,7 +224,10 @@
     }
 #endif
 #endif
-    (void) write(unit, linbuf, (size_t) (linp - linbuf));
+    sz = (size_t) (linp - linbuf);
+    if (write(unit, linbuf, sz) != sz && !haderr)
+       stderror(ERR_SYSTEM, progname, strerror(errno));
+
     linp = linbuf;
     interrupted = 0;
 }

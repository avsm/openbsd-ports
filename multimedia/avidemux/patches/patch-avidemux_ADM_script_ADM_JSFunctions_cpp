$OpenBSD: patch-avidemux_ADM_script_ADM_JSFunctions_cpp,v 1.2 2007/04/08 17:34:54 ajacoutot Exp $
--- avidemux/ADM_script/ADM_JSFunctions.cpp.orig	Sun Oct  8 16:40:42 2006
+++ avidemux/ADM_script/ADM_JSFunctions.cpp	Sun Apr  8 11:03:46 2007
@@ -325,7 +325,7 @@ JSBool systemExecute(JSContext *cx, JSObject *obj, uin
 	// clear file descriptor table of forked process and fork
 #if defined( __linux__) || defined(__maxosx__)
 	pid_t pidRtn = fork();
-#elif __FreeBSD__
+#elif defined(__FreeBSD__) || defined(__OpenBSD__)
 	pid_t pidRtn = rfork(RFPROC|RFCFDG);
 #endif
 	if(pidRtn == 0)

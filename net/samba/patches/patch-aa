*** Makefile.orig	Sat Mar 28 05:59:09 1998
--- Makefile	Wed Apr 22 13:19:36 1998
***************
*** 5,11 ****
  ###########################################################################
  
  # The base directory for all samba files
! BASEDIR = /usr/local/samba
  
  # The base manpages directory to put the man pages in
  # Note: $(MANDIR)/man1, $(MANDIR)/man5 and $(MANDIR)/man8 must exist.
--- 5,11 ----
  ###########################################################################
  
  # The base directory for all samba files
! BASEDIR = /usr/local
  
  # The base manpages directory to put the man pages in
  # Note: $(MANDIR)/man1, $(MANDIR)/man5 and $(MANDIR)/man8 must exist.
***************
*** 18,33 ****
  #       normally only applies to nmbd and smbd
  #       SBINDIR implies a secure binary directory
  BINDIR = $(BASEDIR)/bin
! SBINDIR = $(BASEDIR)/bin
! LIBDIR = $(BASEDIR)/lib
! VARDIR = $(BASEDIR)/var
  
  # The permissions to give the executables
  INSTALLPERMS = 0755
  
  # Add any optimisation or debugging flags here
  # add -DSYSLOG for syslog support
! FLAGS1 = -O
  LIBS1 = 
  
  # You will need to use a ANSI C compiler. This means under SunOS 4 you can't 
--- 18,34 ----
  #       normally only applies to nmbd and smbd
  #       SBINDIR implies a secure binary directory
  BINDIR = $(BASEDIR)/bin
! SBINDIR = $(BASEDIR)/sbin
! LIBDIR = $(BASEDIR)/lib/samba
! ETCDIR = /etc/samba
! VARDIR = /var
  
  # The permissions to give the executables
  INSTALLPERMS = 0755
  
  # Add any optimisation or debugging flags here
  # add -DSYSLOG for syslog support
! FLAGS1 = -O -DQUOTAS -DALLOW_CHANGE_PASSWORD
  LIBS1 = 
  
  # You will need to use a ANSI C compiler. This means under SunOS 4 you can't 
***************
*** 45,61 ****
  # set these to where to find various files
  # These can be overridden by command line switches (see smbd(8))
  # or in smb.conf (see smb.conf(5))
! SMBLOGFILE = $(VARDIR)/log.smb
! NMBLOGFILE = $(VARDIR)/log.nmb
! CONFIGFILE = $(LIBDIR)/smb.conf
! LMHOSTSFILE = $(LIBDIR)/lmhosts
! DRIVERFILE = $(LIBDIR)/printers.def
  SMB_PASSWD = $(BINDIR)/smbpasswd
! SMB_PASSWD_FILE = $(BASEDIR)/private/smbpasswd
  WEB_ROOT = $(BASEDIR)
  
  # the directory where lock files go
! LOCKDIR = $(VARDIR)/locks
  
  # The directory where code page definition files go
  CODEPAGEDIR = $(LIBDIR)/codepages
--- 46,62 ----
  # set these to where to find various files
  # These can be overridden by command line switches (see smbd(8))
  # or in smb.conf (see smb.conf(5))
! SMBLOGFILE = $(VARDIR)/log/smb
! NMBLOGFILE = $(VARDIR)/log/nmb
! CONFIGFILE = $(ETCDIR)/smb.conf
! LMHOSTSFILE = $(ETCDIR)/lmhosts
! DRIVERFILE = $(ETCDIR)/printers.def
  SMB_PASSWD = $(BINDIR)/smbpasswd
! SMB_PASSWD_FILE = $(ETCDIR)/smbpasswd
  WEB_ROOT = $(BASEDIR)
  
  # the directory where lock files go
! LOCKDIR = $(VARDIR)/spool/lock
  
  # The directory where code page definition files go
  CODEPAGEDIR = $(LIBDIR)/codepages
***************
*** 64,70 ****
  
  # set this to the default group you want your machine to appear in
  # for browsing. This can also be set in nmbd (see nmbd(8))
! WORKGROUP = WORKGROUP
  
  # set this to the name of the default account, which is the one
  # to use when no username or password is specified.  This can be overridden
--- 65,71 ----
  
  # set this to the default group you want your machine to appear in
  # for browsing. This can also be set in nmbd (see nmbd(8))
! WORKGROUP = SAMBA
  
  # set this to the name of the default account, which is the one
  # to use when no username or password is specified.  This can be overridden
***************
*** 429,436 ****
  
  # This is for OpenBSD
  # contributed by todd@openbsd.org
! # FLAGSM = -DFAST_SHARE_MODES -DBSD44
! # LIBSM =
  
  # This is for NEXTSTEP Release 2.X
  # No Posix.
--- 430,437 ----
  
  # This is for OpenBSD
  # contributed by todd@openbsd.org
! FLAGSM = -DFAST_SHARE_MODES -DBSD44
! LIBSM =
  
  # This is for NEXTSTEP Release 2.X
  # No Posix.
***************
*** 823,830 ****
  install: installbin installman installscripts installcp
  
  installbin: all
! 	@$(SHELL) $(srcdir)installbin.sh $(INSTALLPERMS) $(BASEDIR) $(SBINDIR) $(LIBDIR) $(VARDIR) $(SPROGS)
! 	@$(SHELL) $(srcdir)installbin.sh $(INSTALLPERMS) $(BASEDIR) $(BINDIR) $(LIBDIR) $(VARDIR) $(PROGS)
  
  installscripts:
  	@$(SHELL) $(srcdir)installscripts.sh $(INSTALLPERMS) $(BINDIR) $(SCRIPTS)
--- 824,831 ----
  install: installbin installman installscripts installcp
  
  installbin: all
! 	@$(SHELL) $(srcdir)installbin.sh $(INSTALLPERMS) $(BASEDIR) $(SBINDIR) $(ETCDIR) $(VARDIR) $(SPROGS)
! 	@$(SHELL) $(srcdir)installbin.sh $(INSTALLPERMS) $(BASEDIR) $(BINDIR) $(ETCDIR) $(VARDIR) $(PROGS)
  
  installscripts:
  	@$(SHELL) $(srcdir)installscripts.sh $(INSTALLPERMS) $(BINDIR) $(SCRIPTS)
***************
*** 846,853 ****
  	@$(SHELL) $(srcdir)uninstallman.sh $(MANDIR) $(srcdir)
  
  uninstallbin:
! 	@$(SHELL) $(srcdir)uninstallbin.sh $(INSTALLPERMS) $(BASEDIR) $(SBINDIR) $(LIBDIR) $(VARDIR) $(SPROGS)
! 	@$(SHELL) $(srcdir)uninstallbin.sh $(INSTALLPERMS) $(BASEDIR) $(BINDIR) $(LIBDIR) $(VARDIR) $(PROGS)
  
  uninstallscripts:
  	@$(SHELL) $(srcdir)uninstallscripts.sh $(INSTALLPERMS) $(BINDIR) $(SCRIPTS)
--- 847,854 ----
  	@$(SHELL) $(srcdir)uninstallman.sh $(MANDIR) $(srcdir)
  
  uninstallbin:
! 	@$(SHELL) $(srcdir)uninstallbin.sh $(INSTALLPERMS) $(BASEDIR) $(SBINDIR) $(ETCDIR) $(VARDIR) $(SPROGS)
! 	@$(SHELL) $(srcdir)uninstallbin.sh $(INSTALLPERMS) $(BASEDIR) $(BINDIR) $(ETCDIR) $(VARDIR) $(PROGS)
  
  uninstallscripts:
  	@$(SHELL) $(srcdir)uninstallscripts.sh $(INSTALLPERMS) $(BINDIR) $(SCRIPTS)

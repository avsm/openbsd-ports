--- etc/psf/psa.c.orig	Sat Jun 15 08:06:20 1996
+++ etc/psf/psa.c	Fri Nov 19 11:50:07 1999
@@ -17,8 +17,14 @@
  * record in the accounting file.
  */
 
+#include <sys/types.h>
+#include <sys/uio.h>
 #include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include <unistd.h>
 
+int
 main( ac, av )
     int		ac;
     char	**av;
@@ -57,7 +63,7 @@
 	    ipc = atoi( buf + 1 );
 	    cc -= ( p - buf );
 	    if ( cc != 0 ) {
-		bcopy( p, buf, cc );
+		memcpy( buf, p, cc );
 	    }
 	} else {
 	    /* find final pagecount */
@@ -91,7 +97,7 @@
 	    }
 	}
 	if ( cc != 0 && write( 2, buf, cc ) != cc ) {
-	    fprintf( stderr, "write 1: 2 %X %d\n", buf, cc );
+	    fprintf( stderr, "write 1: 2 %X %d\n", (u_int)buf, cc );
 	    perror( "write" );
 	    exit( 2 );
 	}

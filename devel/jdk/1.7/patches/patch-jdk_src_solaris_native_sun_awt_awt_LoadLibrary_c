$OpenBSD: patch-jdk_src_solaris_native_sun_awt_awt_LoadLibrary_c,v 1.1 2009/05/23 03:03:25 kurt Exp $
--- jdk/src/solaris/native/sun/awt/awt_LoadLibrary.c.orig	Mon May 18 19:52:35 2009
+++ jdk/src/solaris/native/sun/awt/awt_LoadLibrary.c	Mon May 18 19:52:44 2009
@@ -143,7 +143,11 @@ AWT_OnLoad(JavaVM *vm, void *reserved)
         (*env)->DeleteLocalRef(env, propname);
     }
 
+#ifdef __APPLE__ 
+    strcat(p, ".dylib");
+#else
     strcat(p, ".so");
+#endif
 
     JNU_CallStaticMethodByName(env, NULL, "java/lang/System", "load",
                                "(Ljava/lang/String;)V",

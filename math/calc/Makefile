# $OpenBSD: Makefile,v 1.8 2002/01/30 10:14:54 pvalchev Exp $
#

COMMENT=	"C-style arbitrary precision calculator"

DISTNAME=	calc-2.11.1t3.0
CATEGORIES=	math
MASTER_SITES=	ftp://ftp.uu.net/pub/calc/ \
		ftp://reality.sgi.com/chongo/src/calc/
NEED_VERSION=	1.402

PERMIT_PACKAGE_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes

HOMEPAGE=	http://reality.sgi.com/chongo/calc
MAINTAINER=	Niels Provos <provos@openbsd.org>
MAKE_FLAGS=BINDIR='$${DESTDIR}${PREFIX}/bin' \
	TOPDIR='$${DESTDIR}${PREFIX}/lib' \
	INCDIR='$${DESTDIR}${PREFIX}/include' \
	MANDIR='$${DESTDIR}${PREFIX}/man/man1' \
	USE_READLINE=-DUSE_READLINE \
	READLINE_LIB='-lreadline -lcurses' \
	CFLAGS='${CFLAGS} $${CCWARN} $${CCOPT} $${CCMISC}'

FAKE_FLAGS=${MAKE_FLAGS}

# XXX workaround sparc64 gcc optimization bug
.if ${MACHINE_ARCH:Msparc64}
PATCH_LIST=	gcc-* patch-*
.endif

.include <bsd.port.mk>

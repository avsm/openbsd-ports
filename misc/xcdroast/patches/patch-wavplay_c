$OpenBSD: patch-wavplay_c,v 1.1.1.1 2002/07/14 19:34:28 wilfried Exp $
--- wavplay.c.orig	Tue May 14 08:37:58 2002
+++ wavplay.c	Tue May 14 08:38:08 2002
@@ -22,7 +22,8 @@
 #include <sys/soundcard.h>
 #include <sys/ioctl.h>
 #endif
-#ifdef sun 
+#if defined(sun) || defined(__OpenBSD__) 
+#include <sys/ioctl.h>
 #include <sys/audioio.h>
 #endif
 #ifdef hpux
@@ -110,7 +111,7 @@ gint flags;
 
 #endif
 
-#ifdef sun
+#if defined(sun) || defined(__OpenBSD__)
 
 /* open the sound-device of solaris and set cd-quality */
 
@@ -137,7 +138,9 @@ gint flags;
 	info.play.precision = 16;
 	info.play.encoding = AUDIO_ENCODING_LINEAR;
 	info.play.buffer_size = abuf_size;
+#ifndef __OpenBSD__
 	info.output_muted = 0;
+#endif
 
 	if (ioctl(audio, AUDIO_SETINFO, &info) == -1) {
 		g_warning("Unable to set audio parameters\n");
@@ -335,7 +338,7 @@ gchar tmpswap;
 #if defined(linux) || defined(__FreeBSD__)
 	audio = open_linux_audio(audio_dev);
 #endif
-#ifdef sun
+#if defined(sun) || defined(__OpenBSD__)
 	audio = open_solaris_audio(audio_dev);
 #endif
 #ifdef hpux

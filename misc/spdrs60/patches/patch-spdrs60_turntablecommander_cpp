$OpenBSD: patch-spdrs60_turntablecommander_cpp,v 1.1.1.1 2010/12/11 11:19:08 sebastia Exp $

OpenBSD doesn't have nearbyint().

--- spdrs60/turntablecommander.cpp.orig	Wed May 19 22:52:27 2010
+++ spdrs60/turntablecommander.cpp	Tue Dec  7 19:17:19 2010
@@ -377,7 +377,11 @@ void turntableCommander::startTrackTimer()
 #if QT_VERSION >= 0x040000
     tTrackReached->start((int) 1000 * pref.ttroundtime / 24);
 #else
+# ifdef __OpenBSD__
+    tTrackReached->start((int) rint(1000 * pref.ttroundtime / 24));
+# else
     tTrackReached->start((int) nearbyint(1000 * pref.ttroundtime / 24));
+# endif
 #endif
     connect(tTrackReached, SIGNAL(timeout()),
             this, SLOT(slotTrackReached()));

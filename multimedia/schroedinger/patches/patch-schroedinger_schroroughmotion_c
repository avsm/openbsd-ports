$OpenBSD: patch-schroedinger_schroroughmotion_c,v 1.1 2010/05/26 14:44:03 jasper Exp $
--- schroedinger/schroroughmotion.c.orig	Thu May 20 12:35:33 2010
+++ schroedinger/schroroughmotion.c	Thu May 20 12:37:48 2010
@@ -71,7 +71,6 @@ void
 schro_rough_me_heirarchical_scan_nohint (SchroRoughME *rme, int shift,
     int distance)
 {
-  SCHRO_ASSERT(rme && rme->encoder_frame && rme->ref_frame);
 
   SchroMetricScan scan;
   SchroMotionVector *mv;
@@ -85,6 +84,7 @@ schro_rough_me_heirarchical_scan_nohint (SchroRoughME 
    * that ref_frame != NULL */
   int ref = rme->ref_frame == rme->encoder_frame->ref_frame[0] ? 0
     : (rme->ref_frame == rme->encoder_frame->ref_frame[1] ? 1 : -1);
+  SCHRO_ASSERT(rme && rme->encoder_frame && rme->ref_frame);
   SCHRO_ASSERT(ref != -1);
 
   scan.frame = get_downsampled (rme->encoder_frame, shift);
@@ -147,7 +147,6 @@ void
 schro_rough_me_heirarchical_scan_hint (SchroRoughME *rme, int shift,
     int distance)
 {
-  SCHRO_ASSERT (rme && rme->encoder_frame && rme->ref_frame);
 
   SchroMetricScan scan;
   SchroMotionVector *mv;
@@ -164,6 +163,7 @@ schro_rough_me_heirarchical_scan_hint (SchroRoughME *r
    * that ref_frame != NULL */
   int ref = rme->ref_frame == rme->encoder_frame->ref_frame[0] ? 0
     : (rme->ref_frame == rme->encoder_frame->ref_frame[1] ? 1 : -1);
+  SCHRO_ASSERT (rme && rme->encoder_frame && rme->ref_frame);
   SCHRO_ASSERT(ref != -1);
 
 

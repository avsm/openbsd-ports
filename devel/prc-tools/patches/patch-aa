--- Makefile.orig	Thu Jul 10 04:14:12 1997
+++ Makefile	Tue Nov 25 00:30:12 1997
@@ -2,8 +2,7 @@
 CFLAGS = -O2 -g
 # -g -DDEBUG
 
-PREFIX = /usr/local/gnu
-HOST = i386-slackware-linux
+PREFIX = /usr/local/pilot
 TARGET-NAME = m68k-palmos-coff
 
 EXEEXT = 
@@ -15,15 +14,15 @@
 GCCDIR = ../gcc-2.7.2.2
 GDBDIR = ../gdb-4.16
 
-GNUARCH = /cdrom/gnu
+GNUARCH = /usr/ports/distfiles
 
-TTY = /dev/cua0
+TTY = /dev/pilot
 
 M68K_BFD = $(PREFIX)/lib/lib$(TARGET-NAME)-bfd.a
 
 LBFD = `if [ -f $(M68K_BFD) ]; \
 	then echo $(M68K_BFD); \
-	else echo "-L$(PREFIX)/lib -lbfd"; fi` -liberty
+	else echo "-L$(PREFIX)/lib -lbfd"; fi` -L$(PREFIX)/lib -liberty
 
 LIBCDIR = libc.0.1.2
 LIBMDIR = libmf.0.1.2
@@ -70,9 +69,9 @@
 	cp -f build-prc$(EXEEXT) $(PREFIX)/$(TARGET-NAME)/bin
 	cp -f stubgen $(PREFIX)/$(TARGET-NAME)/bin
 	cp -f exportlist $(PREFIX)/$(TARGET-NAME)/bin
-	-cp -raf PalmOS1 $(PREFIX)/$(TARGET-NAME)/include
-	-cp -raf PalmOS2 $(PREFIX)/$(TARGET-NAME)/include
-	ln -snf $(PREFIX)/$(TARGET-NAME)/include/PalmOS2 $(PREFIX)/$(TARGET-NAME)/include/PalmOS
+	-cp -rf PalmOS1 $(PREFIX)/$(TARGET-NAME)/include
+	-cp -rf PalmOS2 $(PREFIX)/$(TARGET-NAME)/include
+	ln -sf $(PREFIX)/$(TARGET-NAME)/include/PalmOS2 $(PREFIX)/$(TARGET-NAME)/include/PalmOS
 	ln -sf $(PREFIX)/$(TARGET-NAME)/bin/pilrc$(EXEEXT) $(PREFIX)/bin/pilrc$(EXEEXT)
 	ln -sf $(PREFIX)/$(TARGET-NAME)/bin/txt2bitm$(EXEEXT) $(PREFIX)/bin/txt2bitm$(EXEEXT)
 	ln -sf $(PREFIX)/$(TARGET-NAME)/bin/obj-res$(EXEEXT) $(PREFIX)/bin/$(TARGET-NAME)-obj-res$(EXEEXT)
@@ -156,19 +155,19 @@
 gnutools: stamp.binutils stamp.gcc stamp.gdb
 
 stamp.binutils:
-	cd $(BINUTILSDIR) ; ./configure --host=$(HOST) --prefix=$(PREFIX) --target=$(TARGET-NAME)
+	cd $(BINUTILSDIR) ; ./configure --prefix=$(PREFIX) --target=$(TARGET-NAME) -host=$(MACHINE_ARCH)-unknown-freebsd
 	cd $(BINUTILSDIR) ; make
 	cd $(BINUTILSDIR) ; make install
 	touch $@
 
 stamp.gcc:
-	cd $(GCCDIR) ; ./configure --host=$(HOST) --prefix=$(PREFIX) --target=$(TARGET-NAME)
+	cd $(GCCDIR) ; ./configure --prefix=$(PREFIX) --target=$(TARGET-NAME) --host=$(MACHINE_ARCH)-unknown-freebsd
 	cd $(GCCDIR) ; make LANGUAGES=c
 	cd $(GCCDIR) ; make LANGUAGES=c install
 	touch $@
 
 stamp.gdb:
-	cd $(GDBDIR) ; ./configure --host=$(HOST) --prefix=$(PREFIX) --target=$(TARGET-NAME)
+	cd $(GDBDIR) ; ./configure --prefix=$(PREFIX) --target=$(TARGET-NAME) --host=$(MACHINE_ARCH)-unknown-freebsd
 	cd $(GDBDIR) ; make
 	cd $(GDBDIR) ; make install
 	touch $@

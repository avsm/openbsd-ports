$OpenBSD: patch-configure,v 1.12 2001/12/22 03:54:44 brad Exp $
--- configure.orig	Thu Nov 29 08:52:35 2001
+++ configure	Mon Dec 10 12:39:20 2001
@@ -3002,7 +3002,7 @@ else
   ;;
 esac
 fi
-HOSTNAME="$ac_cv_path_HOSTNAME"
+HOSTNAME="$ac_cv_path_HOSTNAME -s"
 if test -n "$HOSTNAME"; then
   echo "$ac_t""$HOSTNAME" 1>&6
 else
@@ -3136,38 +3136,7 @@ fi
 echo $ac_n "checking "how to check if pid exists"""... $ac_c" 1>&6
 echo "configure:3138: checking "how to check if pid exists"" >&5
 PS=$ac_cv_path_PS
-# Linux style
-if $PS p $$ 2> /dev/null | grep $0 > /dev/null
-then
-  FIND_PROC="$PS p \$\$PID | grep mysqld > /dev/null"
-# Solaris
-elif $PS -p $$ 2> /dev/null | grep $0 > /dev/null
-then
-  FIND_PROC="$PS -p \$\$PID | grep mysqld > /dev/null"
-# BSD style
-elif $PS -uaxww 2> /dev/null | grep $0 > /dev/null
-then
-  FIND_PROC="$PS -uaxww | grep mysqld | grep \" \$\$PID \" > /dev/null"
-# SysV style
-elif $PS -ef 2> /dev/null | grep $0 > /dev/null
-then
-  FIND_PROC="$PS -ef | grep mysqld | grep \" \$\$PID \" > /dev/null"
-# Do anybody use this?
-elif $PS $$ 2> /dev/null | grep $0 > /dev/null
-then
-  FIND_PROC="$PS \$\$PID | grep mysqld > /dev/null"
-else
-  case $SYSTEM_TYPE in
-    *darwin*)
-      FIND_PROC="$PS -uaxww | grep mysqld | grep \" \$\$PID \" > /dev/null"
-      ;;
-    *cygwin*)
-      FIND_PROC="$PS -e | grep mysqld | grep \" \$\$PID \" > /dev/null"
-      ;;
-    *)
-      { echo "configure: error: Could not find the right ps switches. Which OS is this ?. See the Installation chapter in the Reference Manual." 1>&2; exit 1; }
-  esac
-fi
+FIND_PROC="$PS -uaxww | grep mysqld | grep \" \$\$PID \" > /dev/null"
 
 echo "$ac_t"""$FIND_PROC"" 1>&6
 
@@ -5025,6 +4994,7 @@ else
   cat > conftest.$ac_ext <<EOF
 #line 5027 "configure"
 #include "confdefs.h"
+#include <stdio.h>
 #include <tcpd.h>
 EOF
 ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
@@ -5050,6 +5020,7 @@ echo "configure:5050: checking for TCP w
       cat > conftest.$ac_ext <<EOF
 #line 5052 "configure"
 #include "confdefs.h"
+#include <stdio.h>
 #include <tcpd.h>
 int allow_severity = 0;
 int deny_severity  = 0;
@@ -5991,8 +5962,6 @@ if eval "test \"`echo '$ac_cv_lib_'$ac_l
 #define $ac_tr_lib 1
 EOF
 
-  LIBS="-lc_r $LIBS"
-
 else
   echo "$ac_t""no" 1>&6
 fi
@@ -6222,29 +6191,6 @@ EOF
 
 fi
 
-
-# Build optimized or debug version ?
-# First check for gcc and g++
-if test "$ac_cv_prog_gcc" = "yes"
-then
-  DEBUG_CFLAGS="-g"
-  DEBUG_OPTIMIZE_CC="-O"
-  OPTIMIZE_CFLAGS="$MAX_C_OPTIMIZE"
-else
-  DEBUG_CFLAGS="-g"
-  DEBUG_OPTIMIZE_CC=""
-  OPTIMIZE_CFLAGS="-O"
-fi
-if test "$ac_cv_prog_cxx_g" = "yes"
-then
-  DEBUG_CXXFLAGS="-g"
-  DEBUG_OPTIMIZE_CXX="-O"
-  OPTIMIZE_CXXFLAGS="-O3"
-else
-  DEBUG_CXXFLAGS="-g"
-  DEBUG_OPTIMIZE_CXX=""
-  OPTIMIZE_CXXFLAGS="-O"
-fi
 # Check whether --with-debug or --without-debug was given.
 if test "${with_debug+set}" = set; then
   withval="$with_debug"

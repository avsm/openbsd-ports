$OpenBSD: patch-gpu_demos_framework_main_pepper_cc,v 1.2 2011/03/15 11:38:05 robert Exp $
--- gpu/demos/framework/main_pepper.cc.orig	Mon Mar 14 11:48:35 2011
+++ gpu/demos/framework/main_pepper.cc	Mon Mar 14 11:48:53 2011
@@ -97,7 +97,7 @@ NPError NPP_GetValue(NPP instance, NPPVariable variabl
   NPError err = NPERR_NO_ERROR;
 
   switch (variable) {
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_OPENBSD)
     case NPPVpluginNameString:
       *(static_cast<const char**>(value)) = "Pepper GPU Demo";
       break;
@@ -153,14 +153,14 @@ EXPORT NPError API_CALL NP_GetEntryPoints(NPPluginFunc
 }
 
 EXPORT NPError API_CALL NP_Initialize(NPNetscapeFuncs* browser_funcs
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_OPENBSD)
                                      , NPPluginFuncs* plugin_funcs
 #endif  // OS_LINUX
                                      ) {
   gpu::demos::g_browser = browser_funcs;
   pglInitialize();
 
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_OPENBSD)
   NP_GetEntryPoints(plugin_funcs);
 #endif  // OS_LINUX
   return NPERR_NO_ERROR;
@@ -170,7 +170,7 @@ EXPORT void API_CALL NP_Shutdown() {
   pglTerminate();
 }
 
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_OPENBSD)
 EXPORT NPError API_CALL NP_GetValue(NPP instance, NPPVariable variable,
                                     void* value) {
   return gpu::demos::NPP_GetValue(instance, variable, value);

$OpenBSD: patch-src_libical_icalderivedproperty_c,v 1.1 2010/09/07 10:38:40 jasper Exp $

Fix build with gcc2.

--- src/libical/icalderivedproperty.c.orig	Mon Sep  6 06:39:19 2010
+++ src/libical/icalderivedproperty.c	Mon Sep  6 06:42:07 2010
@@ -1373,6 +1373,9 @@ void icalproperty_set_exdate(icalproperty* prop, struc
     icalproperty_set_value(prop,value);
 }
 struct icaltimetype icalproperty_get_exdate(const icalproperty* prop){
+	struct icaltimetype itt;
+	icalparameter* param;
+
 	icalerror_check_arg( (prop!=0),"prop");
 #ifndef _MSC_VER
         /*
@@ -1381,10 +1384,8 @@ struct icaltimetype icalproperty_get_exdate(const ical
 	 * it doesnot work automatically like in the other functions 
 	 * like icalproperty_get_dtstart().
 	 */
-	struct icaltimetype itt =
-		icalvalue_get_datetime(icalproperty_get_value(prop));
-	icalparameter* param = icalproperty_get_first_parameter(prop,
-								ICAL_TZID_PARAMETER);
+	itt = icalvalue_get_datetime(icalproperty_get_value(prop));
+	param = icalproperty_get_first_parameter(prop, ICAL_TZID_PARAMETER);
 	if (param) {
 	        const icaltimezone *zone =
 		        icaltimezone_get_builtin_timezone(icalparameter_get_tzid(param));

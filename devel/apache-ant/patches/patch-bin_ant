$OpenBSD: patch-bin_ant,v 1.4 2006/08/01 20:01:15 kurt Exp $
--- bin/ant.orig	Thu Jun  2 09:15:34 2005
+++ bin/ant	Tue Aug  1 11:36:20 2006
@@ -117,29 +117,14 @@ if $cygwin ; then
 fi
 
 # set ANT_LIB location
-ANT_LIB="${ANT_HOME}/lib"
+ANT_LIB="_antlibs_"
 
-if [ -z "$JAVACMD" ] ; then
-  if [ -n "$JAVA_HOME"  ] ; then
-    if [ -x "$JAVA_HOME/jre/sh/java" ] ; then
-      # IBM's JDK on AIX uses strange locations for the executables
-      JAVACMD="$JAVA_HOME/jre/sh/java"
-    else
-      JAVACMD="$JAVA_HOME/bin/java"
-    fi
-  else
-    JAVACMD=`which java 2> /dev/null `
-    if [ -z "$JAVACMD" ] ; then
-        JAVACMD=java
-    fi
-  fi
-fi
+JAVACMD=$(javaPathHelper -c apache-ant)
 
-if [ ! -x "$JAVACMD" ] ; then
-  echo "Error: JAVA_HOME is not defined correctly."
-  echo "  We cannot execute $JAVACMD"
-  exit 1
+if [ -z "${JAVACMD}" ]; then
+    exit 1
 fi
+
 
 # Build local classpath using just the launcher in non-rpm mode or
 # use the Jpackage helper in rpm mode with basic and default jars

$OpenBSD: patch-protocols_oscar_chat_c,v 1.2 2007/11/19 11:44:33 martynas Exp $
--- protocols/oscar/chat.c.orig	Mon Aug 20 16:27:15 2007
+++ protocols/oscar/chat.c	Mon Nov 19 13:39:01 2007
@@ -204,7 +204,7 @@ int aim_chat_join(aim_session_t *sess, aim_conn_t *con
 
 	memset(&csi, 0, sizeof(csi));
 	csi.exchange = exchange;
-	strncpy(csi.name, roomname, sizeof(csi.name));
+	strlcpy(csi.name, roomname, sizeof(csi.name));
 	csi.instance = instance;
 
 	snacid = aim_cachesnac(sess, 0x0001, 0x0004, 0x0000, &csi, sizeof(csi));
@@ -681,7 +681,7 @@ int chat_modfirst(aim_session_t *sess, aim_module_t *m
 	mod->toolid = 0x0010;
 	mod->toolversion = 0x0629;
 	mod->flags = 0;
-	strncpy(mod->name, "chat", sizeof(mod->name));
+	strlcpy(mod->name, "chat", sizeof(mod->name));
 	mod->snachandler = snachandler;
 
 	return 0;

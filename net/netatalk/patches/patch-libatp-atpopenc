--- libatalk/atp/atp_open.c.orig	Sun Oct  5 02:36:53 1997
+++ libatalk/atp/atp_open.c	Thu Nov 18 15:51:41 1999
@@ -27,9 +27,11 @@
 #include <sys/param.h>
 #include <netatalk/at.h>
 #include <atalk/atp.h>
+#include <string.h>
+#include <unistd.h>
 
 ATP atp_open( port )
-    u_char		port;
+    u_int8_t		port;
 {
     int			s;
     ATP			atp;
@@ -51,7 +53,7 @@
     }
 
     /* initialize the atp handle */
-    bzero( (char *) atp, sizeof( struct atp_handle ));
+    memset( (char *) atp, 0, sizeof( struct atp_handle ));
 #ifdef BSD4_4
     atp->atph_saddr.sat_len = sizeof( struct sockaddr_at );
 #endif BSD4_4

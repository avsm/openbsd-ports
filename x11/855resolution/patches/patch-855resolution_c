$OpenBSD: patch-855resolution_c,v 1.1.1.1 2005/08/09 20:14:27 sturm Exp $
--- 855resolution.c.orig	Wed Aug  3 17:47:56 2005
+++ 855resolution.c	Wed Aug  3 17:52:10 2005
@@ -15,7 +15,13 @@
 #include <stdlib.h>
 #include <string.h>
 #include <unistd.h>
+#if defined(__OpenBSD__)
+#include <i386/sysarch.h>
+#define IOPL(x) i386_iopl(x)
+#else
 #include <sys/io.h>
+#define IOPL(x) iopl(x)
+#endif
 
 #include "vbios.h"
 #include "plugin.h"
@@ -157,7 +163,7 @@ int list, plugins, mode, x, y;
 		display_plugins();
 	}
 	
-    if(iopl(3) < 0) {
+    if(IOPL(3) < 0) {
         perror("Unable to obtain the proper IO permissions");
         return 2;
     }

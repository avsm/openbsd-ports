$OpenBSD: patch-source_cdindex_c,v 1.1 2003/04/14 09:47:46 avsm Exp $
--- source/cdindex.c.orig	Mon Apr 14 10:06:46 2003
+++ source/cdindex.c	Mon Apr 14 10:07:43 2003
@@ -878,7 +878,7 @@ cdindex_http_submit(int cd_desc, struct 
    strncpy(outbuffer, "Content-Type: text/plain\n", 512);
    write(sock, outbuffer, strlen(outbuffer));
    
-   snprintf(cdindex_file, 512, "%s/.cdindex/%s",
+   snprintf(cdindex_file, sizeof cdindex_file, "%s/.cdindex/%s",
 	    getenv("HOME"), entry.entry_cdindex_id);
    stat(cdindex_file, &st);
    

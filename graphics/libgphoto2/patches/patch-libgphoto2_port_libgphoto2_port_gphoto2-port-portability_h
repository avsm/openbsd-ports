$OpenBSD: patch-libgphoto2_port_libgphoto2_port_gphoto2-port-portability_h,v 1.3 2004/01/16 01:10:47 brad Exp $
--- libgphoto2_port/libgphoto2_port/gphoto2-port-portability.h.orig	2003-10-19 12:53:17.000000000 -0400
+++ libgphoto2_port/libgphoto2_port/gphoto2-port-portability.h	2003-12-28 21:56:40.000000000 -0500
@@ -60,8 +60,8 @@ typedef struct {
 
 /* Dynamic library functions */
 #define GP_SYSTEM_DLOPEN(_filename)		dlopen(_filename, RTLD_LAZY)
-#if defined(__APPLE__)
-	/* Darwin prepends underscores to symbols */
+#if defined(__APPLE__) || (defined(__OpenBSD__) && !defined(__ELF__))
+	/* prepend an underscore to symbols */
 #define GP_SYSTEM_DLSYM(_handle, _funcname)	dlsym(_handle, "_" _funcname)
 #else
 #define GP_SYSTEM_DLSYM(_handle, _funcname)	dlsym(_handle, _funcname)

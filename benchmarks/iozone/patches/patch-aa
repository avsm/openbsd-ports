--- makefile.orig	Wed Sep  8 10:41:01 1999
+++ makefile	Fri Sep 10 20:21:23 1999
@@ -6,7 +6,7 @@
 #
 # Supports:	hpux, hpux_no_ansi, hpux-10.1, hpux_no_ansi-10.1,
 #		sppux, sppux-10.1, ghpux, sppux, 
-#		convex, FreeBSD
+#		convex, FreeBSD, OpenBSD
 
 
 all:  
@@ -15,6 +15,7 @@
 	@echo "\t->   AIX                  (32bit)   <-"
 	@echo "\t->   convex               (32bit)   <-" 
 	@echo "\t->   freebsd              (32bit)   <-"
+	@echo "\t->   openbsd              (32bit)   <-"
 	@echo "\t->   generic              (32bit)   <-"
 	@echo "\t->   ghpux                (32bit)   <-"
 	@echo "\t->   hpuxs-11.0 (simple)  (32bit)   <-"
@@ -205,6 +206,15 @@
 freebsd: iozone_freebsd.o libbif.o
 	cc -O -Dunix -DHAVE_ANSIC_C -DNO_THREADS -DSHARED_MEM \
 		iozone_freebsd.o libbif.o -o iozone
+
+#
+# GNU C compiler OpenBSD build with no threads, no largefiles, no async I/O
+#
+
+openbsd: iozone_openbsd.o libbif.o
+	cc -O -Dunix -DHAVE_ANSIC_C -DNO_THREADS -DSHARED_MEM \
+		iozone_openbsd.o libbif.o -o iozone
+
 #
 #
 # Now for the machine specific stuff
@@ -433,3 +443,11 @@
 	cc -c -O -Dunix -Dbsd4_2 -DHAVE_ANSIC_C -DNO_THREADS \
 		-DSHARED_MEM libbif.c -o libbif.o
 
+iozone_openbsd.o: iozone.c libbif.c
+	@echo ""
+	@echo "Build Iozone for OpenBSD"
+	@echo ""
+	cc -c -O -Dunix -Dbsd4_4 -DHAVE_ANSIC_C -DNO_THREADS \
+		-DSHARED_MEM iozone.c -o iozone_openbsd.o
+	cc -c -O -Dunix -Dbsd4_4 -DHAVE_ANSIC_C -DNO_THREADS \
+		-DSHARED_MEM libbif.c -o libbif.o

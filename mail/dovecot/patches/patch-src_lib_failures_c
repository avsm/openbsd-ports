$OpenBSD: patch-src_lib_failures_c,v 1.3 2010/09/17 22:00:18 sthen Exp $
--- src/lib/failures.c.orig	Fri Sep 17 09:48:50 2010
+++ src/lib/failures.c	Fri Sep 17 09:50:37 2010
@@ -81,7 +81,6 @@ static int log_fd_write(int fd, const unsigned char *d
 	struct ioloop *ioloop;
 	struct io *io;
 	ssize_t ret;
-	unsigned int eintr_count = 0;
 
 	while ((ret = write(fd, data, len)) != (ssize_t)len) {
 		if (ret > 0) {
@@ -95,9 +94,9 @@ static int log_fd_write(int fd, const unsigned char *d
 			errno = ENOSPC;
 			return -1;
 		}
-		if (errno == EINTR && ++eintr_count < 3) {
+		if (errno == EINTR) {
 			/* we don't want to die because of this.
-			   try again a couple of times. */
+			   especially SIGCHLD signals can be coming rapidly. */
 			continue;
 		}
 		if (errno != EAGAIN)

$OpenBSD: patch-sqlplusint_resiter1_hh,v 1.1 2004/01/06 11:16:53 wilfried Exp $
--- sqlplusint/resiter1.hh.orig	2001-05-19 18:44:48.000000000 +0200
+++ sqlplusint/resiter1.hh	2004-01-05 18:58:54.000000000 +0100
@@ -3,7 +3,7 @@
 
 #include "defs"
 #include "row1.hh"
-#include <iterator.h>
+#include <iterator>
 
 template <class OnType, class ReturnType, class SizeType, class DiffType>
 class subscript_iterator;
@@ -22,8 +22,8 @@ public:
   typedef subscript_iterator<const this_type, ReturnType, SizeType, DiffType> 
                                                  iterator;   //:
   typedef iterator                               const_iterator; //:
-  typedef const ::reverse_iterator<iterator>       reverse_iterator; //:
-  typedef const ::reverse_iterator<const_iterator> const_reverse_iterator; //:
+  typedef const std::reverse_iterator<iterator>       reverse_iterator; //:
+  typedef const std::reverse_iterator<const_iterator> const_reverse_iterator; //:
   
   typedef ValueType   value_type; //:
   typedef value_type& reference;  //:
@@ -47,6 +47,17 @@ public:
   reverse_iterator rend()   const {return reverse_iterator(begin());} //:
 };
 
+#if __GNUC__ > 2
+template<typename _Tp, typename _Distance>
+  struct random_access_iterator {
+    typedef std::random_access_iterator_tag iterator_category;
+    typedef _Tp                        value_type;
+    typedef _Distance                  difference_type;
+    typedef _Tp*                       pointer;
+    typedef _Tp&                       reference;
+  };
+#endif
+
 //:
 template <class OnType, class ReturnType, class SizeType, class DiffType>
 class subscript_iterator : public random_access_iterator<ReturnType, SizeType>

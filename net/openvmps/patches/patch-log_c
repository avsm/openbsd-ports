$OpenBSD: patch-log_c,v 1.1.1.1 2007/09/07 16:18:28 ajacoutot Exp $
--- log.c.orig	Fri Sep  7 17:44:42 2007
+++ log.c	Fri Sep  7 17:45:33 2007
@@ -27,11 +27,10 @@ void vmps_log(const int level, const char *fmt, ...)
 			log_opened = 1;
 		}
 		vsnprintf(str, 256, fmt, ap);
-		syslog(LOG_INFO, str);
+		syslog(LOG_INFO, "%s", str);
 
 		if ( debug ) { 
-			fprintf(stderr,str);
-			fprintf(stderr,"\n");
+			fprintf(stderr,"%s\n", str);
 		}
 			 
 		va_end(ap);

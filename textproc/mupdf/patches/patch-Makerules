$OpenBSD: patch-Makerules,v 1.2 2010/09/03 12:38:19 sthen Exp $
--- Makerules.orig	Wed Aug 25 15:12:08 2010
+++ Makerules	Sun Aug 29 12:34:26 2010
@@ -4,8 +4,8 @@ OS ?= $(shell uname)
 OS := $(OS:MINGW%=MINGW)
 
 CC ?= cc
-CFLAGS := -Ifitz -Imupdf -Wall
-LDFLAGS :=
+CFLAGS += -Ifitz -Imupdf -Wall
+LDFLAGS +=
 
 ifeq "$(build)" "debug"
 CFLAGS += -pipe -g
@@ -46,6 +46,15 @@ else
 CFLAGS += -m32
 LDFLAGS += -m32
 endif
+endif
+
+ifeq "$(OS)" "OpenBSD"
+ifeq "$(freetype_dir)" ""
+CFLAGS += `pkg-config --cflags freetype2`
+LDFLAGS += `pkg-config --libs freetype2`
+endif
+X11LIBS = -lX11 -lXext
+PDFVIEW_EXE = $(X11VIEW_EXE)
 endif
 
 # MinGW build depends on thirdparty libs

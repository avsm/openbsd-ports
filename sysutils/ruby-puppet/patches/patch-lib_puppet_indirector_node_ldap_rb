$OpenBSD: patch-lib_puppet_indirector_node_ldap_rb,v 1.1 2010/11/04 07:20:57 robert Exp $
--- lib/puppet/indirector/node/ldap.rb.orig	Fri Oct 29 00:15:08 2010
+++ lib/puppet/indirector/node/ldap.rb	Fri Oct 29 00:15:57 2010
@@ -174,6 +174,14 @@ class Puppet::Node::Ldap < Puppet::Indirector::Ldap
     parent_info = name2hash(parent) || raise(Puppet::Error.new("Could not find parent node '#{parent}'"))
     information[:classes] += parent_info[:classes]
     parent_info[:parameters].each do |param, value|
+      if (param =~ /^puppet[^class].*$/)
+          if information[:parameters][param].kind_of? String
+              information[:parameters][param] = information[:parameters][param].split("\n")
+          end
+          if information[:parameters][param]
+              information[:parameters][param] += parent_info[:parameters][param].to_a
+          end
+      end
       # Specifically test for whether it's set, so false values are handled correctly.
       information[:parameters][param] = value unless information[:parameters].include?(param)
     end

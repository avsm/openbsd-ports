--- configure.in.orig	Tue May  7 11:06:52 2002
+++ configure.in	Tue May  7 11:10:11 2002
@@ -868,7 +868,21 @@
 			SONAMEFLAG="-Wl,-h,"
 			PICFLAG="-KPIC"   # Is this correct for SunOS
 		;;
-		*bsd*)  BLDSHARED="true"
+		*openbsd*)
+			BLDSHARED="true"
+			case "$host_os" in
+			*openbsd[[01]].* | *openbsd2.[[0-7]] | *openbsd2.[[0-7]].*)
+				SHLD="ld"
+				LDSHFLAGS="-Bshareable"
+				;;
+			*)
+				LDSHFLAGS="-shared -fPIC"
+				;;
+			esac
+			PICFLAG="-fPIC"
+			AC_DEFINE(STAT_ST_BLOCKSIZE,512)
+		;;
+		*freebsd* | *netbsd*)  BLDSHARED="true"
 			LDSHFLAGS="-shared"
 			SONAMEFLAG="-Wl,-soname,"
 			PICFLAG="-fPIC"

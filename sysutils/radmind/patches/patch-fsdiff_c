$OpenBSD: patch-fsdiff_c,v 1.3 2007/04/01 07:08:39 steven Exp $
--- fsdiff.c.orig	Thu Jan 20 23:17:25 2005
+++ fsdiff.c	Sun Apr  1 08:18:32 2007
@@ -59,13 +59,7 @@ fs_walk( char *path, int start, int finish ) 
 	    }
 
 	    if ( ischild( tran->t_pinfo.pi_name, path )) {
-		/*
-		 * XXX
-		 * This strcpy() is not itself dangerous, because pi_name
-		 * is a MAXPATHLEN-sized buffer.  However, it does not appear
-		 * that copies into pi_name are carefully checked.
-		 */
-		strcpy( temp, tran->t_pinfo.pi_name );
+		(void)strlcpy( temp, tran->t_pinfo.pi_name, sizeof( temp ) );
 		fs_walk( temp, start, finish );
 	    } else {
 		return;

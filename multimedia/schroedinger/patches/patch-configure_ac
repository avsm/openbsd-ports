$OpenBSD: patch-configure_ac,v 1.2 2010/08/25 23:25:36 sthen Exp $
--- configure.ac.orig	Thu Mar  4 04:02:18 2010
+++ configure.ac	Wed Jul 21 17:40:36 2010
@@ -79,7 +79,11 @@ THREAD_IMPL=${with_thread}
 AC_SUBST(THREAD_IMPL)
 
 if test "x${with_thread}" = "xpthread" ; then
-  case "$host_os" in 
+  case "$host_os" in
+    openbsd*)
+      PTHREAD_CFLAGS=
+      PTHREAD_LIBS=-pthread
+      ;;
     *)
       PTHREAD_CFLAGS=
       PTHREAD_LIBS=-lpthread
@@ -128,8 +132,6 @@ if test "x$SCHRO_CVS" = "xyes"
 then
   AS_COMPILER_FLAG(-Werror, SCHRO_CFLAGS="$SCHRO_CFLAGS -Werror")
 fi
-
-AS_COMPILER_FLAG(-O3, CFLAGS=`echo $CFLAGS | sed s/O2/O3/`)
 
 # Enable severe pain
 #AS_COMPILER_FLAGS(COMPANY_CFLAGS,"-Wextra -Wno-missing-field-initializers -Wno-unused-parameter -Wold-style-definition -Wdeclaration-after-statement -Wmissing-declarations -Wmissing-prototypes -Wredundant-decls -Wmissing-noreturn -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Winline -Wformat-nonliteral -Wformat-security -Wswitch-enum -Wswitch-default")

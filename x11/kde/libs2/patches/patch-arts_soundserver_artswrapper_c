--- arts/soundserver/artswrapper.c.orig	Fri Sep 29 14:34:01 2000
+++ arts/soundserver/artswrapper.c	Fri Sep 29 14:57:56 2000
@@ -3,7 +3,7 @@
 #include <sys/resource.h>
 #include <unistd.h>
 #include <string.h>
-#include <malloc.h>
+#include <stdlib.h>
 
 /*
  * adjust_priority
@@ -95,7 +95,12 @@ int main(int argc, char **argv)
 
 	/* drop root priviliges if running setuid root
 	   (due to realtime priority stuff) */
-	if (geteuid() != getuid()) setreuid(-1, getuid());
+	if (geteuid() != getuid()) 
+#ifdef HAVE_SETEUID
+		seteuid(getuid());
+#else
+		setreuid(-1, getuid());
+#endif
 
 	if(argc == 0)
 		return 1;

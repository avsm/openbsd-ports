--- gcc/tlink.c.orig	Tue Aug 31 21:51:58 1999
+++ gcc/tlink.c	Tue Aug 31 21:55:17 1999
@@ -654,7 +654,11 @@ scan_linker_output (fname)
 	      if (dem)
 		sym = symbol_hash_lookup (dem->mangled, false);
 	      else
-		sym = symbol_hash_lookup (p, false);
+	        {
+	          if (*p == '_' && prepends_underscore)
+		    ++p;
+		  sym = symbol_hash_lookup (p, false);
+		}
 	    }
 	}
 

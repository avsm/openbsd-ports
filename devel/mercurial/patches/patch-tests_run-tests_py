$OpenBSD: patch-tests_run-tests_py,v 1.1 2008/03/26 20:43:44 landry Exp $
--- tests/run-tests.py.orig	Mon Mar 24 18:05:21 2008
+++ tests/run-tests.py	Wed Mar 26 09:19:26 2008
@@ -22,7 +22,7 @@ import time
 SKIPPED_STATUS = 80
 SKIPPED_PREFIX = 'skipped: '
 
-required_tools = ["python", "diff", "grep", "unzip", "gunzip", "bunzip2", "sed"]
+required_tools = ["diff", "grep", "unzip", "gunzip", "bunzip2", "sed"]
 
 defaults = {
     'jobs': ('HGTEST_JOBS', 1),
@@ -73,6 +73,8 @@ parser.set_defaults(**defaults)
 verbose = options.verbose
 coverage = options.cover or options.cover_stdlib or options.annotate
 python = sys.executable
+
+required_tools.insert(0, os.path.basename(python))
 
 if options.jobs < 1:
     print >> sys.stderr, 'ERROR: -j/--jobs must be positive'

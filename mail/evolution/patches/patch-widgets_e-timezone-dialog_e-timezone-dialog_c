$OpenBSD: patch-widgets_e-timezone-dialog_e-timezone-dialog_c,v 1.7 2009/10/13 22:07:04 jasper Exp $
--- widgets/e-timezone-dialog/e-timezone-dialog.c.orig	Tue Oct 13 15:25:09 2009
+++ widgets/e-timezone-dialog/e-timezone-dialog.c	Tue Oct 13 15:25:50 2009
@@ -321,7 +321,6 @@ e_timezone_dialog_construct (ETimezoneDialog *etd)
 	return NULL;
 }
 
-#if 0
 static gint
 get_local_offset (void)
 {
@@ -334,10 +333,11 @@ get_local_offset (void)
 	t_gmt = mktime (&gmt);
 	t_local = mktime (&local);
 	diff = t_local - t_gmt;
+	if (local.tm_isdst == 1)
+		diff += 3600;
 
 	return diff;
 }
-#endif
 
 static icaltimezone*
 get_local_timezone(void)

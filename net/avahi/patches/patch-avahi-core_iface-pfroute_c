$OpenBSD: patch-avahi-core_iface-pfroute_c,v 1.3 2009/06/26 22:12:20 ajacoutot Exp $
--- avahi-core/iface-pfroute.c.orig	Fri Dec 12 22:36:15 2008
+++ avahi-core/iface-pfroute.c	Thu Jun 25 21:31:39 2009
@@ -48,6 +48,13 @@
 #include "iface-pfroute.h"
 #include "util.h"
 
+#if defined(__NetBSD__) || defined(__OpenBSD__)
+#define lifreq if_laddrreq
+#define lifr_addr iflr_addr
+#define lifr_flags iflr_flags
+#define SIOCGLIFFLAGS SIOCGIFFLAGS
+#endif
+
 static int bitcount (unsigned int n)  
 {  
   int count=0 ;
@@ -242,8 +249,10 @@ static void parse_rtmsg(struct rt_msghdr *rtm, AvahiIn
   assert(rtm);
   
   if (rtm->rtm_version != RTM_VERSION) {
+#ifndef __OpenBSD__
     avahi_log_warn("routing message version %d not understood",
 		   rtm->rtm_version);
+#endif
     return;
   }
 

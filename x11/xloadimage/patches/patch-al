*** window.c.orig	Tue Dec  9 21:33:33 1997
--- window.c	Tue Dec  9 22:01:03 1997
***************
*** 234,240 ****
      cmap_windows[0]= ImageWindow;
      cmap_windows[1]= ViewportWin;
      XChangeProperty(disp, ViewportWin, cmap_atom, XA_WINDOW, 32,
! 		    PropModePrepend, cmap_windows, 2);
    }
  
  }
--- 234,240 ----
      cmap_windows[0]= ImageWindow;
      cmap_windows[1]= ViewportWin;
      XChangeProperty(disp, ViewportWin, cmap_atom, XA_WINDOW, 32,
! 		    PropModePrepend, (unsigned char *) cmap_windows, 2);
    }
  
  }
***************
*** 674,680 ****
      delete_atom = XInternAtom(disp, "WM_DELETE_WINDOW", False);
      if ((proto_atom != None) && (delete_atom != None))
        XChangeProperty(disp, ViewportWin, proto_atom, XA_ATOM, 32,
! 		      PropModePrepend, &delete_atom, 1);
     paint= 0;
    }
    else {
--- 674,680 ----
      delete_atom = XInternAtom(disp, "WM_DELETE_WINDOW", False);
      if ((proto_atom != None) && (delete_atom != None))
        XChangeProperty(disp, ViewportWin, proto_atom, XA_ATOM, 32,
! 		      PropModePrepend, (unsigned char *) &delete_atom, 1);
     paint= 0;
    }
    else {
***************
*** 911,917 ****
        mousex= event.button.x;
        mousey= event.button.y;
        /*XSync(disp, False); */
!       while (XCheckTypedEvent(disp, MotionNotify, &event) == True) {
  	mousex= event.button.x;
  	mousey= event.button.y;
        }
--- 911,917 ----
        mousex= event.button.x;
        mousey= event.button.y;
        /*XSync(disp, False); */
!       while (XCheckTypedEvent(disp, MotionNotify, (XEvent *) &event) == True) {
  	mousex= event.button.x;
  	mousey= event.button.y;
        }

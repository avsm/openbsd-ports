$OpenBSD: patch-src_icq_response_c,v 1.5 2003/06/01 08:41:00 david Exp $
--- src/icq_response.c.orig	Thu May  8 07:03:34 2003
+++ src/icq_response.c	Fri May 23 17:22:16 2003
@@ -478,7 +478,7 @@ void Recv_Message (Connection *conn, Pac
     
     if (len - 1 == strlen (ctext) && ConvIsUTF8 (ctext))
         text = strdup (ConvToUTF8 (ctext, ENC_UTF8, -1, 1));
-    else if (type == MSG_NORM && len & 1)
+    else if (len - 1 != strlen (ctext) && type == MSG_NORM && len & 1)
         text = strdup (ConvToUTF8 (ctext, ENC_UCS2BE, len - 1, 1));
     else
         text = strdup (c_in_to (ctext, cont));

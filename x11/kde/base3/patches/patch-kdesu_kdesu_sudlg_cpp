$OpenBSD: patch-kdesu_kdesu_sudlg_cpp,v 1.2 2004/02/01 14:59:22 espie Exp $
--- kdesu/kdesu/sudlg.cpp.orig	2003-04-11 14:27:59.000000000 +0200
+++ kdesu/kdesu/sudlg.cpp	2004-01-21 01:23:41.000000000 +0100
@@ -14,10 +14,12 @@
 #include "sudlg.h"
 
 
-KDEsuDialog::KDEsuDialog(QCString user, QCString auth_user, bool enableKeep)
+KDEsuDialog::KDEsuDialog(QCString user, QCString auth_user, bool enableKeep, 
+    bool useSudo)
     : KPasswordDialog(Password, enableKeep, User1)
 {
     m_User = auth_user;
+    m_Sudo = useSudo;
     setCaption(i18n("Run as %1").arg(user));
 
     QString prompt;
@@ -43,6 +45,7 @@ bool KDEsuDialog::checkPassword(const ch
 {
     SuProcess proc;
     proc.setUser(m_User);
+    proc.setUseSudo(m_Sudo);
     int status = proc.checkInstall(password);
     switch (status)
     {

*** Makefile.orig	Tue May 27 09:50:36 1997
--- Makefile	Fri Jul  4 10:50:49 1997
***************
*** 4,11 ****
  DEBUG = -O2 -m486 -fno-strength-reduce -Wall -Wformat -Wstrict-prototypes -Wmissing-prototypes  
  CFLAGS = $(DEBUG)
  LIBS = 
! BINDIR = /usr/sbin
! MANDIR = /usr/man
  VERSION = 1.0.2
  #
  # this is the directory where the news is stored.
--- 4,11 ----
  DEBUG = -O2 -m486 -fno-strength-reduce -Wall -Wformat -Wstrict-prototypes -Wmissing-prototypes  
  CFLAGS = $(DEBUG)
  LIBS = 
! BINDIR = $(PREFIX)/sbin
! MANDIR = $(PREFIX)/man
  VERSION = 1.0.2
  #
  # this is the directory where the news is stored.
***************
*** 13,19 ****
  #
  # this is the directory where the configuration and group information is
  # kept.  It should preferably not be on the same partition as spooldir
! LIBDIR = /usr/lib/leafnode
  
  all: nntpd fetch texpire
  
--- 13,19 ----
  #
  # this is the directory where the configuration and group information is
  # kept.  It should preferably not be on the same partition as spooldir
! LIBDIR = $(PREFIX)/lib/leafnode
  
  all: nntpd fetch texpire
  
***************
*** 41,54 ****
  	cp texpire $(BINDIR)
  	cp *.8 $(MANDIR)/man8
  	-mkdir -p $(SPOOLDIR) $(LIBDIR)
! 	-mkdir -p $(SPOOLDIR)/{message.id,interesting.groups,out.going}
  	@echo This is actually quite fast, for _small_ servers.
! 	mkdir -p /var/spool/news/message.id/{0,1,2,3,4,5,6,7,8,9}{0,12,3,4,5,6,7,8,9}{0,1,2,3,4,5,6,7,8,9}
! 	cp config.example /usr/lib/leafnode/config
  	chown -R news.news $(LIBDIR) $(SPOOLDIR)
  	chmod 2750 $(SPOOLDIR)
! 	chmod 750 $(BINDIR)/{leafnode,fetch,texpire}
! 	chown news.news $(BINDIR)/{leafnode,fetch,texpire}
  	@echo edit /etc/inetd.conf to start $(BINDIR)/leafnode
  
  dist:
--- 41,54 ----
  	cp texpire $(BINDIR)
  	cp *.8 $(MANDIR)/man8
  	-mkdir -p $(SPOOLDIR) $(LIBDIR)
! 	-csh -c 'mkdir -p $(SPOOLDIR)/{message.id,interesting.groups,out.going}'
  	@echo This is actually quite fast, for _small_ servers.
! 	csh -c 'mkdir -p /var/spool/news/message.id/{0,1,2,3,4,5,6,7,8,9}{0,1,2,3,4,5,6,7,8,9}{0,1,2,3,4,5,6,7,8,9}'
! 	cp config.example $(LIBDIR)/config.example
  	chown -R news.news $(LIBDIR) $(SPOOLDIR)
  	chmod 2750 $(SPOOLDIR)
! 	csh -c 'chmod 750 $(BINDIR)/{leafnode,fetch,texpire}'
! 	csh -c 'chown news.news $(BINDIR)/{leafnode,fetch,texpire}'
  	@echo edit /etc/inetd.conf to start $(BINDIR)/leafnode
  
  dist:

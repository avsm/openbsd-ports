$OpenBSD: patch-configure,v 1.2 2010/03/27 14:41:15 ajacoutot Exp $
--- configure.orig	Tue Sep 22 02:58:43 2009
+++ configure	Sat Mar 27 15:14:27 2010
@@ -4336,7 +4336,7 @@ fi
 WFLAGS=
 if test "x$ac_cv_c_compiler_gnu" = xyes; then
   if test ${GXX_MAJOR} -lt 4 ; then
-    WFLAGS="-Wall -Wextra -Wstrict-aliasing=2 -Wfloat-equal -Wno-comment -Wno-unused"
+    WFLAGS="-Wall -Wfloat-equal -Wno-comment -Wno-unused"
   else
     WFLAGS="-Wall -Wextra -Winit-self -Wstrict-aliasing=2 -Wfloat-equal -Wno-comment -Wno-missing-field-initializers -Wno-unused"
 
@@ -4971,7 +4971,7 @@ STDCCFLAGS="$STDCCFLAGS -D__MACOSX__"
 
 
 
-          LDSOOPTS="-shared -Wl,-soname,\$(LIB_FILENAME_SHARED_PAT)"
+          LDSOOPTS="-shared -fPIC -Wl,-soname,\$(LIB_FILENAME_SHARED_PAT)"
 
           HAVE_RANLIB=yes
         ;;
@@ -5081,6 +5081,10 @@ fi
                solaris*)
                  opal_release_flags="-O3 -DSOLARIS"
                  opal_debug_flags="-g -D_DEBUG -DSOLARIS"
+               ;;
+               openbsd*)
+                 opal_release_flags=""
+                 opal_debug_flags="-g3 -ggdb -O0 -D_DEBUG"
                ;;
                *)
                  opal_release_flags="-Os"

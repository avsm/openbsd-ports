--- src/open.c.~1~	Mon Jul 27 12:05:01 1998
+++ src/open.c	Sat Aug 15 17:25:05 1998
@@ -629,11 +629,12 @@
 	char tempfile[PATH_LEN];
 	int count = 0;
 	struct stat sb;
+	int fdfd;
 
 	sprintf (tempfile, "%stin_nntpXXXXXX", TMPDIR);
-	mktemp (tempfile);
+	fdfd = mkstemp (tempfile);
 
-	if ((fp = fopen (tempfile, "w")) == (FILE *) 0) {
+	if ((fp = fdopen (fdfd, "w")) == (FILE *) 0) {
 		perror_message (txt_article_cannot_open, tempfile);
 		return ((FILE *) 0);
 	}

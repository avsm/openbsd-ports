$OpenBSD: patch-Makefile,v 1.1 2001/03/16 01:36:50 naddy Exp $
--- Makefile.orig	Thu Mar 15 17:34:57 2001
+++ Makefile	Fri Mar 16 01:00:31 2001
@@ -8,7 +8,7 @@ SOLARIS=0
 FREEBSD=0
 
 # explicit pcap include dir is for redhat which is fux0red
-CFLAGS=-g -I/usr/local/include -L/usr/local/lib -DUSE_NETIF=$(USE_NETIF) -DOPENBSD=$(OPENBSD) -DLINUX=$(LINUX) -DSOLARIS=$(SOLARIS) -DFREEBSD=$(FREEBSD) -I/usr/include/pcap
+CFLAGS+= -I$(LOCALBASE)/include -L$(LOCALBASE)/lib -DUSE_NETIF=$(USE_NETIF) -DOPENBSD=$(OPENBSD) -DLINUX=$(LINUX) -DSOLARIS=$(SOLARIS) -DFREEBSD=$(FREEBSD)
 
 usage:
 	@echo
@@ -35,17 +35,17 @@ solaris:
 	make USE_NETIF=0 SOLARIS=1 all
 
 install:
-	install -c arping /usr/local/bin/arping
-	install arping.8 /usr/local/man/man8/arping.8
+	$(BSD_INSTALL_PROGRAM) arping $(PREFIX)/sbin/arping
+	$(BSD_INSTALL_MAN) arping.8 $(PREFIX)/man/man8/arping.8
 
 all: $(TARGETS)
 
 arping.o: arping.c
-	gcc -Wall $(CFLAGS) -c `libnet-config --defines` `libnet-config --cflags` arping.c
+	$(CC) $(CFLAGS) -c `libnet-config --defines` `libnet-config --cflags` arping.c
 
 O_arping=arping.o
 arping: $(O_arping)
-	gcc $(CFLAGS) -g -o $@ $(O_arping) `libnet-config --libs` -lpcap
+	$(CC) $(CFLAGS) -o $@ $(O_arping) `libnet-config --libs` -lpcap
 
 clean:
 	rm -f *.o $(TARGETS)

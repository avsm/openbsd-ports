$OpenBSD: patch-cmsmtrx_c,v 1.1 2003/05/12 04:15:58 brad Exp $

This patch fixes assumptions made in different parts of the code
regarding the sizeof long and int. The original code appears to
use them interchangeably, even though it expects them to be 32-bit
wide.

--- cmsmtrx.c.orig	Tue Dec 31 11:32:40 2002
+++ cmsmtrx.c	Tue Dec 31 11:34:42 2002
@@ -738,9 +738,9 @@ void MAT3fromFix(LPMAT3 r, LPWMAT3 v)
 
 void VEC3scaleAndCut(LPWVEC3 r, LPVEC3 v, double d)
 {
-        r -> n[VX] = (int) floor(v -> n[VX] * d + .5);
-        r -> n[VY] = (int) floor(v -> n[VY] * d + .5);
-        r -> n[VZ] = (int) floor(v -> n[VZ] * d + .5);
+        r -> n[VX] = (icInt32Number) floor(v -> n[VX] * d + .5);
+        r -> n[VY] = (icInt32Number) floor(v -> n[VY] * d + .5);
+        r -> n[VZ] = (icInt32Number) floor(v -> n[VZ] * d + .5);
 }
 
 void MAT3scaleAndCut(LPWMAT3 r, LPMAT3 v, double d)

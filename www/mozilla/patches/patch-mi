--- nsprpub/config/FreeBSD.mk.orig	Wed Oct 20 14:19:53 1999
+++ nsprpub/config/FreeBSD.mk	Thu Dec 21 01:16:34 2000
@@ -21,24 +21,26 @@
 
 include $(MOD_DEPTH)/config/UNIX.mk
 
-CC			= gcc
-CCC			= g++
 RANLIB			= ranlib
+CCC				= ${CXX}
+
+# During FreeBSD port build, CFLAGS contains all of the optimizations
+# flags desired...
+OPTIMIZER		= $(MOZ_OPTIMIZE_FLAGS)
 
 ifeq ($(OS_TEST),alpha)
 CPU_ARCH		= alpha
 else
-OS_REL_CFLAGS		= -Di386
 CPU_ARCH		= x86
 endif
 CPU_ARCH_TAG		= _$(CPU_ARCH)
 
-OS_CFLAGS		= $(DSO_CFLAGS) $(OS_REL_CFLAGS) -ansi -Wall -pipe $(THREAD_FLAG) -DFREEBSD -DHAVE_STRERROR -DHAVE_BSD_FLOCK
+OS_CFLAGS		= $(DSO_CFLAGS) $(OS_REL_CFLAGS) -ansi -Wall -pipe -DFREEBSD -DHAVE_STRERROR -DHAVE_BSD_FLOCK
 
 ifeq ($(USE_PTHREADS),1)
 IMPL_STRATEGY		= _PTH
-DEFINES			+= -D_THREAD_SAFE
-THREAD_FLAG		+= -pthread
+DEFINES			+= -D_THREAD_SAFE -D_REENTRANT
+DSO_LDOPTS		+= -pthread
 else
 IMPL_STRATEGY		= _EMU
 DEFINES			+= -D_PR_LOCAL_THREADS_ONLY

$OpenBSD: patch-src_input_mms_c,v 1.5 2008/01/15 00:36:46 jakemsr Exp $
--- src/input/mms.c.orig	Tue Jan  1 08:30:08 2008
+++ src/input/mms.c	Wed Jan  9 01:50:22 2008
@@ -48,6 +48,7 @@
 #include <iconv.h>
 #include <locale.h>
 #include <langinfo.h>
+#include <localcharset.h>
 #endif
 
 /********** logging **********/
@@ -288,7 +289,7 @@ static int send_command (mms_t *this, int command,
 
 #ifdef USE_ICONV
 static iconv_t string_utf16_open() {
-    return iconv_open("UTF-16LE", nl_langinfo(CODESET));
+    return iconv_open("UTF-16LE", locale_charset());
 }
 
 static void string_utf16_close(iconv_t url_conv) {

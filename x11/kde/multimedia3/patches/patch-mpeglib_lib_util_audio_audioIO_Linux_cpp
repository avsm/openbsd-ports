$OpenBSD: patch-mpeglib_lib_util_audio_audioIO_Linux_cpp,v 1.3 2003/01/27 19:53:58 espie Exp $
--- mpeglib/lib/util/audio/audioIO_Linux.cpp.orig	Sun Oct 27 00:20:37 2002
+++ mpeglib/lib/util/audio/audioIO_Linux.cpp	Fri Jan  3 14:41:49 2003
@@ -30,6 +30,9 @@
 #elif defined(HAVE_MACHINE_SOUNDCARD_H) 
 	#undef AUSIZ
 	#include <machine/soundcard.h>
+#elif defined(HAVE_SOUNDCARD_H)
+	#undef AUSIZ
+	#include <soundcard.h>
 #elif defined(__NetBSD__)
 	#undef AUSIZ
 	#include <soundcard.h>
@@ -37,6 +40,9 @@
 	// fallback:
 	#include <linux/soundcard.h>
 #endif
+#ifdef __OpenBSD__
+#define AUDIO_DEVICE_NAME "/dev/audio"
+#endif
 
 
 /* optimal fragment size */
@@ -68,7 +74,7 @@ void audioDestruct() {
    should open the audio device, perform any special initialization	
 */
 int  audioOpen() {
-  audio_fd = open ("/dev/dsp", O_WRONLY, 0);
+  audio_fd = open (AUDIO_DEVICE_NAME, O_WRONLY, 0);
   if (audio_fd < 0)  {
     perror("Unable to open the audio");
   }

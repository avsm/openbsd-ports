$OpenBSD: patch-panel-plugin_memswap_c,v 1.2 2007/05/08 22:12:18 steven Exp $
--- panel-plugin/memswap.c.orig	Wed Jan 17 19:01:09 2007
+++ panel-plugin/memswap.c	Fri Apr  6 22:48:24 2007
@@ -288,7 +288,7 @@ gint read_memswap(gulong *mem, gulong *swap, gulong *M
         /* 64-bit datatype */
         if(sizeof(size_t) == 8) {
             mib[0] = CTL_HW;
-            mib[1] = HW_PHYSMEM64;
+            mib[1] = HW_PHYSMEM;
         }
         /* assume 32-bit datatype */
         else {
@@ -391,7 +391,7 @@ gint read_memswap(gulong *mem, gulong *swap, gulong *M
 #include <unistd.h>
 #include <uvm/uvm_param.h>
 
-static size_t MTotal = 0;
+static int MTotal = 0;
 static size_t MFree = 0;
 static size_t MUsed = 0;
 static size_t STotal = 0;
@@ -409,7 +409,7 @@ gint read_memswap(gulong *mem, gulong *swap, gulong *M
         /* 64-bit datatype */
         if(sizeof(size_t) == 8) {
             mib[0] = CTL_HW;
-            mib[1] = HW_PHYSMEM64;
+            mib[1] = HW_PHYSMEM;
         }
         /* assume 32-bit datatype */
         else {

$OpenBSD: patch-xpcom_reflect_xptcall_src_md_unix_xptcinvoke_asm_ppc_openbsd_s,v 1.1.1.1 2008/07/25 01:52:55 martynas Exp $
--- xpcom/reflect/xptcall/src/md/unix/xptcinvoke_asm_ppc_openbsd.s.orig	Sun Dec 23 01:57:11 2007
+++ xpcom/reflect/xptcall/src/md/unix/xptcinvoke_asm_ppc_openbsd.s	Wed Jul 16 03:44:01 2008
@@ -102,9 +102,7 @@ NS_InvokeByIndex_P:
 	lwz     r3,8(r31)			# r3 <= that
 	lwz     r4,12(r31)			# r4 <= methodIndex
 	lwz     r5,0(r3)			# r5 <= vtable ( == *that )
-#if !((__GNUC__ == 3 && __GNUC_MINOR__ < 2) || __GXX_ABI_VERSION  >= 100) # G++ pre-V3 ABI
-	addi	r4,r4,2				# skip first two vtable entries
-#endif
+	subi    r4,r4,2				# skip first two vtable entries
 	slwi    r4,r4,2				# convert to offset ( *= 4 )
 	lwzx    r0,r5,r4			# r0 <= methodpointer ( == vtable + offset )
 

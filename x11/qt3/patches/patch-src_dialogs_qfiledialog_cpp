$OpenBSD: patch-src_dialogs_qfiledialog_cpp,v 1.4 2003/04/05 14:45:19 espie Exp $
--- src/dialogs/qfiledialog.cpp.orig	Mon Feb 24 09:29:49 2003
+++ src/dialogs/qfiledialog.cpp	Sat Mar 22 18:01:06 2003
@@ -3182,7 +3182,7 @@ void QFileDialog::setDir( const QString 
 	    user = dr.mid( 1, i-1 ).local8Bit();
 	dr = dr.mid( i, dr.length() );
 	struct passwd *pw;
-#if defined(QT_THREAD_SUPPORT) && defined(_POSIX_THREAD_SAFE_FUNCTIONS) && !defined(Q_OS_FREEBSD)
+#if defined(QT_THREAD_SUPPORT) && defined(_POSIX_THREAD_SAFE_FUNCTIONS) && !defined(__OpenBSD__)
 	struct passwd mt_pw;
 	char buffer[2048];
 	if ( ::getpwnam_r( user, &mt_pw, buffer, 2048, &pw ) == 0 && pw == &mt_pw )

$OpenBSD: patch-xpcom_reflect_xptcall_src_md_unix_xptc_platforms_unixish_x86_h,v 1.2 2006/12/04 09:47:54 jolan Exp $
--- xpcom/reflect/xptcall/src/md/unix/xptc_platforms_unixish_x86.h.orig	Thu Feb 23 21:37:11 2006
+++ xpcom/reflect/xptcall/src/md/unix/xptc_platforms_unixish_x86.h	Mon Oct 30 18:18:44 2006
@@ -107,12 +107,16 @@
 #define THUNK_BASED_THIS_ADJUST
 
 #elif defined(__OpenBSD__) 
+#if __GNUC__ >= 3
+#define THUNK_BASED_THIS_ADJUST
+#else
 /* OpenBSD instroduces GCC 2.95.x in late May 1999 */
 #include <sys/param.h>
 #if OpenBSD <= 199905
 #define THUNK_BASED_THIS_ADJUST
 #else
 #define CFRONT_STYLE_THIS_ADJUST
+#endif
 #endif
 
 #elif defined(__bsdi__) 

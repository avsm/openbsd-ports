$OpenBSD: patch-nsprpub_pr_src_md_unix_uxrng_c,v 1.1 2010/04/26 19:55:58 landry Exp $
--- nsprpub/pr/src/md/unix/uxrng.c.orig	Thu Jan 21 05:31:00 2010
+++ nsprpub/pr/src/md/unix/uxrng.c	Sun Jan 24 00:25:49 2010
@@ -132,7 +132,11 @@ static PRCallOnceType coOpenDevURandom;
 
 static PRStatus OpenDevURandom( void )
 {
+#if defined(OPENBSD)
+    fdDevURandom = open( "/dev/arandom", O_RDONLY );
+#else
     fdDevURandom = open( "/dev/urandom", O_RDONLY );
+#endif
     return((-1 == fdDevURandom)? PR_FAILURE : PR_SUCCESS );
 } /* end OpenDevURandom() */
 

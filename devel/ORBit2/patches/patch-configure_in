$OpenBSD: patch-configure_in,v 1.2 2004/05/06 06:02:31 marcm Exp $
--- configure.in.orig	2004-04-21 08:05:24.000000000 -0700
+++ configure.in	2004-05-02 09:34:41.000000000 -0700
@@ -259,7 +259,18 @@ AC_HEADER_STDC
 AC_CHECK_HEADERS(fcntl.h unistd.h sys/endian.h endian.h machine/endian.h sys/machine.h sys/isa_defs.h sys/poll.h)
 AC_CHECK_HEADERS(stddef.h wchar.h wcstr.h wctype.h machine/types.h)
 AC_CHECK_HEADERS(netinet/in.h netinet/tcp.h sys/un.h)
-AC_CHECK_HEADERS(arpa/nameser.h resolv.h)
+AC_CHECK_HEADERS(arpa/nameser.h)
+AC_CHECK_HEADERS(resolv.h, [], [], [
+#if HAVE_SYS_TYPES_H
+#include <sys/types.h>
+#endif
+#if HAVE_NETINET_IN_H
+#include <netinet/in.h>
+#endif
+#if HAVE_ARPA_NAMESER_H
+#include <arpa/nameser.h>
+#endif
+])
 dnl AC_CHECK_HEADERS(linux/irda.h)
 
 dnl Checks for library functions.

$OpenBSD: patch-src_miners_fs_tracker-miner-files_c,v 1.1 2010/04/09 09:00:31 ajacoutot Exp $
--- src/miners/fs/tracker-miner-files.c.orig	Fri Apr  2 17:16:07 2010
+++ src/miners/fs/tracker-miner-files.c	Fri Apr  2 17:18:13 2010
@@ -20,10 +20,12 @@
 #include "config.h"
 
 #include <sys/statvfs.h>
+#ifndef __OpenBSD__
 #include <fcntl.h>
 #include <sys/ioctl.h>
 #include <linux/msdos_fs.h>
 #include <unistd.h>
+#endif
 
 #include <glib/gi18n.h>
 #include <glib/gstdio.h>
@@ -1777,6 +1779,7 @@ tracker_miner_files_check_directory (GFile  *file,
 	 */
 	is_hidden = file_info && g_file_info_get_is_hidden (file_info);
 
+#ifndef __OpenBSD__
 	/* Second we check if the file is on FAT and if the hidden
 	 * attribute is set. GIO does this but ONLY on a Windows OS,
 	 * not for Windows files under a Linux OS, so we have to check
@@ -1827,7 +1830,7 @@ tracker_miner_files_check_directory (GFile  *file,
 			goto done;
 		}
 	}
-
+#endif
 	/* Check module directory ignore patterns */
 	should_process = TRUE;
 

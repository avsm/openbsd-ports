$OpenBSD: patch-xvbrowse_c,v 1.1 2004/09/21 18:46:04 sturm Exp $
--- xvbrowse.c.orig	Tue Sep 21 06:49:17 2004
+++ xvbrowse.c	Tue Sep 21 06:50:28 2004
@@ -959,6 +959,7 @@ static void setBrowStr(br, str)
      char *str;
 {
   strncpy(br->dispstr, str, (size_t) 256);
+  br->dispstr[255] = '\0';
   drawBrowStr(br);
   XFlush(theDisp);
 }
@@ -1493,6 +1494,7 @@ static void drawIcon(br, num)
   if (StringWidth(str) > ISPACE_WIDE-6) {
     int dotpos; 
     strncpy(tmpstr, str, (size_t) 56);
+    tmpstr[56] = '\0'; /* MR: otherwise it dies on long file names */
     dotpos = strlen(tmpstr);
     strcat(tmpstr,"...");
 

$OpenBSD: patch-src_libtracker-db_tracker-db-journal_c,v 1.2 2010/04/23 09:57:25 ajacoutot Exp $
--- src/libtracker-db/tracker-db-journal.c.orig	Thu Apr 22 12:24:04 2010
+++ src/libtracker-db/tracker-db-journal.c	Fri Apr 23 10:04:21 2010
@@ -796,6 +796,15 @@ tracker_db_journal_reader_verify_last (GError **error)
 	return success;
 }
 
+#ifdef __OpenBSD__
+size_t
+strnlen (const char *string, size_t maxlen)
+{
+	const char *end = memchr (string, '\0', maxlen);
+	return end ? (size_t) (end - string) : maxlen;
+}
+#endif // __OpenBSD__
+
 gboolean
 tracker_db_journal_reader_next (GError **error)
 {

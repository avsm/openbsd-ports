$OpenBSD: patch-rf2500_c,v 1.4 2011/04/02 08:22:28 jasper Exp $

- usb_bulk_read() returns 0 on timeout, not -1

--- rf2500.c.orig	Sun Feb  6 23:55:37 2011
+++ rf2500.c	Sat Apr  2 10:03:14 2011
@@ -221,8 +221,12 @@ transport_t rf2500_open(const char *devpath)
 #ifndef __APPLE__
 	while (usb_bulk_read(tr->handle, USB_FET_IN_EP,
 			     buf, sizeof(buf),
+#if defined(__OpenBSD__)
+			     100) > 0);
+#else
 			     100) >= 0);
-#endif
+#endif /* __OpenBSD__ */
+#endif /* !__APPLE__ */
 
 	return (transport_t)tr;
 }

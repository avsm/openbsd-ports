$OpenBSD: patch-RULES_mk-gmake_id,v 1.1 2008/06/19 17:43:10 naddy Exp $
--- RULES/mk-gmake.id.orig	Tue Jun 10 16:56:16 2008
+++ RULES/mk-gmake.id	Tue Jun 10 16:56:53 2008
@@ -37,7 +37,7 @@ ifndef		ARCH_DONE
 
 __gmake_warn:=	$(shell cat $(SRCROOT)/$(RULESDIR)/gmake.wrn 1>&2; sleep 2)
 
-_MACHCMD=	(mach || uname -p || true)	2> /dev/null
+_MACHCMD=	(mach || machine || uname -p || true)	2> /dev/null
 _ARCHCMD=	(arch || /usr/ucb/arch || true)	2> /dev/null
 
 XP_ARCH:=	$(shell $(_MACHCMD) | tr '[A-Z]' '[a-z]' | tr ', /\\()"' ',//////' | tr ',/' ',\-')

$OpenBSD: patch-lib-src_libnyquist_xlisp_xlprin_c,v 1.1.1.1 2006/01/12 08:59:27 steven Exp $
--- lib-src/libnyquist/xlisp/xlprin.c.orig	Tue Jan 11 19:43:02 2005
+++ lib-src/libnyquist/xlisp/xlprin.c	Tue Jan 11 19:45:30 2005
@@ -245,7 +245,7 @@ LOCAL void putqstring(LVAL fptr, LVAL st
 void putatm(LVAL fptr, char *tag, LVAL val)
 {
     sprintf(buf,"#<%s: #",tag); xlputstr(fptr,buf);
-    sprintf(buf,AFMT,(int)val); xlputstr(fptr,buf);
+    sprintf(buf,AFMT,(unsigned long)val); xlputstr(fptr,buf);
     xlputc(fptr,'>');
 }
 
@@ -254,7 +254,7 @@ LOCAL void putsubr(LVAL fptr, char *tag,
 {
     sprintf(buf,"#<%s-%s: #",tag,funtab[getoffset(val)].fd_name);
     xlputstr(fptr,buf);
-    sprintf(buf,AFMT,(int)val); xlputstr(fptr,buf);
+    sprintf(buf,AFMT,(unsigned long)val); xlputstr(fptr,buf);
     xlputc(fptr,'>');
 }
 
@@ -267,7 +267,7 @@ LOCAL void putclosure(LVAL fptr, LVAL va
     else
         strcpy(buf,"#<Closure: #");
     xlputstr(fptr,buf);
-    sprintf(buf,AFMT,(int)val); xlputstr(fptr,buf);
+    sprintf(buf,AFMT,(unsigned long)val); xlputstr(fptr,buf);
     xlputc(fptr,'>');
 /*
     xlputstr(fptr,"\nName:   "); xlprint(fptr,getname(val),TRUE);

$OpenBSD: patch-src_input_mms_c,v 1.7 2009/02/02 22:00:42 sthen Exp $
--- src/input/mms.c.orig	Sun Jan  4 10:47:28 2009
+++ src/input/mms.c	Thu Jan  8 01:06:20 2009
@@ -48,6 +48,7 @@
 #include <iconv.h>
 #include <locale.h>
 #include <langinfo.h>
+#include <localcharset.h>
 #endif
 
 /********** logging **********/
@@ -290,7 +291,7 @@ static int send_command (mms_t *this, int command,
 
 #ifdef USE_ICONV
 static iconv_t string_utf16_open() {
-    return iconv_open("UTF-16LE", "UTF-8");
+    return iconv_open("UTF-16LE", locale_charset());
 }
 
 static void string_utf16_close(iconv_t url_conv) {

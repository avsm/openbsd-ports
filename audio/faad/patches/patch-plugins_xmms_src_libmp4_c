$OpenBSD: patch-plugins_xmms_src_libmp4_c,v 1.2 2008/09/15 21:58:19 jakemsr Exp $
--- plugins/xmms/src/libmp4.c.orig	Tue Jun  5 12:00:18 2007
+++ plugins/xmms/src/libmp4.c	Wed Jul 16 00:12:57 2008
@@ -290,7 +290,7 @@ static void *mp4Decode(void *args)
       NeAACDecHandle	decoder;
       unsigned char	*buffer	= NULL;
       guint		bufferSize = 0;
-      gulong		samplerate;
+      guint		samplerate;
       guchar		channels;
       //guint		avgBitrate;
       //MP4Duration	duration;
@@ -339,7 +339,7 @@ static void *mp4Decode(void *args)
       mp4_ip.output->open_audio(FMT_S16_NE, samplerate, channels);
       mp4_ip.output->flush(0);
       mp4_ip.set_info(xmmstitle, msDuration, -1, samplerate/1000, channels);
-      g_print("MP4 - %d channels @ %ld Hz\n", channels, samplerate);
+      g_print("MP4 - %d channels @ %d Hz\n", channels, samplerate);
 
       while(bPlaying){
 	void*			sampleBuffer;
@@ -414,8 +414,8 @@ end:
     FILE		*file = NULL;
     NeAACDecHandle	decoder = 0;
     guchar		*buffer = 0;
-    gulong		bufferconsumed = 0;
-    gulong		samplerate = 0;
+    gint		bufferconsumed = 0;
+    guint		samplerate = 0;
     guchar		channels;
     gulong		buffervalid = 0;
     TitleInput*		input;

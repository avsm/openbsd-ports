$OpenBSD: patch-main_asterisk_c,v 1.17 2010/11/16 21:58:52 sthen Exp $
--- main/asterisk.c.orig	Wed Sep  1 23:59:50 2010
+++ main/asterisk.c	Thu Nov 11 21:06:11 2010
@@ -1176,7 +1176,7 @@ static pthread_t lthread;
 static int read_credentials(int fd, char *buffer, size_t size, struct console *con)
 {
 #if defined(SO_PEERCRED)
-	struct ucred cred;
+	struct sockpeercred cred;
 	socklen_t len = sizeof(cred);
 #endif
 #if defined(HAVE_GETPEEREID)

$OpenBSD: patch-chrome_renderer_render_thread_cc,v 1.4 2011/04/29 13:18:01 robert Exp $
--- chrome/renderer/render_thread.cc.orig	Tue Apr 26 10:01:45 2011
+++ chrome/renderer/render_thread.cc	Thu Apr 28 11:17:49 2011
@@ -1009,7 +1009,7 @@ void RenderThread::EnsureWebKitInitialized() {
 }
 
 void RenderThread::IdleHandler() {
-#if (defined(OS_WIN) || defined(OS_LINUX)) && defined(USE_TCMALLOC)
+#if !defined(OS_MACOSX) && defined(USE_TCMALLOC)
   MallocExtension::instance()->ReleaseFreeMemory();
 #endif
 
@@ -1085,7 +1085,7 @@ void RenderThread::OnPurgeMemory() {
   while (!v8::V8::IdleNotification()) {
   }
 
-#if (defined(OS_WIN) || defined(OS_LINUX)) && defined(USE_TCMALLOC)
+#if !defined(OS_MACOSX) && defined(USE_TCMALLOC)
   // Tell tcmalloc to release any free pages it's still holding.
   MallocExtension::instance()->ReleaseFreeMemory();
 #endif

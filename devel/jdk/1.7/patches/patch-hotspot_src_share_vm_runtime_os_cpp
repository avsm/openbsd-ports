$OpenBSD: patch-hotspot_src_share_vm_runtime_os_cpp,v 1.2 2008/03/19 18:05:43 kurt Exp $
--- hotspot/src/share/vm/runtime/os.cpp.orig	Tue Oct 30 05:00:52 2007
+++ hotspot/src/share/vm/runtime/os.cpp	Wed Nov  7 15:26:54 2007
@@ -152,7 +152,11 @@ char* os::iso8601_time(char* buffer, size_t buffer_len
   }
   // Save the results of localtime
   const struct tm time_struct = *time_struct_temp;
+#if defined(_ALLBSD_SOURCE)
+  const time_t zone = (time_t) time_struct_temp->tm_gmtoff;
+#else
   const time_t zone = timezone;
+#endif
 
   // If daylight savings time is in effect,
   // we are 1 hour East of our time zone

$OpenBSD: patch-dovecot-example_conf,v 1.11 2005/10/20 18:28:48 brad Exp $
--- dovecot-example.conf.orig	Sun Oct 16 11:48:53 2005
+++ dovecot-example.conf	Thu Oct 20 14:02:48 2005
@@ -5,13 +5,12 @@
 # value inside quotes, eg.: key = "# char and trailing whitespace  "
 
 # Default values are shown after each value, it's not required to uncomment
-# any of the lines. Exception to this are paths, they're just examples
-# with real defaults being based on configure options. The paths listed here
-# are for configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var
-# --with-ssldir=/etc/ssl
+# any of the lines.
 
+# *** NOTE *** Some values HAVE been changed for OpenBSD use.
+
 # Base directory where to store runtime data.
-#base_dir = /var/run/dovecot/
+base_dir = /var/dovecot/
 
 # Protocols we want to be serving:
 #  imap imaps pop3 pop3s
@@ -37,7 +36,7 @@
 # dropping root privileges, so keep the key file unreadable by anyone but
 # root. Included doc/mkcert.sh can be used to easily generate self-signed
 # certificate, just make sure to update the domains in dovecot-openssl.cnf
-#ssl_cert_file = /etc/ssl/certs/dovecot.pem
+ssl_cert_file = /etc/ssl/dovecotcert.pem
 #ssl_key_file = /etc/ssl/private/dovecot.pem
 
 # File containing trusted SSL certificate authorities. Usually not needed.
@@ -48,7 +47,7 @@
 
 # SSL parameter file. Master process generates this file for login processes.
 # It contains Diffie Hellman and RSA parameters.
-#ssl_parameters_file = /var/run/dovecot/ssl-parameters.dat
+ssl_parameters_file = /var/dovecot/ssl-parameters.dat
 
 # How often to regenerate the SSL parameters file. Generation is quite CPU
 # intensive operation. The value is in hours, 0 disables regeneration
@@ -62,7 +61,7 @@
 # SSL/TLS is used (LOGINDISABLED capability). Note that 127.*.*.* and
 # IPv6 ::1 addresses are considered secure, this setting has no effect if
 # you connect from those addresses.
-#disable_plaintext_auth = yes
+disable_plaintext_auth = yes
 
 # Use this logfile instead of syslog(). /dev/stderr can be used if you want to
 # use stderr for logging (ONLY /dev/stderr - otherwise it is closed).
@@ -83,7 +82,7 @@
 # which login needs to be able to connect to. The sockets are created when
 # running as root, so you don't have to worry about permissions. Note that
 # everything in this directory is deleted when Dovecot is started.
-#login_dir = /var/run/dovecot/login
+login_dir = /var/dovecot/login
 
 # chroot login process to the login_dir. Only reason not to do this is if you
 # wish to run the whole Dovecot without roots.
@@ -95,7 +94,7 @@
 # only it has access, it's used to control access for authentication process.
 # Note that this user is NOT used to access mails.
 # http://wiki.dovecot.org/UserIds
-#login_user = dovecot
+login_user = _dovecot
 
 # Set max. process size in megabytes. If you don't use
 # login_process_per_connection you might need to grow this.
@@ -303,7 +302,7 @@
 
 # Don't write() to mmaped files. This is required for some operating systems
 # which use separate caches for them, such as OpenBSD.
-#mmap_no_write = no
+mmap_no_write = yes
 
 # Locking method for index files. Alternatives are fcntl, flock and dotlock.
 # Dotlocking uses some tricks which may create more disk I/O than other locking
@@ -391,12 +390,12 @@
 
 protocol imap {
   # Login executable location.
-  #login_executable = /usr/libexec/dovecot/imap-login
+  #login_executable = /usr/local/libexec/dovecot/imap-login
 
   # IMAP executable location
-  #mail_executable = /usr/libexec/dovecot/imap
+  #mail_executable = /usr/local/libexec/dovecot/imap
   # This would write rawlogs into ~/dovecot.rawlog/ directory:
-  #mail_executable = /usr/libexec/dovecot/rawlog /usr/libexec/dovecot/imap
+  #mail_executable = /usr/local/libexec/dovecot/rawlog /usr/local/libexec/dovecot/imap
 
   # Maximum IMAP command line length in bytes. Some clients generate very long
   # command lines with huge mailboxes, so you may need to raise this if you get
@@ -444,10 +443,10 @@ protocol imap {
 
 protocol pop3 {
   # Login executable location.
-  #login_executable = /usr/libexec/dovecot/pop3-login
+  #login_executable = /usr/local/libexec/dovecot/pop3-login
 
   # POP3 executable location
-  #mail_executable = /usr/libexec/dovecot/pop3
+  #mail_executable = /usr/local/libexec/dovecot/pop3
 
   # Don't try to set mails non-recent or seen with POP3 sessions. This is
   # mostly intended to reduce disk I/O. With maildir it doesn't move files
@@ -484,7 +483,7 @@ protocol pop3 {
   # installations. %08Xu%08Xv will be the new default, so use it for new
   # installations.
   #
-  #pop3_uidl_format = 
+  pop3_uidl_format = %08Xv%08Xu
 
   # POP3 logout format string:
   #  %t - number of TOP commands
@@ -515,7 +514,7 @@ protocol pop3 {
 ##
 
 # Executable location
-#auth_executable = /usr/libexec/dovecot/dovecot-auth
+#auth_executable = /usr/local/libexec/dovecot/dovecot-auth
 
 # Set max. process size in megabytes.
 #auth_process_size = 256
@@ -596,7 +595,7 @@ auth default {
   # Note that PAM can only be used to verify if user's password is correct,
   # so it can't be used as userdb. If you don't want to use a separate user
   # database (passwd usually), you can use static userdb.
-  passdb pam {
+  #passdb pam {
     # [-session] [cache_key=<key>] [<service name>]
     #
     # -session makes Dovecot open and immediately close PAM session. Some
@@ -616,13 +615,13 @@ auth default {
     # If service name is "*", it means the authenticating service name
     # is used, eg. pop3 or imap.
     #args = dovecot
-  }
+  #}
 
   # /etc/passwd or similar, using getpwnam()
   # In many systems nowadays this uses Name Service Switch, which is
   # configured in /etc/nsswitch.conf.
-  #passdb passwd {
-  #}
+  passdb passwd {
+  }
 
   # /etc/shadow or similiar, using getspnam(). Deprecated by PAM nowadays.
   #passdb shadow {

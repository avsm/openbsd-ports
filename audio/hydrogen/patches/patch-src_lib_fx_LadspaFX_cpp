$OpenBSD: patch-src_lib_fx_LadspaFX_cpp,v 1.3 2008/03/24 03:09:42 jakemsr Exp $
--- src/lib/fx/LadspaFX.cpp.orig	Tue Nov 22 14:57:34 2005
+++ src/lib/fx/LadspaFX.cpp	Sat Mar  1 00:55:49 2008
@@ -449,7 +449,7 @@ vector<LadspaFXInfo*> LadspaFX::getPluginList()
 		QDir dir( QString( sPluginDir.c_str() ) );
 		if (!dir.exists()) {
 			//Logger::getInstance()->log( "[LadspaFX::getPluginList] directory " + sPluginDir + " not found" );
-			return pluginList;
+			continue;
 		}
 
 		Logger::getInstance()->log( "[LadspaFX::getPluginList] reading directory: " + sPluginDir );
@@ -592,7 +592,7 @@ void LadspaFX::getRDF(LadspaFXGroup *pGroup, vector<La
 {
 	lrdf_init();
 
-	string sDir = "/usr/share/ladspa/rdf";
+	string sDir = string(CONFIG_PREFIX) + "/share/ladspa/rdf";
 
 	QDir dir( QString( sDir.c_str() ) );
 	if (!dir.exists()) {

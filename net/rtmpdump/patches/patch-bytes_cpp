$OpenBSD: patch-bytes_cpp,v 1.3 2009/04/29 01:39:16 sthen Exp $

- unbreak strict alignment big-endian

--- bytes.cpp.orig     Fri Mar 20 11:32:48 2009
+++ bytes.cpp  Wed Apr 29 01:45:47 2009
@@ -58,7 +58,9 @@ double ReadNumber(const char *data)
 {
 #if __FLOAT_WORD_ORDER == __BYTE_ORDER
 #if __BYTE_ORDER == __BIG_ENDIAN
-	return *((double *)data);
+	double val;
+	memcpy(&val, data, sizeof(double));
+	return val;
 #elif __BYTE_ORDER == __LITTLE_ENDIAN
 	uint64_t in  = *((uint64_t*)data);
 	uint64_t res = __bswap_64(in);

*** callbacks.c.orig	Wed May 20 03:00:20 1998
--- callbacks.c	Wed May 20 03:01:33 1998
***************
*** 454,461 ****
    if (wi->file == NULL) {
  
      /* create a temporary file */
!     printfile = tmpnam(0);
!     file = fopen(printfile, "w");
  
  #ifdef WIMPY_STDIO
      /* write stdin (line by line) to temporary file */
--- 454,461 ----
    if (wi->file == NULL) {
  
      /* create a temporary file */
!     printfile = strdup("/tmp/ab.XXXXXXXX");
!     file = fdopen(mkstemp(printfile), "w");
  
  #ifdef WIMPY_STDIO
      /* write stdin (line by line) to temporary file */

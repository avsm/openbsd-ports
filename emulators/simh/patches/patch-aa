# $NetBSD: patch-aa,v 1.2 1998/08/12 22:44:52 tv Exp $
# $OpenBSD: patch-aa,v 1.2 2000/01/26 13:52:40 form Exp $

--- scp.c.orig	Fri Sep  4 02:10:14 1998
+++ scp.c	Wed Jan 26 19:44:10 2000
@@ -248,7 +248,10 @@
 do {	printf ("sim> ");				/* prompt */
 	cptr = read_line (cbuf, CBUFSIZE, stdin);	/* read command line */
 	stat = SCPE_UNK;
-	if (cptr == NULL) continue;			/* ignore EOF */
+	if (cptr == NULL) {				/* ignore EOF */
+		puts("");
+		continue;
+	}
 	if (*cptr == 0) continue;			/* ignore blank */
 	cptr = get_glyph (cptr, gbuf, 0);		/* get command glyph */
 	for (i = 0; cmd_table[i].name != NULL; i++) {
@@ -903,7 +906,7 @@
 		    (UNIT_ATT + UNIT_SEQ))
 			fseek (uptr -> fileref, uptr -> pos, SEEK_SET);  }  }
 stop_cpu = 0;
-if ((int) signal (SIGINT, int_handler) == -1) {		/* set WRU */
+if (signal (SIGINT, int_handler) == (void *)-1) {		/* set WRU */
 	printf ("Simulator interrupt handler setup failed\n");
 	return SCPE_OK;  }
 if (ttrunstate () != SCPE_OK) {				/* set console */

$OpenBSD: patch-fsdiff_c,v 1.1.1.1 2004/06/26 19:00:48 sturm Exp $
--- fsdiff.c.orig	2004-03-11 14:43:58.000000000 -0500
+++ fsdiff.c	2004-06-08 15:52:01.000000000 -0400
@@ -60,13 +60,7 @@ fs_walk( char *path, int start, int fini
 	    }
 
 	    if ( ischild( tran->t_pinfo.pi_name, path )) {
-		/*
-		 * XXX
-		 * This strcpy() is not itself dangerous, because pi_name
-		 * is a MAXPATHLEN-sized buffer.  However, it does not appear
-		 * that copies into pi_name are carefully checked.
-		 */
-		strcpy( temp, tran->t_pinfo.pi_name );
+		(void)strlcpy( temp, tran->t_pinfo.pi_name, sizeof( temp ) );
 		fs_walk( temp, start, finish );
 	    } else {
 		return;

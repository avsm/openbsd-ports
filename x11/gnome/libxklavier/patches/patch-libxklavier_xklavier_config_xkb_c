--- libxklavier/xklavier_config_xkb.c.orig	Wed Dec  1 21:18:58 2004
+++ libxklavier/xklavier_config_xkb.c	Wed Dec  1 21:19:34 2004
@@ -31,6 +31,8 @@
 static XkbComponentNamesRec componentNames;
 #endif
 
+XkbRF_RulesPtr rulesPtr;
+
 static char *locale;
 
 static char* _XklGetRulesSetName( void )
@@ -187,7 +189,8 @@
     XklDebug( 100, "!!! Checking multiple layouts support\n" );
     supportState = NON_SUPPORTED;
 #ifdef XKB_HEADERS_PRESENT
-    XkbRF_RulesPtr rulesPtr = _XklLoadRulesSet();
+
+    rulesPtr = _XklLoadRulesSet();
     if ( rulesPtr )
     {
       XkbRF_VarDefsRec varDefs;

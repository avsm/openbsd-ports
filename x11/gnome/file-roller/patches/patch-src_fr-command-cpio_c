$OpenBSD: patch-src_fr-command-cpio_c,v 1.1 2008/12/27 10:50:54 ajacoutot Exp $
--- src/fr-command-cpio.c.orig	Sat Dec 27 11:31:05 2008
+++ src/fr-command-cpio.c	Sat Dec 27 11:31:46 2008
@@ -176,7 +176,7 @@ fr_command_cpio_list (FrCommand  *comm)
 
 	fr_process_begin_command (comm->process, "sh");
 	fr_process_add_arg (comm->process, "-c");
-	fr_process_add_arg_concat (comm->process, "cpio -itv < ", comm->e_filename, NULL);
+	fr_process_add_arg_concat (comm->process, "gcpio -itv < ", comm->e_filename, NULL);
 	fr_process_end_command (comm->process);
 	fr_process_start (comm->process);
 }
@@ -199,7 +199,7 @@ fr_command_cpio_extract (FrCommand *comm,
                 fr_process_set_working_dir (comm->process, dest_dir);
 	fr_process_add_arg (comm->process, "-c");
 	
-	cmd = g_string_new ("cpio -idu ");
+	cmd = g_string_new ("gcpio -idu ");
 	for (scan = file_list; scan; scan = scan->next) {
 		char *filename = g_shell_quote (scan->data);
 		g_string_append (cmd, filename);
@@ -233,7 +233,7 @@ fr_command_cpio_get_capabilities (FrCommand  *comm,
 	FrCommandCap capabilities;
 
 	capabilities = FR_COMMAND_CAN_ARCHIVE_MANY_FILES;
-	if (is_program_in_path ("cpio"))
+	if (is_program_in_path ("gcpio"))
 		capabilities |= FR_COMMAND_CAN_READ;
 
 	return capabilities;

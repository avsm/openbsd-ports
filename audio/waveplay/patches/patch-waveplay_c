$OpenBSD: patch-waveplay_c,v 1.1 2001/07/29 01:13:50 pvalchev Exp $
--- waveplay.c.orig	Sat Dec  9 06:27:25 2000
+++ waveplay.c	Sat Jul 28 18:53:44 2001
@@ -13,6 +13,8 @@
 
 #if defined (__FreeBSD__)
 #include <machine/soundcard.h>
+#elif defined (__OpenBSD__)
+#include <soundcard.h>
 #elif defined (linux)
 #include <linux/soundcard.h>
 #endif
@@ -20,7 +22,7 @@
 #include "wavefmt.h"
 
 #ifndef DEFAULT_DSP
-#define DEFAULT_DSP "/dev/dsp"
+#define DEFAULT_DSP "/dev/audio"
 #endif
 
 #ifndef DEFAULT_BUFFERSIZE
@@ -301,7 +303,7 @@ int openDSP(const char* devname, PWAVEFO
 
 int closeDSP(int fd)
 {
-    ioctl(fd, SNDCTL_DSP_SYNC);
+    ioctl(fd, SNDCTL_DSP_SYNC, NULL);
     return close(fd);
 }
 

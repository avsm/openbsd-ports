$OpenBSD: patch-lib_sedit_tcl,v 1.1 2001/07/12 21:51:19 lebel Exp $
--- lib/sedit.tcl.orig	Fri Jun 29 00:30:10 2001
+++ lib/sedit.tcl	Fri Jun 29 00:31:18 2001
@@ -500,6 +500,7 @@ proc SeditSendOnly { draft t } {
 	}
 	SeditMsg $t "Sending message..."
 	SeditMarkSent $t
+	set action $exmh($id,action)
 	set time [time [list Edit_Done send $id]]
 	Exmh_Debug Message sent $time
 	SeditMsg $t "Message sent $time"
@@ -507,6 +508,7 @@ proc SeditSendOnly { draft t } {
 	if {! $sedit($t,keep)} {
 	    SeditNuke $draft $t
 	} else {
+	    set exmh($id,action) $action
 	    SeditSave $draft $t		;# Restore draft deleted by MH
 	    set mhProfile(sendasync) $async
 	    $sedit($t,toplevel).but.send config -state normal

$OpenBSD: patch-objreq_c,v 1.3 2005/02/24 22:24:55 fgsch Exp $
--- objreq.c.orig	Sun Jan  2 17:17:26 2005
+++ objreq.c	Mon Feb 21 12:15:47 2005
@@ -82,7 +82,7 @@ void auth_fn(struct dialog_data *dlg)
 
 int auth_cancel(struct dialog_data *dlg, struct dialog_item_data *item)
 {
-	struct object_request *rq = find_rq((long)dlg->dlg->udata2);
+	struct object_request *rq = find_rq((intptr_t)dlg->dlg->udata2);
 	if (rq) {
 		rq->state = O_OK;
 		if (rq->timer != -1) kill_timer(rq->timer);
@@ -95,7 +95,7 @@ int auth_cancel(struct dialog_data *dlg,
 
 int auth_ok(struct dialog_data *dlg, struct dialog_item_data *item)
 {
-	struct object_request *rq = find_rq((long)dlg->dlg->udata2);
+	struct object_request *rq = find_rq((intptr_t)dlg->dlg->udata2);
 	if (rq) {
 		struct auth_dialog *a = dlg->dlg->udata;
 		struct session *ses;
@@ -156,7 +156,7 @@ int auth_window(struct object_request *r
 	a->proxy = rq->stat.ce->http_code == 407;
 	a->realm = stracpy(realm);
 	d->udata = a;
-	d->udata2 = (void *)rq->count; /* 163: warning: cast to pointer from integer of different size */
+	d->udata2 = (void *)(intptr_t)rq->count;
 	if (rq->stat.ce->http_code == 401) d->title = TEXT(T_AUTHORIZATION_REQUIRED);
 	else d->title = TEXT(T_PROXY_AUTHORIZATION_REQUIRED);
 	d->fn = auth_fn;

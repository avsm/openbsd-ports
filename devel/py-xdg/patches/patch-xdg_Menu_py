$OpenBSD: patch-xdg_Menu_py,v 1.1.1.1 2008/04/16 12:05:28 jasper Exp $
--- xdg/Menu.py.orig	Thu Aug 11 13:37:48 2005
+++ xdg/Menu.py	Tue Apr 15 16:09:30 2008
@@ -494,8 +494,12 @@ def parse(filename=None):
 	if not filename:
 		filename = __getFileName("applications.menu")
 
+	# use gnome's if no filename given
 	if not filename:
-		raise ParsingError('File not found', "/etc/xdg/menus/applications.menu")
+		filename = __getFileName("gnome-applications.menu")
+
+	if not filename:
+		raise ParsingError('File not found', "!!SYSCONFDIR!!/xdg/menus/applications.menu")
 
 	# check if it is a .menu file
 	if not os.path.splitext(filename)[1] == ".menu":

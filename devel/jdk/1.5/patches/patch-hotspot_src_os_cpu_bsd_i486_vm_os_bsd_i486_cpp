$OpenBSD: patch-hotspot_src_os_cpu_bsd_i486_vm_os_bsd_i486_cpp,v 1.4 2006/01/22 22:46:31 kurt Exp $
--- hotspot/src/os_cpu/bsd_i486/vm/os_bsd_i486.cpp.orig	Thu Jan 19 21:50:33 2006
+++ hotspot/src/os_cpu/bsd_i486/vm/os_bsd_i486.cpp	Thu Jan 19 22:28:26 2006
@@ -292,10 +292,10 @@ void GetThreadPC_Callback::execute(OSThr
 // This is a "fast" implementation of fetch_top_frame that relies on the
 // new libthread APIs to get pc for a suspended thread
 // XXXBSD: This is Solaris specific.  Get rid or implement...
-ExtendedPC os::Bsd::fetch_top_frame_fast(Thread* thread, jint** sp, jint** fp) {
+ExtendedPC os::Bsd::fetch_top_frame_fast(Thread* thread, intptr_t** sp, intptr_t** fp) {
     ExtendedPC new_addr(NULL);
-    *sp   = (jint*)0;
-    *fp   = (jint*)0;
+    *sp   = (intptr_t*)0;
+    *fp   = (intptr_t*)0;
     return new_addr;  // bail out
 }
 
@@ -350,9 +350,12 @@ bool os::supports_sse() {
 
 bool os::is_allocatable(size_t bytes) {
 
+// XXXBSD: 1*G for OpenBSD or just check?
+#ifndef __OpenBSD__
   if (bytes < 2 * G) {
     return true;
   }
+#endif
 
   char* addr = reserve_memory(bytes, NULL);
 

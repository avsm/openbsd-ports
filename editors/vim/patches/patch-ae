--- ctags/entry.c.orig	Fri Sep 17 03:00:10 1999
+++ ctags/entry.c	Thu Dec  9 13:20:15 1999
@@ -408,7 +408,7 @@
      */
     if (TagsToStdout)
     {
-	TagFile.name = tmpnam(tempName);
+	TagFile.name = mkstemp(tempName);
 	TagFile.fp = fopen(TagFile.name, "w");
     }
     else
@@ -472,7 +472,7 @@
 {
     char tempName[L_tmpnam];
 
-    if (tmpnam(tempName) != NULL)
+    if (mkstemp(tempName) != NULL)
     {
 	copyFile(name, tempName, size);
 	copyFile(tempName, name, WHOLE_FILE);
@@ -564,7 +564,7 @@
 
 extern void beginEtagsFile()
 {
-    tmpnam(TagFile.etags.name);
+    mkstemp(TagFile.etags.name);
     TagFile.etags.fp = fopen(TagFile.etags.name, "w+b");
     if (TagFile.etags.fp == NULL)
 	error(FATAL | PERROR, "cannot open \"%s\"", TagFile.etags.name);

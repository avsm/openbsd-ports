$OpenBSD: patch-setup_py,v 1.2 2005/02/02 23:16:18 djm Exp $
--- setup.py.orig	Sat Jan 22 05:42:00 2005
+++ setup.py	Wed Feb  2 17:04:46 2005
@@ -77,7 +77,7 @@ data.extend(glob.glob('images/*.png'))
 data.extend(glob.glob('images/*.ppm'))
 data.append('.matplotlibrc')
 
-data_files=[('share/matplotlib', data),]
+data_files=[('share/py-matplotlib', data),]
 
 # Figure out which array packages to provide binary support for
 # and define the NUMERIX value: Numeric, numarray, or both.
@@ -148,14 +148,16 @@ if havedate: # dates require python23 da
 
 build_transforms(ext_modules, packages, NUMERIX)
 
-if BUILD_GTKAGG:
-    try:
-        import gtk
-    except ImportError:
-        print 'GTKAgg requires pygtk'
-        BUILD_GTKAGG=0
-    except RuntimeError:
-        print 'pygtk present but import failed'
+# Dependencies ensure that py-gtk2 exists, so this isn't necessary. Also, 
+# the "import gtk" tries to access $DISPLAY at build time!
+#if BUILD_GTKAGG:
+#    try:
+#        import gtk
+#    except ImportError:
+#        print 'GTKAgg requires pygtk'
+#        BUILD_GTKAGG=0
+#    except RuntimeError:
+#        print 'pygtk present but import failed'
 if BUILD_GTKAGG:
     BUILD_AGG = 1
     build_gtkagg(ext_modules, packages)

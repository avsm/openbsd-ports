$OpenBSD: patch-Utilities_cmtar_libtar_c,v 1.2 2006/07/31 23:55:52 espie Exp $
--- Utilities/cmtar/libtar.c.orig	Mon Jul 31 16:50:01 2006
+++ Utilities/cmtar/libtar.c	Tue Aug  1 00:37:04 2006
@@ -44,7 +44,7 @@
 # define cm_zlib_gzwrite gzwrite
 
 #else
-# include <cmzlib/zlib.h>
+# include <zlib.h>
 #endif
 #endif
 
@@ -117,7 +117,7 @@ static int libtar_gzopen(void* call_data
     }
 #endif
 
-  gzf->GZFile = cm_zlib_gzdopen(fd, gzoflags);
+  gzf->GZFile = gzdopen(fd, gzoflags);
   if (!gzf->GZFile)
   {
     errno = ENOMEM;
@@ -130,19 +130,19 @@ static int libtar_gzopen(void* call_data
 static int libtar_gzclose(void* call_data)
 {
   struct gzStruct* gzf = (struct gzStruct*)call_data;
-  return cm_zlib_gzclose(gzf->GZFile);
+  return gzclose(gzf->GZFile);
 }
 
 static ssize_t libtar_gzread(void* call_data, void* buf, size_t count)
 {
   struct gzStruct* gzf = (struct gzStruct*)call_data;
-  return cm_zlib_gzread(gzf->GZFile, buf, count);
+  return gzread(gzf->GZFile, buf, count);
 }
 
 static ssize_t libtar_gzwrite(void* call_data, const void* buf, size_t count)
 {
   struct gzStruct* gzf = (struct gzStruct*)call_data;
-  return cm_zlib_gzwrite(gzf->GZFile, (void*)buf, count);
+  return gzwrite(gzf->GZFile, (void*)buf, count);
 }
 
 tartype_t gztype = { 

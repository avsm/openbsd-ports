$OpenBSD: patch-app_file-operations_c,v 1.2 2002/07/30 06:51:15 wcobb Exp $
--- app/file-operations.c.orig	Sat Feb  9 12:20:12 2002
+++ app/file-operations.c	Tue Jul 30 02:47:43 2002
@@ -25,6 +25,7 @@
 
 #include <errno.h>
 #include <dirent.h>
+#include <unistd.h>
 
 #include "i18n.h"
 #include <gdk/gdktypes.h>
@@ -214,7 +215,7 @@ void
 fileops_open_dialog (void *dummy,
 		     void *index)
 {
-    int n = (int)index;
+    int n = GPOINTER_TO_INT(index);
 
     if(!fileops_dialogs[n]) {
 	error_error(_("Operation not supported."));

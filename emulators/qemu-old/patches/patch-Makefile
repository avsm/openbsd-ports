$OpenBSD: patch-Makefile,v 1.1.1.1 2010/05/27 17:33:42 fgsch Exp $
--- Makefile.orig	Sun Jan  6 13:38:41 2008
+++ Makefile	Tue Jun 17 19:34:19 2008
@@ -57,7 +57,7 @@ OBJS+=i2c.o smbus.o smbus_eeprom.o max7310.o max111x.o
 OBJS+=ssd0303.o ssd0323.o ads7846.o stellaris_input.o
 OBJS+=scsi-disk.o cdrom.o
 OBJS+=scsi-generic.o
-OBJS+=usb.o usb-hub.o usb-linux.o usb-hid.o usb-msd.o usb-wacom.o
+OBJS+=usb.o usb-hub.o usb-$(HOST_USB).o usb-hid.o usb-msd.o usb-wacom.o
 OBJS+=sd.o ssi-sd.o
 
 ifdef CONFIG_WIN32
@@ -149,7 +149,7 @@ clean:
 	rm -f slirp/*.o slirp/*.d audio/*.o audio/*.d
 	$(MAKE) -C tests clean
 	for d in $(TARGET_DIRS); do \
-	$(MAKE) -C $$d $@ || exit 1 ; \
+	$(MAKE) -C $$d $@ || exit $$? ; \
         done
 
 distclean: clean
@@ -206,7 +206,7 @@ cscope:
 
 # documentation
 %.html: %.texi
-	texi2html -monolithic -number $<
+	-texi2html -monolithic -number $<
 
 %.info: %.texi
 	makeinfo $< -o $@

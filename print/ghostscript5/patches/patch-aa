--- unix-gcc.mak.orig	Sat Aug  9 20:27:58 1997
+++ unix-gcc.mak	Sun Aug 24 15:44:56 1997
@@ -1,3 +1,4 @@
+DEVICE_DEVS=x11.dev x11alpha.dev x11cmyk.dev x11gray2.dev x11mono.dev sxlcrt.dev ap3250.dev appledmp.dev bj10e.dev bj200.dev bjc600.dev bjc800.dev ccr.dev cdeskjet.dev cdjcolor.dev cdjmono.dev cdj500.dev cdj550.dev cdj850.dev cp50.dev declj250.dev deskjet.dev djet500.dev djet500c.dev dnj650c.dev epson.dev eps9mid.dev eps9high.dev epsonc.dev ibmpro.dev imagen.dev iwhi.dev iwlo.dev iwlq.dev jetp3852.dev laserjet.dev la50.dev la70.dev la75.dev la75plus.dev lbp8.dev lips3.dev ln03.dev lj250.dev ljet2p.dev ljet3.dev ljet3d.dev ljet4.dev lj4dith.dev ljetplus.dev lj5mono.dev lj5gray.dev lp2563.dev lp8000.dev m8510.dev necp6.dev oce9050.dev oki182.dev okiibm.dev paintjet.dev pj.dev pjetxl.dev pjxl.dev pjxl300.dev pxlmono.dev pxlcolor.dev r4081.dev sj48.dev st800.dev stcolor.dev t4693d2.dev t4693d4.dev t4693d8.dev tek4696.dev uniprint.dev xes.dev dfaxhigh.dev dfaxlow.dev faxg3.dev faxg32d.dev faxg4.dev tiffcrle.dev tiffg3.dev tiffg32d.dev tiffg4.dev epswrite.dev pdfwrite.dev pswrite.dev pxlmono.dev pxlcolor.dev bit.dev bitrgb.dev bitcmyk.dev bmpmono.dev bmp16.dev bmp256.dev bmp16m.dev cgmmono.dev cgm8.dev cgm24.dev cif.dev jpeg.dev jpeggray.dev miff24.dev mgrmono.dev mgrgray2.dev mgrgray4.dev mgrgray8.dev mgr4.dev mgr8.dev pdfwrite.dev pcxmono.dev pcxgray.dev pcx16.dev pcx256.dev pcx24b.dev pcxcmyk.dev pbm.dev pbmraw.dev pgm.dev pgmraw.dev pgnm.dev pgnmraw.dev pnm.dev pnmraw.dev ppm.dev ppmraw.dev pkm.dev pkmraw.dev pngmono.dev pnggray.dev png16.dev png256.dev png16m.dev psmono.dev psgray.dev sgirgb.dev tiff12nc.dev tiff24nc.dev tifflzw.dev tiffpack.dev
 #    Copyright (C) 1997 Aladdin Enterprises.  All rights reserved.
 # 
 # This file is part of Aladdin Ghostscript.
@@ -150,7 +151,7 @@
 # Define the directory where the zlib sources are stored.
 # See zlib.mak for more information.
 
-ZSRCDIR=zlib
+ZSRCDIR=.
 
 # Choose whether to use a shared version of the zlib library, and if so,
 # what its name is (usually libz, but sometimes libgz).
@@ -175,7 +176,7 @@
 
 # Define the name of the C compiler.
 
-CC=gcc
+CC=cc
 
 # Define the name of the linker for the final link step.
 # Normally this is the same as the C compiler.
@@ -217,7 +218,7 @@
 # SVR4 may need -lnsl.
 # (Libraries required by individual drivers are handled automatically.)
 
-EXTRALIBS=
+EXTRALIBS=-lz
 
 # Define the include switch(es) for the X11 header files.
 # This can be null if handled in some other way (e.g., the files are
@@ -227,7 +228,7 @@
 # Note that x_.h expects to find the header files in $(XINCLUDE)/X11,
 # not in $(XINCLUDE).
 
-XINCLUDE=-I/usr/local/X/include
+XINCLUDE=-I/usr/X11R6/include
 
 # Define the directory/ies and library names for the X11 library files.
 # XLIBDIRS is for ld and should include -L; XLIBDIR is for LD_RUN_PATH
@@ -242,7 +243,7 @@
 #XLIBS=Xt SM ICE Xext X11
 
 #XLIBDIRS=-L/usr/local/X/lib
-XLIBDIRS=-L/usr/X11/lib
+XLIBDIRS=-L/usr/X11R6/lib
 XLIBDIR=
 XLIBS=Xt Xext X11
 
@@ -286,22 +287,22 @@
 
 # Choose the device(s) to include.  See devs.mak for details.
 
-DEVICE_DEVS=x11.dev x11alpha.dev x11cmyk.dev x11gray2.dev x11mono.dev
-DEVICE_DEVS1=
-DEVICE_DEVS2=
-DEVICE_DEVS3=deskjet.dev djet500.dev laserjet.dev ljetplus.dev ljet2p.dev ljet3.dev ljet4.dev
-DEVICE_DEVS4=cdeskjet.dev cdjcolor.dev cdjmono.dev cdj550.dev pj.dev pjxl.dev pjxl300.dev
-DEVICE_DEVS5=uniprint.dev
-DEVICE_DEVS6=bj10e.dev bj200.dev bjc600.dev bjc800.dev
-DEVICE_DEVS7=faxg3.dev faxg32d.dev faxg4.dev
-DEVICE_DEVS8=pcxmono.dev pcxgray.dev pcx16.dev pcx256.dev pcx24b.dev pcxcmyk.dev
-DEVICE_DEVS9=pbm.dev pbmraw.dev pgm.dev pgmraw.dev pgnm.dev pgnmraw.dev pnm.dev pnmraw.dev ppm.dev ppmraw.dev
-DEVICE_DEVS10=tiffcrle.dev tiffg3.dev tiffg32d.dev tiffg4.dev tifflzw.dev tiffpack.dev
-DEVICE_DEVS11=tiff12nc.dev tiff24nc.dev
-DEVICE_DEVS12=psmono.dev psgray.dev bit.dev bitrgb.dev bitcmyk.dev
-DEVICE_DEVS13=pngmono.dev pnggray.dev png16.dev png256.dev png16m.dev
-DEVICE_DEVS14=jpeg.dev jpeggray.dev
-DEVICE_DEVS15=pdfwrite.dev pswrite.dev epswrite.dev pxlmono.dev pxlcolor.dev
+#DEVICE_DEVS=x11.dev x11alpha.dev x11cmyk.dev x11gray2.dev x11mono.dev
+#DEVICE_DEVS1=
+#DEVICE_DEVS2=
+#DEVICE_DEVS3=deskjet.dev djet500.dev laserjet.dev ljetplus.dev ljet2p.dev ljet3.dev ljet4.dev
+#DEVICE_DEVS4=cdeskjet.dev cdjcolor.dev cdjmono.dev cdj550.dev pj.dev pjxl.dev pjxl300.dev
+#DEVICE_DEVS5=uniprint.dev
+#DEVICE_DEVS6=bj10e.dev bj200.dev bjc600.dev bjc800.dev
+#DEVICE_DEVS7=faxg3.dev faxg32d.dev faxg4.dev
+#DEVICE_DEVS8=pcxmono.dev pcxgray.dev pcx16.dev pcx256.dev pcx24b.dev pcxcmyk.dev
+#DEVICE_DEVS9=pbm.dev pbmraw.dev pgm.dev pgmraw.dev pgnm.dev pgnmraw.dev pnm.dev pnmraw.dev ppm.dev ppmraw.dev
+#DEVICE_DEVS10=tiffcrle.dev tiffg3.dev tiffg32d.dev tiffg4.dev tifflzw.dev tiffpack.dev
+#DEVICE_DEVS11=tiff12nc.dev tiff24nc.dev
+#DEVICE_DEVS12=psmono.dev psgray.dev bit.dev bitrgb.dev bitcmyk.dev
+#DEVICE_DEVS13=pngmono.dev pnggray.dev png16.dev png256.dev png16m.dev
+#DEVICE_DEVS14=jpeg.dev jpeggray.dev
+#DEVICE_DEVS15=pdfwrite.dev pswrite.dev epswrite.dev pxlmono.dev pxlcolor.dev
 
 # ---------------------------- End of options --------------------------- #
 
@@ -3629,8 +3630,8 @@
 libpng95.dev: $(LIBPNG_MAK) $(ECHOGS_XE) pngwio.$(OBJ) crc32.dev
 	$(SETMOD) libpng95 pngwio.$(OBJ) -include crc32
 
-libpng96.dev: $(LIBPNG_MAK) $(ECHOGS_XE) pngwio.$(OBJ) crc32.dev
-	$(SETMOD) libpng96 pngwio.$(OBJ) -include crc32
+libpng96.dev: $(LIBPNG_MAK) $(ECHOGS_XE) pngwio.$(OBJ)
+	$(SETMOD) libpng96 pngwio.$(OBJ)
 #    Copyright (C) 1995, 1996, 1997 Aladdin Enterprises.  All rights reserved.
 # 
 # This file is part of Aladdin Ghostscript.
@@ -3711,7 +3712,7 @@
 zlibe_1.dev: $(MAKEFILE) $(ZLIB_MAK) $(ECHOGS_XE)
 	$(SETMOD) zlibe_1 -lib $(ZLIB_NAME)
 
-zlibe_=adler32.$(OBJ) deflate.$(OBJ) trees.$(OBJ)
+zlibe_=
 zlibe_0.dev: $(ZLIB_MAK) $(ECHOGS_XE) zlibc.dev $(zlibe_)
 	$(SETMOD) zlibe_0 $(zlibe_)
 	$(ADDMOD) zlibe_0 -include zlibc
@@ -3758,11 +3759,11 @@
 
 zlibd1_=infblock.$(OBJ) infcodes.$(OBJ) inffast.$(OBJ)
 zlibd2_=inflate.$(OBJ) inftrees.$(OBJ) infutil.$(OBJ)
-zlibd_ = $(zlibd1_) $(zlibd2_)
-zlibd_0.dev: $(ZLIB_MAK) $(ECHOGS_XE) zlibc.dev $(zlibd_)
-	$(SETMOD) zlibd_0 $(zlibd1_)
-	$(ADDMOD) zlibd_0 -obj $(zlibd2_)
-	$(ADDMOD) zlibd_0 -include zlibc
+zlibd_ =
+zlibd_0.dev: $(ZLIB_MAK) $(ECHOGS_XE) zlibc.dev
+	$(SETMOD) zlibd_0
+	$(ADDMOD) zlibd_0
+	$(ADDMOD) zlibd_0
 
 infblock.$(OBJ): $(ZSRC)infblock.c $(ZDEP) zutil.h
 	$(CP_) $(ZSRC)infblock.c .
@@ -4537,8 +4538,13 @@
 
 cdeskjet_=gdevcdj.$(OBJ) $(HPPCL)
 
+cdeskjet8_=gdevcd8.$(OBJ) $(HPPCL)
+
 cdeskjet.dev: $(cdeskjet_) page.dev
 	$(SETPDEV) cdeskjet $(cdeskjet_)
+
+cdj850.dev: $(cdeskjet8_) page.dev
+	$(SETPDEV) cdj850 $(cdeskjet8_)
 
 cdjcolor.dev: $(cdeskjet_) page.dev
 	$(SETPDEV) cdjcolor $(cdeskjet_)

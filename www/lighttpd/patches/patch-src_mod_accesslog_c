$OpenBSD: patch-src_mod_accesslog_c,v 1.1 2010/07/06 17:17:50 sthen Exp $
--- src/mod_accesslog.c.orig	Tue Jul  6 08:59:22 2010
+++ src/mod_accesslog.c	Tue Jul  6 09:01:04 2010
@@ -157,12 +157,14 @@ INIT_FUNC(mod_accesslog_init) {
 }
 
 static void accesslog_append_escaped(buffer *dest, buffer *str) {
+	unsigned int i;
+
 	/* replaces non-printable chars with \xHH where HH is the hex representation of the byte */
 	/* exceptions: " => \", \ => \\, whitespace chars => \n \t etc. */
 	if (str->used == 0) return;
 	buffer_prepare_append(dest, str->used - 1);
 
-	for (unsigned int i = 0; i < str->used - 1; i++) {
+	for (i = 0; i < str->used - 1; i++) {
 		if (str->ptr[i] >= ' ' && str->ptr[i] <= '~') {
 			/* printable chars */
 			buffer_append_string_len(dest, &str->ptr[i], 1);

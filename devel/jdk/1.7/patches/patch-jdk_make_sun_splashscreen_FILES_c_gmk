$OpenBSD: patch-jdk_make_sun_splashscreen_FILES_c_gmk,v 1.4 2009/10/07 01:53:54 kurt Exp $
--- jdk/make/sun/splashscreen/FILES_c.gmk.orig	Thu Sep 17 03:51:42 2009
+++ jdk/make/sun/splashscreen/FILES_c.gmk	Sat Sep 26 13:51:03 2009
@@ -49,18 +49,6 @@ FILES_c = \
 	dgif_lib.c \
 	gif_err.c \
 	gifalloc.c \
-	compress.c \
-	deflate.c \
-	gzio.c \
-	infback.c \
-	inffast.c \
-	inflate.c \
-	inftrees.c \
-	trees.c \
-	uncompr.c \
-	zadler32.c \
-	zcrc32.c \
-	zutil.c \
 	jcomapi.c \
 	jdapimin.c \
 	jdapistd.c \
@@ -106,3 +94,18 @@ FILES_c = \
 	jfdctfst.c \
 	jfdctint.c
 
+ifneq ($(SYSTEM_ZLIB),true)
+  FILES_c += \
+	compress.c \
+	deflate.c \
+	gzio.c \
+	infback.c \
+	inffast.c \
+	inflate.c \
+	inftrees.c \
+	trees.c \
+	uncompr.c \
+	zadler32.c \
+	zcrc32.c \
+	zutil.c
+endif

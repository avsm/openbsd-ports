$OpenBSD: patch-olimex_c,v 1.3 2010/12/02 18:41:46 jasper Exp $
--- olimex.c.orig	Mon Nov  8 22:40:57 2010
+++ olimex.c	Thu Dec  2 13:05:14 2010
@@ -66,7 +66,7 @@ struct olimex_transport {
 static int open_interface(struct olimex_transport *tr,
 			  struct usb_device *dev, int ino)
 {
-#if !(defined (__APPLE__) || defined(WIN32))
+#if defined(__linux__)
 	int drv;
 	char drName[256];
 #endif
@@ -82,7 +82,7 @@ static int open_interface(struct olimex_transport *tr,
 		return -1;
 	}
 
-#if !(defined(__APPLE__) || defined(WIN32))
+#if defined(__linux__)
 	drv = usb_get_driver_np(tr->handle, tr->int_number, drName,
 				sizeof(drName));
 	printc(__FILE__" : driver %d\n", drv);

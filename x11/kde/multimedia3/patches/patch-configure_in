$OpenBSD: patch-configure_in,v 1.3 2002/06/04 09:52:45 espie Exp $
--- configure.in.orig	Tue May 14 02:52:35 2002
+++ configure.in	Thu May 30 17:30:44 2002
@@ -1070,7 +1070,7 @@ dnl    else
 dnl      lib_xaw_opt=-lXaw
 dnl    fi
     EXTRATDEFS="$EXTRATDEFS -DIA_XAW"
-    EXTRATLIBS="$EXTRATLIBS $all_libraries -lXaw -lXt -lX11"
+    EXTRATLIBS="$EXTRATLIBS $all_libraries -lXaw -lXmu -lXt -lX11"
 dnl    if test "x$have_xext" = xyes; then
 dnl      a_so_libs="-lXext -lX11"
 dnl    else
@@ -1223,7 +1223,7 @@ dnl this does not work, but to have no e
 
 dnl Checks for header files.
 AC_CHECK_HEADERS(pthread.h pthread/mit/pthread.h)
-AC_CHECK_HEADERS(sys/soundcard.h machine/soundcard.h linux/soundcard.h)
+AC_CHECK_HEADERS(sys/soundcard.h machine/soundcard.h linux/soundcard.h soundcard.h)
 
 
 AC_C_BIGENDIAN
@@ -1401,8 +1401,13 @@ AC_MSG_RESULT($OS_TYPE)
 
 case "$ARCH_TYPE" in
   i?86)
-    AC_MSG_RESULT([Found Intel enable MMX support])
-    AC_DEFINE(INTEL,1,[Define if you have an INTEL and may have MMX])
+    case "$OS_TYPE" in
+    OpenBSD) ;;
+    *)
+	AC_MSG_RESULT([Found Intel enable MMX support])
+	AC_DEFINE(INTEL,1,[Define if you have an INTEL and may have MMX])
+	;;
+    esac
     ;; 
 
   *)
@@ -1417,6 +1422,9 @@ case "$OS_TYPE" in
   FreeBSD)
     kde_mpeglib_compiles=yes
     ;;
+  OpenBSD)
+    kde_mpeglib_compiles=yes
+    ;;
   Linux)
     kde_mpeglib_compiles=yes
     ;;
@@ -1444,6 +1452,12 @@ case "$OS_TYPE" in
   Linux)
     AC_CHECK_LIB(pthread, pthread_create, [LIBPTHREAD="-lpthread"])
     AC_DEFINE(OS_Linux,1,[Define if you have linux pthread])
+    ;;
+
+  OpenBSD)
+    OS_TYPE="BSD"
+    AC_CHECK_LIB(c_r, pthread_create, [LIBPTHREAD="-pthread"])
+    AC_DEFINE(OS_BSD,1,[Define if you have BSD pthread])
     ;;
 
   FreeBSD)

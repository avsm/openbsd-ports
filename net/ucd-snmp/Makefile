# 
# $OpenBSD: Makefile,v 1.9 2000/05/31 16:13:08 hugh Exp $
# 

DISTNAME=		ucd-snmp-4.1.2
CATEGORIES=     	net
NEED_VERSION=		1.283
HOMEPAGE=		http://ucd-snmp.ucdavis.edu/
MAINTAINER=		danh@nfol.com

LICENCE_TYPE=		BSD
PERMIT_PACKAGE_CDROM=	Yes 
PERMIT_PACKAGE_FTP=	Yes 
PERMIT_DISTFILES_CDROM=	Yes 
PERMIT_DISTFILES_FTP=	Yes 

MASTER_SITES=		ftp://ucd-snmp.ucdavis.edu/	\
		        ftp://sunsite.cnlab-switch.ch/mirror/ucd-snmp/

HAS_CONFIGURE=		Yes 
CONFIGURE_ARGS+=	--prefix='$${DESTDIR}${PREFIX}'
CONFIGURE_ARGS+=	--sysconfdir='/etc'
CONFIGURE_ARGS+=	--with-persistent-directory='/var/ucd-snmp'
CONFIGURE_ARGS+=	--with-sys-contact='<change_me>'
CONFIGURE_ARGS+=	--with-sys-location='<change_me>'
CONFIGURE_ARGS+=	--with-logfile='/var/log/snmpd'

FAKE=			Yes

BIN=            snmpbulkwalk snmpget snmpgetnext snmpnetstat snmpset    \
                snmpstatus snmptest snmptranslate snmptrap snmpwalk
SBIN=           snmpd snmptrapd

post-install:
	( cd ${PREFIX}/bin; strip ${BIN} )
	( cd ${PREFIX}/sbin; strip ${SBIN} )
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/ucd-snmp
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/ucd-snmp
	cd ${WRKSRC}; ${INSTALL_DATA} EXAMPLE.conf ${PREFIX}/share/examples/ucd-snmp
	cd ${WRKSRC}; ${INSTALL_DATA} README ${PREFIX}/share/doc/ucd-snmp
	cd ${WRKSRC}; ${INSTALL_DATA} README.snmpv3 ${PREFIX}/share/doc/ucd-snmp
	cd ${WRKSRC}; ${INSTALL_DATA} FAQ ${PREFIX}/share/doc/ucd-snmp
	cd ${WRKSRC}; ${INSTALL_DATA} AGENT.txt ${PREFIX}/share/doc/ucd-snmp

.include <bsd.port.mk>

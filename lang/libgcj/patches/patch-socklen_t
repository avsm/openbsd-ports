--- libjava/configure.orig	Mon Aug  2 02:14:40 1999
+++ libjava/configure	Mon Aug  2 23:32:17 1999
@@ -4630,11 +4630,12 @@
 fi
 rm -f conftest*
 
-echo $ac_n "checking for socklen_t in sys/socket.h""... $ac_c" 1>&6
-echo "configure:4635: checking for socklen_t in sys/socket.h" >&5
+echo $ac_n "checking for socklen_t in sys/socket.h or sys/types.h""... $ac_c" 1>&6
+echo "configure:4635: checking for socklen_t in sys/socket.h or sys/types.h" >&5
 cat > conftest.$ac_ext <<EOF
 #line 4637 "configure"
 #include "confdefs.h"
+#include <sys/types.h>
 #include <sys/socket.h>
 int main() {
 socklen_t x = 5;
--- ./libjava/configure.in.orig	Tue Apr 20 08:27:06 1999
+++ ./libjava/configure.in	Fri Apr 23 15:29:06 1999
@@ -338,8 +338,8 @@
    AC_MSG_RESULT(yes)],
   [AC_MSG_RESULT(no)])
 
-AC_MSG_CHECKING([for socklen_t in sys/socket.h])
-AC_TRY_COMPILE([#include <sys/socket.h>], [socklen_t x = 5;],
+AC_MSG_CHECKING([for socklen_t in sys/socket.h or sys/types.h])
+AC_TRY_COMPILE([#include <sys/types.h>], [#include <sys/socket.h>], [socklen_t x = 5;],
   [AC_DEFINE(HAVE_SOCKLEN_T)
    AC_MSG_RESULT(yes)],
   [AC_MSG_RESULT(no)])

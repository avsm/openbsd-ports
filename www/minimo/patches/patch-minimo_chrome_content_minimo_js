$OpenBSD: patch-minimo_chrome_content_minimo_js,v 1.5 2007/04/01 13:19:58 martynas Exp $
--- minimo/chrome/content/minimo.js.orig	Fri Feb 16 02:27:09 2007
+++ minimo/chrome/content/minimo.js	Sun Apr  1 13:48:18 2007
@@ -400,10 +400,6 @@ function MiniNavStartup()
       gPref = Components.classes["@mozilla.org/preferences-service;1"]
         .getService(nsIPrefBranch);
       var page = null;
-      try {
-        page = gPref.getCharPref("browser.startup.homepage.override");
-      } 
-      catch(e) {page=null;}
 
       try {
         gBackGroundColor = gPref.getCharPref("ui.chromebackgroundcolor");
@@ -413,8 +409,6 @@ function MiniNavStartup()
       if (page == null)
         page = gPref.getCharPref("browser.startup.homepage");
 
-      gPref.clearUserPref("browser.startup.homepage.override");
-
       if ( page.split("|").length > 1 ) {
            homepages = page.split("|");
       } else {
@@ -1629,7 +1623,8 @@ function FullScreenToggle()
 
 function DoFullScreen(fullscreen)
 {
-  document.getElementById("nav-bar").hidden = fullscreen;
+  // Do not hide the nav-bar in full screen mode.
+  // document.getElementById("nav-bar").hidden = fullscreen;
 
   // Show a Quit in the context menu
   document.getElementById("context_menu_quit").hidden = !fullscreen;
@@ -2275,7 +2270,7 @@ function BrowserFileOpen() {
   fp.init(window, null, nsIFilePicker.modeOpenMultiple);
 
   var fileCustomDirFile= refLocalFile.QueryInterface(nsILocalFile);
-  fileCustomDirFile.initWithPath("\\");
+  fileCustomDirFile.initWithPath("/");
   fp.displayDirectory = fileCustomDirFile;
 
   fp.appendFilters(nsIFilePicker.filterAll);

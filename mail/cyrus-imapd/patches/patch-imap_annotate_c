$OpenBSD: patch-imap_annotate_c,v 1.1 2010/10/29 09:26:58 ajacoutot Exp $
--- imap/annotate.c.orig	Sat Oct 23 12:48:46 2010
+++ imap/annotate.c	Sat Oct 23 12:49:34 2010
@@ -581,7 +581,7 @@ static void output_entryatt(const char *mboxname, cons
 	 * modifiedsince time */
 	if ((fdata->attribs & ATTRIB_MODIFIEDSINCE_SHARED)
 	    && attrib->value && attrib->modifiedsince) {
-	    snprintf(buf, sizeof(buf), "%ld", attrib->modifiedsince);
+	    snprintf(buf, sizeof(buf), "%ld", (long int)attrib->modifiedsince);
 	    appendattvalue(&attvalues, "modifiedsince.shared", buf);
 	}
     }
@@ -607,7 +607,7 @@ static void output_entryatt(const char *mboxname, cons
 	 * modifiedsince time */
 	if ((fdata->attribs & ATTRIB_MODIFIEDSINCE_PRIV)
 	    && attrib->value && attrib->modifiedsince) {
-	    snprintf(buf, sizeof(buf), "%ld", attrib->modifiedsince);
+	    snprintf(buf, sizeof(buf), "%ld", (long int)attrib->modifiedsince);
 	    appendattvalue(&attvalues, "modifiedsince.priv", buf);
 	}
     }

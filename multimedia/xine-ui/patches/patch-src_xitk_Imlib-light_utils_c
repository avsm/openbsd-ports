$OpenBSD: patch-src_xitk_Imlib-light_utils_c,v 1.2 2007/05/22 08:11:08 steven Exp $
--- src/xitk/Imlib-light/utils.c.orig	Thu Apr 20 21:02:13 2006
+++ src/xitk/Imlib-light/utils.c	Wed May 16 17:38:59 2007
@@ -154,7 +154,7 @@ Imlib_clone_image(ImlibData * id, ImlibImage * im)
   s = malloc(strlen(im->filename) + 320);
   if (s)
     {
-      snprintf(s, sizeof(s), "%s_%x_%x", im->filename, (int)time(NULL), (int)rand());
+      snprintf(s, strlen(im->filename) + 320, "%s_%x_%x", im->filename, (int)time(NULL), (int)rand());
       im2->filename = malloc(strlen(s) + 1);
       if (im2->filename)
 	strcpy(im2->filename, s);

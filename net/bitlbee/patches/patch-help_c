$OpenBSD: patch-help_c,v 1.2 2007/11/19 11:44:33 martynas Exp $
--- help.c.orig	Mon Aug 20 16:27:13 2007
+++ help.c	Mon Nov 19 13:39:01 2007
@@ -83,8 +83,7 @@ help_t *help_init( help_t **help )
 		}
 		h->string = g_new ( char, i );
 		
-		strncpy( h->string, s + 1, i - 1 );
-		h->string[i-1] = 0;
+		strlcpy( h->string, s + 1, i );
 		h->fd = (*help)->fd;
 		h->offset.file_offset = lseek( h->fd, 0, SEEK_CUR ) - buflen + i + 1;
 		h->length = t - s - i - 1;
@@ -138,7 +137,7 @@ char *help_get( help_t **help, char *string )
 		}
 		else
 		{
-			strncpy( s, h->offset.mem_offset, h->length );
+			strlcpy( s, h->offset.mem_offset, h->length + 1 );
 		}
 		return s;
 	}

$OpenBSD: patch-src_Makefile_in,v 1.2 2001/05/25 17:02:02 lebel Exp $

fixes for CXXFLAGS and GNU configure SEPARATE_BUILD support

--- src/Makefile.in.orig	Fri May 25 11:00:25 2001
+++ src/Makefile.in	Fri May 25 11:03:05 2001
@@ -191,7 +191,7 @@ bin_PROGRAMS = xxdiff
 # Nix all that, we can now use libstdc++.
 
 CXXFLAGS = @CXXFLAGS@  -I$(QTDIR)/include $(USER_INCLUDES) $(DEBUGFLAGS) $(COMPILER_MIPSPRO_CXXFLAGS) $(COMPILER_COMPAQCXX_CXXFLAGS) $(COMPILER_GNU_CXXFLAGS)
-LDFLAGS =  @LDFLAGS@ -L$(QTDIR)/lib $(USER_LDFLAGS) -L/usr/X11R6/lib
+LDFLAGS =  @LDFLAGS@ $(USER_LDFLAGS)
 
 ################################################################################
 # add support for automatically-generated code documentation
@@ -246,7 +246,7 @@ man_MANS = xxdiff.1
 xxdiff_METASOURCES = USE_AUTOMOC
 
 @DEBUG_TRUE@DEBUGFLAGS = -g
-@DEBUG_FALSE@DEBUGFLAGS = -O3 $(MIPSSTRIPFLAGS)
+@DEBUG_FALSE@DEBUGFLAGS = $(MIPSSTRIPFLAGS)
 
 #LINKSTATIC_LIBS = -Wl,-Bstatic -lqt -Wl,-Bdynamic
 #
@@ -284,7 +284,7 @@ LDADD =  $(COMPILER_MIPSPRO_LDADDA) $(CO
 
 # To allow for proper definition of XX_THROW_NOTHING
 @IS_COMPILER_COMPAQCXX_TRUE@COMPILER_COMPAQCXX_CXXFLAGS =  -using_std -D__USE_STD_IOSTREAM -DCOMPILER_COMPAQCXX
-@IS_COMPILER_GNU_TRUE@COMPILER_GNU_CXXFLAGS =  -Wall -DCOMPILER_GNU
+@IS_COMPILER_GNU_TRUE@COMPILER_GNU_CXXFLAGS = @CXXFLAGS@ -DCOMPILER_GNU
 @USE_STLPORT_TRUE@COMPILER_GNU_CXXFLAGS = -nostdinc++ -I/usr/include/stlport -D__SGI_STL_OWN_IOSTREAMS
 #COMPILER_GNU_CXXFLAGS += -D__STL_USE_OWN_NAMESPACE
 
@@ -609,10 +609,10 @@ ui_dialogs: $(UIDESIGNER_FILES)
 help.o: ../configure.in
 
 rcfileParser.lex.c rcfileParser.lex.h: rcfileParser.lex
-	flex -orcfileParser.lex.c rcfileParser.lex
+	flex -orcfileParser.lex.c $(srcdir)/rcfileParser.lex
 
 rcfileParser.y.c rcfileParser.y.h: rcfileParser.y
-	bison -d -orcfileParser.y.c rcfileParser.y
+	bison -d -orcfileParser.y.c $(srcdir)/rcfileParser.y
 
 rcfileParser.o: rcfileParser.y.c rcfileParser.lex.c
 

--- gdk/gdkimage.c.orig	Thu Apr 22 17:58:13 1999
+++ gdk/gdkimage.c	Thu Apr 22 17:58:52 1999
@@ -26,12 +26,14 @@
 
 #include <config.h>
 
+#ifdef __linux__
 /* gcc -ansi -pedantic on GNU/Linux causes warnings and errors
  * unless this is defined:
  * warning: #warning "Files using this header must be compiled with _SVID_SOURCE or _XOPEN_SOURCE"
  */
 #ifndef _XOPEN_SOURCE
 #  define _XOPEN_SOURCE 1
+#endif
 #endif
 
 #include <stdlib.h>

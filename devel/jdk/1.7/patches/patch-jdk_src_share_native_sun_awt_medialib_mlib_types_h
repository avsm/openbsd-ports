$OpenBSD: patch-jdk_src_share_native_sun_awt_medialib_mlib_types_h,v 1.2 2009/05/23 03:03:25 kurt Exp $
--- jdk/src/share/native/sun/awt/medialib/mlib_types.h.orig	Fri May  8 03:35:02 2009
+++ jdk/src/share/native/sun/awt/medialib/mlib_types.h	Mon May 18 16:31:45 2009
@@ -59,7 +59,10 @@ typedef double             mlib_d64;
 
 #if defined(__SUNPRO_C) || defined(__SUNPRO_CC) || defined(__GNUC__)
 
-#if defined(__linux__)
+#if defined(_ALLBSD_SOURCE)
+#include <stddef.h>                     /* for ptrdiff_t */
+#include <stdint.h>                     /* for uintptr_t */
+#elif defined(__linux__)
 #include <stdint.h>                     /* for uintptr_t */
 #include <malloc.h>                     /* for ptrdiff_t */
 #else

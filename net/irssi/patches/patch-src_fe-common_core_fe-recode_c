$OpenBSD: patch-src_fe-common_core_fe-recode_c,v 1.2 2008/12/22 19:40:33 matthieu Exp $
--- src/fe-common/core/fe-recode.c.orig	Sat Oct  6 11:38:19 2007
+++ src/fe-common/core/fe-recode.c	Wed Dec  3 21:35:58 2008
@@ -181,8 +181,8 @@ static void read_settings(void)
 		g_free(term_charset);
 #if defined (HAVE_NL_LANGINFO) && defined(CODESET)
 		term_charset = is_valid_charset(old_term_charset) ? g_strdup(old_term_charset) : 
-			       *nl_langinfo(CODESET) != '\0' ? g_strdup(nl_langinfo(CODESET)) : 
-			       "ISO8859-1";
+			       ((*nl_langinfo(CODESET) != '\0') && (strcmp(nl_langinfo(CODESET), "646") != 0)) ?
+			       g_strdup(nl_langinfo(CODESET)) : "ISO8859-1";
 #else
 		term_charset = is_valid_charset(old_term_charset) ? g_strdup(old_term_charset) : "ISO8859-1";
 #endif		
